3430418f75c7eb335d406f55e60a93f3
var easingTypes = require('tween-functions');

module.exports = function (config) {
  return new Tween(config);
};

function Tween(config) {
  this._rafLoop = this._rafLoop.bind(this);
  this.terminate = this.terminate.bind(this);
  this._t0 = Date.now();
  this._config = config;

  this._rafLoop();
}

Tween.prototype._rafLoop = function () {
  if (this._break) {
    return;
  }

  var _this$_config = this._config,
      duration = _this$_config.duration,
      start = _this$_config.start,
      end = _this$_config.end,
      easingType = _this$_config.easingType;
  var now = Date.now();
  var elapsed = now - this._t0;

  if (elapsed >= duration) {
    this._config.onFrame(end);

    this._config.onEnd();

    return;
  }

  var tweenVal = easingTypes[easingType](elapsed, start, end, duration);

  this._config.onFrame(tweenVal);

  requestAnimationFrame(this._rafLoop);
};

Tween.prototype.terminate = function () {
  this._break = true;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR3ZWVuZXIuanMiXSwibmFtZXMiOlsiZWFzaW5nVHlwZXMiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbmZpZyIsIlR3ZWVuIiwiX3JhZkxvb3AiLCJiaW5kIiwidGVybWluYXRlIiwiX3QwIiwiRGF0ZSIsIm5vdyIsIl9jb25maWciLCJwcm90b3R5cGUiLCJfYnJlYWsiLCJkdXJhdGlvbiIsInN0YXJ0IiwiZW5kIiwiZWFzaW5nVHlwZSIsImVsYXBzZWQiLCJvbkZyYW1lIiwib25FbmQiLCJ0d2VlblZhbCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsaUJBQUQsQ0FBekI7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixVQUFTQyxNQUFULEVBQWlCO0FBQ2pDLFNBQU8sSUFBSUMsS0FBSixDQUFVRCxNQUFWLENBQVA7QUFDQSxDQUZEOztBQUlBLFNBQVNDLEtBQVQsQ0FBZUQsTUFBZixFQUFzQjtBQUNyQixPQUFLRSxRQUFMLEdBQWdCLEtBQUtBLFFBQUwsQ0FBY0MsSUFBZCxDQUFtQixJQUFuQixDQUFoQjtBQUNBLE9BQUtDLFNBQUwsR0FBaUIsS0FBS0EsU0FBTCxDQUFlRCxJQUFmLENBQW9CLElBQXBCLENBQWpCO0FBRUEsT0FBS0UsR0FBTCxHQUFXQyxJQUFJLENBQUNDLEdBQUwsRUFBWDtBQUNBLE9BQUtDLE9BQUwsR0FBZVIsTUFBZjs7QUFDQSxPQUFLRSxRQUFMO0FBQ0E7O0FBRURELEtBQUssQ0FBQ1EsU0FBTixDQUFnQlAsUUFBaEIsR0FBMkIsWUFBVztBQUNyQyxNQUFJLEtBQUtRLE1BQVQsRUFBZ0I7QUFBRTtBQUFTOztBQURVLHNCQUdJLEtBQUtGLE9BSFQ7QUFBQSxNQUdoQ0csUUFIZ0MsaUJBR2hDQSxRQUhnQztBQUFBLE1BR3RCQyxLQUhzQixpQkFHdEJBLEtBSHNCO0FBQUEsTUFHZkMsR0FIZSxpQkFHZkEsR0FIZTtBQUFBLE1BR1ZDLFVBSFUsaUJBR1ZBLFVBSFU7QUFJckMsTUFBSVAsR0FBRyxHQUFHRCxJQUFJLENBQUNDLEdBQUwsRUFBVjtBQUNBLE1BQUlRLE9BQU8sR0FBR1IsR0FBRyxHQUFHLEtBQUtGLEdBQXpCOztBQUVBLE1BQUlVLE9BQU8sSUFBSUosUUFBZixFQUF3QjtBQUN2QixTQUFLSCxPQUFMLENBQWFRLE9BQWIsQ0FBcUJILEdBQXJCOztBQUNBLFNBQUtMLE9BQUwsQ0FBYVMsS0FBYjs7QUFDQTtBQUNBOztBQUVELE1BQUlDLFFBQVEsR0FBR3RCLFdBQVcsQ0FBQ2tCLFVBQUQsQ0FBWCxDQUF3QkMsT0FBeEIsRUFBaUNILEtBQWpDLEVBQXdDQyxHQUF4QyxFQUE2Q0YsUUFBN0MsQ0FBZjs7QUFDQSxPQUFLSCxPQUFMLENBQWFRLE9BQWIsQ0FBcUJFLFFBQXJCOztBQUVBQyxFQUFBQSxxQkFBcUIsQ0FBQyxLQUFLakIsUUFBTixDQUFyQjtBQUNBLENBakJEOztBQW1CQUQsS0FBSyxDQUFDUSxTQUFOLENBQWdCTCxTQUFoQixHQUE0QixZQUFVO0FBQ3JDLE9BQUtNLE1BQUwsR0FBYyxJQUFkO0FBQ0EsQ0FGRCIsInNvdXJjZXNDb250ZW50IjpbInZhciBlYXNpbmdUeXBlcyA9IHJlcXVpcmUoJ3R3ZWVuLWZ1bmN0aW9ucycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGNvbmZpZykge1xuXHRyZXR1cm4gbmV3IFR3ZWVuKGNvbmZpZyk7XG59O1xuXG5mdW5jdGlvbiBUd2Vlbihjb25maWcpe1xuXHR0aGlzLl9yYWZMb29wID0gdGhpcy5fcmFmTG9vcC5iaW5kKHRoaXMpO1xuXHR0aGlzLnRlcm1pbmF0ZSA9IHRoaXMudGVybWluYXRlLmJpbmQodGhpcyk7XG5cblx0dGhpcy5fdDAgPSBEYXRlLm5vdygpO1xuXHR0aGlzLl9jb25maWcgPSBjb25maWc7XG5cdHRoaXMuX3JhZkxvb3AoKTtcbn1cblxuVHdlZW4ucHJvdG90eXBlLl9yYWZMb29wID0gZnVuY3Rpb24oKSB7XG5cdGlmICh0aGlzLl9icmVhayl7IHJldHVybjsgfVxuXG5cdHZhciB7ZHVyYXRpb24sIHN0YXJ0LCBlbmQsIGVhc2luZ1R5cGV9ID0gdGhpcy5fY29uZmlnO1xuXHR2YXIgbm93ID0gRGF0ZS5ub3coKTtcblx0dmFyIGVsYXBzZWQgPSBub3cgLSB0aGlzLl90MDtcblxuXHRpZiAoZWxhcHNlZCA+PSBkdXJhdGlvbil7XG5cdFx0dGhpcy5fY29uZmlnLm9uRnJhbWUoZW5kKTtcblx0XHR0aGlzLl9jb25maWcub25FbmQoKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgdHdlZW5WYWwgPSBlYXNpbmdUeXBlc1tlYXNpbmdUeXBlXShlbGFwc2VkLCBzdGFydCwgZW5kLCBkdXJhdGlvbik7XG5cdHRoaXMuX2NvbmZpZy5vbkZyYW1lKHR3ZWVuVmFsKTtcblxuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fcmFmTG9vcCk7XG59O1xuXG5Ud2Vlbi5wcm90b3R5cGUudGVybWluYXRlID0gZnVuY3Rpb24oKXtcblx0dGhpcy5fYnJlYWsgPSB0cnVlO1xufTtcbiJdfQ==