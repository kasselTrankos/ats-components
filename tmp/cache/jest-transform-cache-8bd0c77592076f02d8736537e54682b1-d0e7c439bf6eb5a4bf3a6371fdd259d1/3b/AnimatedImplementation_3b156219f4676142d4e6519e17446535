3df792992e4d7e78f9cdf4a6b75ddeae
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var _require = require('./AnimatedEvent'),
    AnimatedEvent = _require.AnimatedEvent,
    attachNativeEvent = _require.attachNativeEvent;

var AnimatedAddition = require('./nodes/AnimatedAddition');

var AnimatedDiffClamp = require('./nodes/AnimatedDiffClamp');

var AnimatedDivision = require('./nodes/AnimatedDivision');

var AnimatedInterpolation = require('./nodes/AnimatedInterpolation');

var AnimatedModulo = require('./nodes/AnimatedModulo');

var AnimatedMultiplication = require('./nodes/AnimatedMultiplication');

var AnimatedNode = require('./nodes/AnimatedNode');

var AnimatedProps = require('./nodes/AnimatedProps');

var AnimatedSubtraction = require('./nodes/AnimatedSubtraction');

var AnimatedTracking = require('./nodes/AnimatedTracking');

var AnimatedValue = require('./nodes/AnimatedValue');

var AnimatedValueXY = require('./nodes/AnimatedValueXY');

var DecayAnimation = require('./animations/DecayAnimation');

var SpringAnimation = require('./animations/SpringAnimation');

var TimingAnimation = require('./animations/TimingAnimation');

var createAnimatedComponent = require('./createAnimatedComponent');

var add = function add(a, b) {
  return new AnimatedAddition(a, b);
};

var subtract = function subtract(a, b) {
  return new AnimatedSubtraction(a, b);
};

var divide = function divide(a, b) {
  return new AnimatedDivision(a, b);
};

var multiply = function multiply(a, b) {
  return new AnimatedMultiplication(a, b);
};

var modulo = function modulo(a, modulus) {
  return new AnimatedModulo(a, modulus);
};

var diffClamp = function diffClamp(a, min, max) {
  return new AnimatedDiffClamp(a, min, max);
};

var _combineCallbacks = function _combineCallbacks(callback, config) {
  if (callback && config.onComplete) {
    return function () {
      config.onComplete && config.onComplete.apply(config, arguments);
      callback && callback.apply(void 0, arguments);
    };
  } else {
    return callback || config.onComplete;
  }
};

var maybeVectorAnim = function maybeVectorAnim(value, config, anim) {
  if (value instanceof AnimatedValueXY) {
    var configX = _objectSpread({}, config);

    var configY = _objectSpread({}, config);

    for (var key in config) {
      var _config$key = config[key],
          x = _config$key.x,
          y = _config$key.y;

      if (x !== undefined && y !== undefined) {
        configX[key] = x;
        configY[key] = y;
      }
    }

    var aX = anim(value.x, configX);
    var aY = anim(value.y, configY);
    return parallel([aX, aY], {
      stopTogether: false
    });
  }

  return null;
};

var spring = function spring(value, config) {
  var _start = function start(animatedValue, configuration, callback) {
    callback = _combineCallbacks(callback, configuration);
    var singleValue = animatedValue;
    var singleConfig = configuration;
    singleValue.stopTracking();

    if (configuration.toValue instanceof AnimatedNode) {
      singleValue.track(new AnimatedTracking(singleValue, configuration.toValue, SpringAnimation, singleConfig, callback));
    } else {
      singleValue.animate(new SpringAnimation(singleConfig), callback);
    }
  };

  return maybeVectorAnim(value, config, spring) || {
    start: function start(callback) {
      _start(value, config, callback);
    },
    stop: function stop() {
      value.stopAnimation();
    },
    reset: function reset() {
      value.resetAnimation();
    },
    _startNativeLoop: function _startNativeLoop(iterations) {
      var singleConfig = _objectSpread({}, config, {
        iterations: iterations
      });

      _start(value, singleConfig);
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return config.useNativeDriver || false;
    }
  };
};

var timing = function timing(value, config) {
  var _start2 = function start(animatedValue, configuration, callback) {
    callback = _combineCallbacks(callback, configuration);
    var singleValue = animatedValue;
    var singleConfig = configuration;
    singleValue.stopTracking();

    if (configuration.toValue instanceof AnimatedNode) {
      singleValue.track(new AnimatedTracking(singleValue, configuration.toValue, TimingAnimation, singleConfig, callback));
    } else {
      singleValue.animate(new TimingAnimation(singleConfig), callback);
    }
  };

  return maybeVectorAnim(value, config, timing) || {
    start: function start(callback) {
      _start2(value, config, callback);
    },
    stop: function stop() {
      value.stopAnimation();
    },
    reset: function reset() {
      value.resetAnimation();
    },
    _startNativeLoop: function _startNativeLoop(iterations) {
      var singleConfig = _objectSpread({}, config, {
        iterations: iterations
      });

      _start2(value, singleConfig);
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return config.useNativeDriver || false;
    }
  };
};

var decay = function decay(value, config) {
  var _start3 = function start(animatedValue, configuration, callback) {
    callback = _combineCallbacks(callback, configuration);
    var singleValue = animatedValue;
    var singleConfig = configuration;
    singleValue.stopTracking();
    singleValue.animate(new DecayAnimation(singleConfig), callback);
  };

  return maybeVectorAnim(value, config, decay) || {
    start: function start(callback) {
      _start3(value, config, callback);
    },
    stop: function stop() {
      value.stopAnimation();
    },
    reset: function reset() {
      value.resetAnimation();
    },
    _startNativeLoop: function _startNativeLoop(iterations) {
      var singleConfig = _objectSpread({}, config, {
        iterations: iterations
      });

      _start3(value, singleConfig);
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return config.useNativeDriver || false;
    }
  };
};

var sequence = function sequence(animations) {
  var current = 0;
  return {
    start: function start(callback) {
      var onComplete = function onComplete(result) {
        if (!result.finished) {
          callback && callback(result);
          return;
        }

        current++;

        if (current === animations.length) {
          callback && callback(result);
          return;
        }

        animations[current].start(onComplete);
      };

      if (animations.length === 0) {
        callback && callback({
          finished: true
        });
      } else {
        animations[current].start(onComplete);
      }
    },
    stop: function stop() {
      if (current < animations.length) {
        animations[current].stop();
      }
    },
    reset: function reset() {
      animations.forEach(function (animation, idx) {
        if (idx <= current) {
          animation.reset();
        }
      });
      current = 0;
    },
    _startNativeLoop: function _startNativeLoop() {
      throw new Error('Loops run using the native driver cannot contain Animated.sequence animations');
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return false;
    }
  };
};

var parallel = function parallel(animations, config) {
  var doneCount = 0;
  var hasEnded = {};
  var stopTogether = !(config && config.stopTogether === false);
  var result = {
    start: function start(callback) {
      if (doneCount === animations.length) {
        callback && callback({
          finished: true
        });
        return;
      }

      animations.forEach(function (animation, idx) {
        var cb = function cb(endResult) {
          hasEnded[idx] = true;
          doneCount++;

          if (doneCount === animations.length) {
            doneCount = 0;
            callback && callback(endResult);
            return;
          }

          if (!endResult.finished && stopTogether) {
            result.stop();
          }
        };

        if (!animation) {
          cb({
            finished: true
          });
        } else {
          animation.start(cb);
        }
      });
    },
    stop: function stop() {
      animations.forEach(function (animation, idx) {
        !hasEnded[idx] && animation.stop();
        hasEnded[idx] = true;
      });
    },
    reset: function reset() {
      animations.forEach(function (animation, idx) {
        animation.reset();
        hasEnded[idx] = false;
        doneCount = 0;
      });
    },
    _startNativeLoop: function _startNativeLoop() {
      throw new Error('Loops run using the native driver cannot contain Animated.parallel animations');
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return false;
    }
  };
  return result;
};

var delay = function delay(time) {
  return timing(new AnimatedValue(0), {
    toValue: 0,
    delay: time,
    duration: 0,
    useNativeDriver: false
  });
};

var stagger = function stagger(time, animations) {
  return parallel(animations.map(function (animation, i) {
    return sequence([delay(time * i), animation]);
  }));
};

var loop = function loop(animation) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref$iterations = _ref.iterations,
      iterations = _ref$iterations === void 0 ? -1 : _ref$iterations,
      _ref$resetBeforeItera = _ref.resetBeforeIteration,
      resetBeforeIteration = _ref$resetBeforeItera === void 0 ? true : _ref$resetBeforeItera;

  var isFinished = false;
  var iterationsSoFar = 0;
  return {
    start: function start(callback) {
      var restart = function restart() {
        var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
          finished: true
        };

        if (isFinished || iterationsSoFar === iterations || result.finished === false) {
          callback && callback(result);
        } else {
          iterationsSoFar++;
          resetBeforeIteration && animation.reset();
          animation.start(restart);
        }
      };

      if (!animation || iterations === 0) {
        callback && callback({
          finished: true
        });
      } else {
        if (animation._isUsingNativeDriver()) {
          animation._startNativeLoop(iterations);
        } else {
          restart();
        }
      }
    },
    stop: function stop() {
      isFinished = true;
      animation.stop();
    },
    reset: function reset() {
      iterationsSoFar = 0;
      isFinished = false;
      animation.reset();
    },
    _startNativeLoop: function _startNativeLoop() {
      throw new Error('Loops run using the native driver cannot contain Animated.loop animations');
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return animation._isUsingNativeDriver();
    }
  };
};

function forkEvent(event, listener) {
  if (!event) {
    return listener;
  } else if (event instanceof AnimatedEvent) {
    event.__addListener(listener);

    return event;
  } else {
    return function () {
      typeof event === 'function' && event.apply(void 0, arguments);
      listener.apply(void 0, arguments);
    };
  }
}

function unforkEvent(event, listener) {
  if (event && event instanceof AnimatedEvent) {
    event.__removeListener(listener);
  }
}

var event = function event(argMapping, config) {
  var animatedEvent = new AnimatedEvent(argMapping, config);

  if (animatedEvent.__isNative) {
    return animatedEvent;
  } else {
    return animatedEvent.__getHandler();
  }
};

module.exports = {
  Value: AnimatedValue,
  ValueXY: AnimatedValueXY,
  Interpolation: AnimatedInterpolation,
  Node: AnimatedNode,
  decay: decay,
  timing: timing,
  spring: spring,
  add: add,
  subtract: subtract,
  divide: divide,
  multiply: multiply,
  modulo: modulo,
  diffClamp: diffClamp,
  delay: delay,
  sequence: sequence,
  parallel: parallel,
  stagger: stagger,
  loop: loop,
  event: event,
  createAnimatedComponent: createAnimatedComponent,
  attachNativeEvent: attachNativeEvent,
  forkEvent: forkEvent,
  unforkEvent: unforkEvent,
  Event: AnimatedEvent,
  __PropsOnlyForTests: AnimatedProps
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuaW1hdGVkSW1wbGVtZW50YXRpb24uanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIkFuaW1hdGVkRXZlbnQiLCJhdHRhY2hOYXRpdmVFdmVudCIsIkFuaW1hdGVkQWRkaXRpb24iLCJBbmltYXRlZERpZmZDbGFtcCIsIkFuaW1hdGVkRGl2aXNpb24iLCJBbmltYXRlZEludGVycG9sYXRpb24iLCJBbmltYXRlZE1vZHVsbyIsIkFuaW1hdGVkTXVsdGlwbGljYXRpb24iLCJBbmltYXRlZE5vZGUiLCJBbmltYXRlZFByb3BzIiwiQW5pbWF0ZWRTdWJ0cmFjdGlvbiIsIkFuaW1hdGVkVHJhY2tpbmciLCJBbmltYXRlZFZhbHVlIiwiQW5pbWF0ZWRWYWx1ZVhZIiwiRGVjYXlBbmltYXRpb24iLCJTcHJpbmdBbmltYXRpb24iLCJUaW1pbmdBbmltYXRpb24iLCJjcmVhdGVBbmltYXRlZENvbXBvbmVudCIsImFkZCIsImEiLCJiIiwic3VidHJhY3QiLCJkaXZpZGUiLCJtdWx0aXBseSIsIm1vZHVsbyIsIm1vZHVsdXMiLCJkaWZmQ2xhbXAiLCJtaW4iLCJtYXgiLCJfY29tYmluZUNhbGxiYWNrcyIsImNhbGxiYWNrIiwiY29uZmlnIiwib25Db21wbGV0ZSIsIm1heWJlVmVjdG9yQW5pbSIsInZhbHVlIiwiYW5pbSIsImNvbmZpZ1giLCJjb25maWdZIiwia2V5IiwieCIsInkiLCJ1bmRlZmluZWQiLCJhWCIsImFZIiwicGFyYWxsZWwiLCJzdG9wVG9nZXRoZXIiLCJzcHJpbmciLCJzdGFydCIsImFuaW1hdGVkVmFsdWUiLCJjb25maWd1cmF0aW9uIiwic2luZ2xlVmFsdWUiLCJzaW5nbGVDb25maWciLCJzdG9wVHJhY2tpbmciLCJ0b1ZhbHVlIiwidHJhY2siLCJhbmltYXRlIiwic3RvcCIsInN0b3BBbmltYXRpb24iLCJyZXNldCIsInJlc2V0QW5pbWF0aW9uIiwiX3N0YXJ0TmF0aXZlTG9vcCIsIml0ZXJhdGlvbnMiLCJfaXNVc2luZ05hdGl2ZURyaXZlciIsInVzZU5hdGl2ZURyaXZlciIsInRpbWluZyIsImRlY2F5Iiwic2VxdWVuY2UiLCJhbmltYXRpb25zIiwiY3VycmVudCIsInJlc3VsdCIsImZpbmlzaGVkIiwibGVuZ3RoIiwiZm9yRWFjaCIsImFuaW1hdGlvbiIsImlkeCIsIkVycm9yIiwiZG9uZUNvdW50IiwiaGFzRW5kZWQiLCJjYiIsImVuZFJlc3VsdCIsImRlbGF5IiwidGltZSIsImR1cmF0aW9uIiwic3RhZ2dlciIsIm1hcCIsImkiLCJsb29wIiwicmVzZXRCZWZvcmVJdGVyYXRpb24iLCJpc0ZpbmlzaGVkIiwiaXRlcmF0aW9uc1NvRmFyIiwicmVzdGFydCIsImZvcmtFdmVudCIsImV2ZW50IiwibGlzdGVuZXIiLCJfX2FkZExpc3RlbmVyIiwidW5mb3JrRXZlbnQiLCJfX3JlbW92ZUxpc3RlbmVyIiwiYXJnTWFwcGluZyIsImFuaW1hdGVkRXZlbnQiLCJfX2lzTmF0aXZlIiwiX19nZXRIYW5kbGVyIiwibW9kdWxlIiwiZXhwb3J0cyIsIlZhbHVlIiwiVmFsdWVYWSIsIkludGVycG9sYXRpb24iLCJOb2RlIiwiRXZlbnQiLCJfX1Byb3BzT25seUZvclRlc3RzIl0sIm1hcHBpbmdzIjoiQUFVQTs7Ozs7Ozs7OztlQUUyQ0EsT0FBTyxDQUFDLGlCQUFELEM7SUFBM0NDLGEsWUFBQUEsYTtJQUFlQyxpQixZQUFBQSxpQjs7QUFDdEIsSUFBTUMsZ0JBQWdCLEdBQUdILE9BQU8sQ0FBQywwQkFBRCxDQUFoQzs7QUFDQSxJQUFNSSxpQkFBaUIsR0FBR0osT0FBTyxDQUFDLDJCQUFELENBQWpDOztBQUNBLElBQU1LLGdCQUFnQixHQUFHTCxPQUFPLENBQUMsMEJBQUQsQ0FBaEM7O0FBQ0EsSUFBTU0scUJBQXFCLEdBQUdOLE9BQU8sQ0FBQywrQkFBRCxDQUFyQzs7QUFDQSxJQUFNTyxjQUFjLEdBQUdQLE9BQU8sQ0FBQyx3QkFBRCxDQUE5Qjs7QUFDQSxJQUFNUSxzQkFBc0IsR0FBR1IsT0FBTyxDQUFDLGdDQUFELENBQXRDOztBQUNBLElBQU1TLFlBQVks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KGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICogQHByZXZlbnRNdW5nZVxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IHtBbmltYXRlZEV2ZW50LCBhdHRhY2hOYXRpdmVFdmVudH0gPSByZXF1aXJlKCcuL0FuaW1hdGVkRXZlbnQnKTtcbmNvbnN0IEFuaW1hdGVkQWRkaXRpb24gPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkQWRkaXRpb24nKTtcbmNvbnN0IEFuaW1hdGVkRGlmZkNsYW1wID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZERpZmZDbGFtcCcpO1xuY29uc3QgQW5pbWF0ZWREaXZpc2lvbiA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWREaXZpc2lvbicpO1xuY29uc3QgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZEludGVycG9sYXRpb24nKTtcbmNvbnN0IEFuaW1hdGVkTW9kdWxvID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZE1vZHVsbycpO1xuY29uc3QgQW5pbWF0ZWRNdWx0aXBsaWNhdGlvbiA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRNdWx0aXBsaWNhdGlvbicpO1xuY29uc3QgQW5pbWF0ZWROb2RlID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZE5vZGUnKTtcbmNvbnN0IEFuaW1hdGVkUHJvcHMgPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkUHJvcHMnKTtcbmNvbnN0IEFuaW1hdGVkU3VidHJhY3Rpb24gPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkU3VidHJhY3Rpb24nKTtcbmNvbnN0IEFuaW1hdGVkVHJhY2tpbmcgPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkVHJhY2tpbmcnKTtcbmNvbnN0IEFuaW1hdGVkVmFsdWUgPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkVmFsdWUnKTtcbmNvbnN0IEFuaW1hdGVkVmFsdWVYWSA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRWYWx1ZVhZJyk7XG5jb25zdCBEZWNheUFuaW1hdGlvbiA9IHJlcXVpcmUoJy4vYW5pbWF0aW9ucy9EZWNheUFuaW1hdGlvbicpO1xuY29uc3QgU3ByaW5nQW5pbWF0aW9uID0gcmVxdWlyZSgnLi9hbmltYXRpb25zL1NwcmluZ0FuaW1hdGlvbicpO1xuY29uc3QgVGltaW5nQW5pbWF0aW9uID0gcmVxdWlyZSgnLi9hbmltYXRpb25zL1RpbWluZ0FuaW1hdGlvbicpO1xuXG5jb25zdCBjcmVhdGVBbmltYXRlZENvbXBvbmVudCA9IHJlcXVpcmUoJy4vY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQnKTtcblxuaW1wb3J0IHR5cGUge1xuICBBbmltYXRpb25Db25maWcsXG4gIEVuZENhbGxiYWNrLFxuICBFbmRSZXN1bHQsXG59IGZyb20gJy4vYW5pbWF0aW9ucy9BbmltYXRpb24nO1xuaW1wb3J0IHR5cGUge1RpbWluZ0FuaW1hdGlvbkNvbmZpZ30gZnJvbSAnLi9hbmltYXRpb25zL1RpbWluZ0FuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7RGVjYXlBbmltYXRpb25Db25maWd9IGZyb20gJy4vYW5pbWF0aW9ucy9EZWNheUFuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7U3ByaW5nQW5pbWF0aW9uQ29uZmlnfSBmcm9tICcuL2FuaW1hdGlvbnMvU3ByaW5nQW5pbWF0aW9uJztcbmltcG9ydCB0eXBlIHtNYXBwaW5nLCBFdmVudENvbmZpZ30gZnJvbSAnLi9BbmltYXRlZEV2ZW50JztcblxuZXhwb3J0IHR5cGUgQ29tcG9zaXRlQW5pbWF0aW9uID0ge1xuICBzdGFydDogKGNhbGxiYWNrPzogP0VuZENhbGxiYWNrKSA9PiB2b2lkLFxuICBzdG9wOiAoKSA9PiB2b2lkLFxuICByZXNldDogKCkgPT4gdm9pZCxcbiAgX3N0YXJ0TmF0aXZlTG9vcDogKGl0ZXJhdGlvbnM/OiBudW1iZXIpID0+IHZvaWQsXG4gIF9pc1VzaW5nTmF0aXZlRHJpdmVyOiAoKSA9PiBib29sZWFuLFxufTtcblxuY29uc3QgYWRkID0gZnVuY3Rpb24oXG4gIGE6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbiAgYjogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuKTogQW5pbWF0ZWRBZGRpdGlvbiB7XG4gIHJldHVybiBuZXcgQW5pbWF0ZWRBZGRpdGlvbihhLCBiKTtcbn07XG5cbmNvbnN0IHN1YnRyYWN0ID0gZnVuY3Rpb24oXG4gIGE6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbiAgYjogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuKTogQW5pbWF0ZWRTdWJ0cmFjdGlvbiB7XG4gIHJldHVybiBuZXcgQW5pbWF0ZWRTdWJ0cmFjdGlvbihhLCBiKTtcbn07XG5cbmNvbnN0IGRpdmlkZSA9IGZ1bmN0aW9uKFxuICBhOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4gIGI6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbik6IEFuaW1hdGVkRGl2aXNpb24ge1xuICByZXR1cm4gbmV3IEFuaW1hdGVkRGl2aXNpb24oYSwgYik7XG59O1xuXG5jb25zdCBtdWx0aXBseSA9IGZ1bmN0aW9uKFxuICBhOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4gIGI6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbik6IEFuaW1hdGVkTXVsdGlwbGljYXRpb24ge1xuICByZXR1cm4gbmV3IEFuaW1hdGVkTXVsdGlwbGljYXRpb24oYSwgYik7XG59O1xuXG5jb25zdCBtb2R1bG8gPSBmdW5jdGlvbihhOiBBbmltYXRlZE5vZGUsIG1vZHVsdXM6IG51bWJlcik6IEFuaW1hdGVkTW9kdWxvIHtcbiAgcmV0dXJuIG5ldyBBbmltYXRlZE1vZHVsbyhhLCBtb2R1bHVzKTtcbn07XG5cbmNvbnN0IGRpZmZDbGFtcCA9IGZ1bmN0aW9uKFxuICBhOiBBbmltYXRlZE5vZGUsXG4gIG1pbjogbnVtYmVyLFxuICBtYXg6IG51bWJlcixcbik6IEFuaW1hdGVkRGlmZkNsYW1wIHtcbiAgcmV0dXJuIG5ldyBBbmltYXRlZERpZmZDbGFtcChhLCBtaW4sIG1heCk7XG59O1xuXG5jb25zdCBfY29tYmluZUNhbGxiYWNrcyA9IGZ1bmN0aW9uKFxuICBjYWxsYmFjazogP0VuZENhbGxiYWNrLFxuICBjb25maWc6IEFuaW1hdGlvbkNvbmZpZyxcbikge1xuICBpZiAoY2FsbGJhY2sgJiYgY29uZmlnLm9uQ29tcGxldGUpIHtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgIGNvbmZpZy5vbkNvbXBsZXRlICYmIGNvbmZpZy5vbkNvbXBsZXRlKC4uLmFyZ3MpO1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY2FsbGJhY2sgfHwgY29uZmlnLm9uQ29tcGxldGU7XG4gIH1cbn07XG5cbmNvbnN0IG1heWJlVmVjdG9yQW5pbSA9IGZ1bmN0aW9uKFxuICB2YWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSxcbiAgY29uZmlnOiBPYmplY3QsXG4gIGFuaW06ICh2YWx1ZTogQW5pbWF0ZWRWYWx1ZSwgY29uZmlnOiBPYmplY3QpID0+IENvbXBvc2l0ZUFuaW1hdGlvbixcbik6ID9Db21wb3NpdGVBbmltYXRpb24ge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBbmltYXRlZFZhbHVlWFkpIHtcbiAgICBjb25zdCBjb25maWdYID0gey4uLmNvbmZpZ307XG4gICAgY29uc3QgY29uZmlnWSA9IHsuLi5jb25maWd9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNvbmZpZykge1xuICAgICAgY29uc3Qge3gsIHl9ID0gY29uZmlnW2tleV07XG4gICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkICYmIHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25maWdYW2tleV0gPSB4O1xuICAgICAgICBjb25maWdZW2tleV0gPSB5O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhWCA9IGFuaW0oKHZhbHVlOiBBbmltYXRlZFZhbHVlWFkpLngsIGNvbmZpZ1gpO1xuICAgIGNvbnN0IGFZID0gYW5pbSgodmFsdWU6IEFuaW1hdGVkVmFsdWVYWSkueSwgY29uZmlnWSk7XG4gICAgLy8gV2UgdXNlIGBzdG9wVG9nZXRoZXI6IGZhbHNlYCBoZXJlIGJlY2F1c2Ugb3RoZXJ3aXNlIHRyYWNraW5nIHdpbGwgYnJlYWtcbiAgICAvLyBiZWNhdXNlIHRoZSBzZWNvbmQgYW5pbWF0aW9uIHdpbGwgZ2V0IHN0b3BwZWQgYmVmb3JlIGl0IGNhbiB1cGRhdGUuXG4gICAgcmV0dXJuIHBhcmFsbGVsKFthWCwgYVldLCB7c3RvcFRvZ2V0aGVyOiBmYWxzZX0pO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3Qgc3ByaW5nID0gZnVuY3Rpb24oXG4gIHZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZLFxuICBjb25maWc6IFNwcmluZ0FuaW1hdGlvbkNvbmZpZyxcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIGNvbnN0IHN0YXJ0ID0gZnVuY3Rpb24oXG4gICAgYW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSxcbiAgICBjb25maWd1cmF0aW9uOiBTcHJpbmdBbmltYXRpb25Db25maWcsXG4gICAgY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2ssXG4gICk6IHZvaWQge1xuICAgIGNhbGxiYWNrID0gX2NvbWJpbmVDYWxsYmFja3MoY2FsbGJhY2ssIGNvbmZpZ3VyYXRpb24pO1xuICAgIGNvbnN0IHNpbmdsZVZhbHVlOiBhbnkgPSBhbmltYXRlZFZhbHVlO1xuICAgIGNvbnN0IHNpbmdsZUNvbmZpZzogYW55ID0gY29uZmlndXJhdGlvbjtcbiAgICBzaW5nbGVWYWx1ZS5zdG9wVHJhY2tpbmcoKTtcbiAgICBpZiAoY29uZmlndXJhdGlvbi50b1ZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICBzaW5nbGVWYWx1ZS50cmFjayhcbiAgICAgICAgbmV3IEFuaW1hdGVkVHJhY2tpbmcoXG4gICAgICAgICAgc2luZ2xlVmFsdWUsXG4gICAgICAgICAgY29uZmlndXJhdGlvbi50b1ZhbHVlLFxuICAgICAgICAgIFNwcmluZ0FuaW1hdGlvbixcbiAgICAgICAgICBzaW5nbGVDb25maWcsXG4gICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaW5nbGVWYWx1ZS5hbmltYXRlKG5ldyBTcHJpbmdBbmltYXRpb24oc2luZ2xlQ29uZmlnKSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIChcbiAgICBtYXliZVZlY3RvckFuaW0odmFsdWUsIGNvbmZpZywgc3ByaW5nKSB8fCB7XG4gICAgICBzdGFydDogZnVuY3Rpb24oY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spOiB2b2lkIHtcbiAgICAgICAgc3RhcnQodmFsdWUsIGNvbmZpZywgY2FsbGJhY2spO1xuICAgICAgfSxcblxuICAgICAgc3RvcDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICAgIHZhbHVlLnN0b3BBbmltYXRpb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlc2V0OiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdmFsdWUucmVzZXRBbmltYXRpb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIF9zdGFydE5hdGl2ZUxvb3A6IGZ1bmN0aW9uKGl0ZXJhdGlvbnM/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc2luZ2xlQ29uZmlnID0gey4uLmNvbmZpZywgaXRlcmF0aW9uc307XG4gICAgICAgIHN0YXJ0KHZhbHVlLCBzaW5nbGVDb25maWcpO1xuICAgICAgfSxcblxuICAgICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29uZmlnLnVzZU5hdGl2ZURyaXZlciB8fCBmYWxzZTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xufTtcblxuY29uc3QgdGltaW5nID0gZnVuY3Rpb24oXG4gIHZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZLFxuICBjb25maWc6IFRpbWluZ0FuaW1hdGlvbkNvbmZpZyxcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIGNvbnN0IHN0YXJ0ID0gZnVuY3Rpb24oXG4gICAgYW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSxcbiAgICBjb25maWd1cmF0aW9uOiBUaW1pbmdBbmltYXRpb25Db25maWcsXG4gICAgY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2ssXG4gICk6IHZvaWQge1xuICAgIGNhbGxiYWNrID0gX2NvbWJpbmVDYWxsYmFja3MoY2FsbGJhY2ssIGNvbmZpZ3VyYXRpb24pO1xuICAgIGNvbnN0IHNpbmdsZVZhbHVlOiBhbnkgPSBhbmltYXRlZFZhbHVlO1xuICAgIGNvbnN0IHNpbmdsZUNvbmZpZzogYW55ID0gY29uZmlndXJhdGlvbjtcbiAgICBzaW5nbGVWYWx1ZS5zdG9wVHJhY2tpbmcoKTtcbiAgICBpZiAoY29uZmlndXJhdGlvbi50b1ZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICBzaW5nbGVWYWx1ZS50cmFjayhcbiAgICAgICAgbmV3IEFuaW1hdGVkVHJhY2tpbmcoXG4gICAgICAgICAgc2luZ2xlVmFsdWUsXG4gICAgICAgICAgY29uZmlndXJhdGlvbi50b1ZhbHVlLFxuICAgICAgICAgIFRpbWluZ0FuaW1hdGlvbixcbiAgICAgICAgICBzaW5nbGVDb25maWcsXG4gICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaW5nbGVWYWx1ZS5hbmltYXRlKG5ldyBUaW1pbmdBbmltYXRpb24oc2luZ2xlQ29uZmlnKSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIG1heWJlVmVjdG9yQW5pbSh2YWx1ZSwgY29uZmlnLCB0aW1pbmcpIHx8IHtcbiAgICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjayk6IHZvaWQge1xuICAgICAgICBzdGFydCh2YWx1ZSwgY29uZmlnLCBjYWxsYmFjayk7XG4gICAgICB9LFxuXG4gICAgICBzdG9wOiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdmFsdWUuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgfSxcblxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgICB2YWx1ZS5yZXNldEFuaW1hdGlvbigpO1xuICAgICAgfSxcblxuICAgICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24oaXRlcmF0aW9ucz86IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7Li4uY29uZmlnLCBpdGVyYXRpb25zfTtcbiAgICAgICAgc3RhcnQodmFsdWUsIHNpbmdsZUNvbmZpZyk7XG4gICAgICB9LFxuXG4gICAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb25maWcudXNlTmF0aXZlRHJpdmVyIHx8IGZhbHNlO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG59O1xuXG5jb25zdCBkZWNheSA9IGZ1bmN0aW9uKFxuICB2YWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSxcbiAgY29uZmlnOiBEZWNheUFuaW1hdGlvbkNvbmZpZyxcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIGNvbnN0IHN0YXJ0ID0gZnVuY3Rpb24oXG4gICAgYW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSxcbiAgICBjb25maWd1cmF0aW9uOiBEZWNheUFuaW1hdGlvbkNvbmZpZyxcbiAgICBjYWxsYmFjaz86ID9FbmRDYWxsYmFjayxcbiAgKTogdm9pZCB7XG4gICAgY2FsbGJhY2sgPSBfY29tYmluZUNhbGxiYWNrcyhjYWxsYmFjaywgY29uZmlndXJhdGlvbik7XG4gICAgY29uc3Qgc2luZ2xlVmFsdWU6IGFueSA9IGFuaW1hdGVkVmFsdWU7XG4gICAgY29uc3Qgc2luZ2xlQ29uZmlnOiBhbnkgPSBjb25maWd1cmF0aW9uO1xuICAgIHNpbmdsZVZhbHVlLnN0b3BUcmFja2luZygpO1xuICAgIHNpbmdsZVZhbHVlLmFuaW1hdGUobmV3IERlY2F5QW5pbWF0aW9uKHNpbmdsZUNvbmZpZyksIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIG1heWJlVmVjdG9yQW5pbSh2YWx1ZSwgY29uZmlnLCBkZWNheSkgfHwge1xuICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGNhbGxiYWNrPzogP0VuZENhbGxiYWNrKTogdm9pZCB7XG4gICAgICAgIHN0YXJ0KHZhbHVlLCBjb25maWcsIGNhbGxiYWNrKTtcbiAgICAgIH0sXG5cbiAgICAgIHN0b3A6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgICB2YWx1ZS5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICB9LFxuXG4gICAgICByZXNldDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICAgIHZhbHVlLnJlc2V0QW5pbWF0aW9uKCk7XG4gICAgICB9LFxuXG4gICAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbihpdGVyYXRpb25zPzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHNpbmdsZUNvbmZpZyA9IHsuLi5jb25maWcsIGl0ZXJhdGlvbnN9O1xuICAgICAgICBzdGFydCh2YWx1ZSwgc2luZ2xlQ29uZmlnKTtcbiAgICAgIH0sXG5cbiAgICAgIF9pc1VzaW5nTmF0aXZlRHJpdmVyOiBmdW5jdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy51c2VOYXRpdmVEcml2ZXIgfHwgZmFsc2U7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn07XG5cbmNvbnN0IHNlcXVlbmNlID0gZnVuY3Rpb24oXG4gIGFuaW1hdGlvbnM6IEFycmF5PENvbXBvc2l0ZUFuaW1hdGlvbj4sXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBsZXQgY3VycmVudCA9IDA7XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IGZ1bmN0aW9uKGNhbGxiYWNrPzogP0VuZENhbGxiYWNrKSB7XG4gICAgICBjb25zdCBvbkNvbXBsZXRlID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIGlmICghcmVzdWx0LmZpbmlzaGVkKSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50Kys7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IGFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhbmltYXRpb25zW2N1cnJlbnRdLnN0YXJ0KG9uQ29tcGxldGUpO1xuICAgICAgfTtcblxuICAgICAgaWYgKGFuaW1hdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHtmaW5pc2hlZDogdHJ1ZX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW5pbWF0aW9uc1tjdXJyZW50XS5zdGFydChvbkNvbXBsZXRlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoY3VycmVudCA8IGFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGFuaW1hdGlvbnNbY3VycmVudF0uc3RvcCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICBhbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbiwgaWR4KSA9PiB7XG4gICAgICAgIGlmIChpZHggPD0gY3VycmVudCkge1xuICAgICAgICAgIGFuaW1hdGlvbi5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGN1cnJlbnQgPSAwO1xuICAgIH0sXG5cbiAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0xvb3BzIHJ1biB1c2luZyB0aGUgbmF0aXZlIGRyaXZlciBjYW5ub3QgY29udGFpbiBBbmltYXRlZC5zZXF1ZW5jZSBhbmltYXRpb25zJyxcbiAgICAgICk7XG4gICAgfSxcblxuICAgIF9pc1VzaW5nTmF0aXZlRHJpdmVyOiBmdW5jdGlvbigpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICB9O1xufTtcblxudHlwZSBQYXJhbGxlbENvbmZpZyA9IHtcbiAgc3RvcFRvZ2V0aGVyPzogYm9vbGVhbiwgLy8gSWYgb25lIGlzIHN0b3BwZWQsIHN0b3AgYWxsLiAgZGVmYXVsdDogdHJ1ZVxufTtcbmNvbnN0IHBhcmFsbGVsID0gZnVuY3Rpb24oXG4gIGFuaW1hdGlvbnM6IEFycmF5PENvbXBvc2l0ZUFuaW1hdGlvbj4sXG4gIGNvbmZpZz86ID9QYXJhbGxlbENvbmZpZyxcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIGxldCBkb25lQ291bnQgPSAwO1xuICAvLyBNYWtlIHN1cmUgd2Ugb25seSBjYWxsIHN0b3AoKSBhdCBtb3N0IG9uY2UgZm9yIGVhY2ggYW5pbWF0aW9uXG4gIGNvbnN0IGhhc0VuZGVkID0ge307XG4gIGNvbnN0IHN0b3BUb2dldGhlciA9ICEoY29uZmlnICYmIGNvbmZpZy5zdG9wVG9nZXRoZXIgPT09IGZhbHNlKTtcblxuICBjb25zdCByZXN1bHQgPSB7XG4gICAgc3RhcnQ6IGZ1bmN0aW9uKGNhbGxiYWNrPzogP0VuZENhbGxiYWNrKSB7XG4gICAgICBpZiAoZG9uZUNvdW50ID09PSBhbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7ZmluaXNoZWQ6IHRydWV9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbiwgaWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNiID0gZnVuY3Rpb24oZW5kUmVzdWx0KSB7XG4gICAgICAgICAgaGFzRW5kZWRbaWR4XSA9IHRydWU7XG4gICAgICAgICAgZG9uZUNvdW50Kys7XG4gICAgICAgICAgaWYgKGRvbmVDb3VudCA9PT0gYW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGRvbmVDb3VudCA9IDA7XG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmRSZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZW5kUmVzdWx0LmZpbmlzaGVkICYmIHN0b3BUb2dldGhlcikge1xuICAgICAgICAgICAgcmVzdWx0LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCFhbmltYXRpb24pIHtcbiAgICAgICAgICBjYih7ZmluaXNoZWQ6IHRydWV9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbmltYXRpb24uc3RhcnQoY2IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICBhbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbiwgaWR4KSA9PiB7XG4gICAgICAgICFoYXNFbmRlZFtpZHhdICYmIGFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgIGhhc0VuZGVkW2lkeF0gPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uLCBpZHgpID0+IHtcbiAgICAgICAgYW5pbWF0aW9uLnJlc2V0KCk7XG4gICAgICAgIGhhc0VuZGVkW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgZG9uZUNvdW50ID0gMDtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0xvb3BzIHJ1biB1c2luZyB0aGUgbmF0aXZlIGRyaXZlciBjYW5ub3QgY29udGFpbiBBbmltYXRlZC5wYXJhbGxlbCBhbmltYXRpb25zJyxcbiAgICAgICk7XG4gICAgfSxcblxuICAgIF9pc1VzaW5nTmF0aXZlRHJpdmVyOiBmdW5jdGlvbigpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5jb25zdCBkZWxheSA9IGZ1bmN0aW9uKHRpbWU6IG51bWJlcik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIC8vIFdvdWxkIGJlIG5pY2UgdG8gbWFrZSBhIHNwZWNpYWxpemVkIGltcGxlbWVudGF0aW9uXG4gIHJldHVybiB0aW1pbmcobmV3IEFuaW1hdGVkVmFsdWUoMCksIHtcbiAgICB0b1ZhbHVlOiAwLFxuICAgIGRlbGF5OiB0aW1lLFxuICAgIGR1cmF0aW9uOiAwLFxuICAgIHVzZU5hdGl2ZURyaXZlcjogZmFsc2UsXG4gIH0pO1xufTtcblxuY29uc3Qgc3RhZ2dlciA9IGZ1bmN0aW9uKFxuICB0aW1lOiBudW1iZXIsXG4gIGFuaW1hdGlvbnM6IEFycmF5PENvbXBvc2l0ZUFuaW1hdGlvbj4sXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICByZXR1cm4gcGFyYWxsZWwoXG4gICAgYW5pbWF0aW9ucy5tYXAoKGFuaW1hdGlvbiwgaSkgPT4ge1xuICAgICAgcmV0dXJuIHNlcXVlbmNlKFtkZWxheSh0aW1lICogaSksIGFuaW1hdGlvbl0pO1xuICAgIH0pLFxuICApO1xufTtcblxudHlwZSBMb29wQW5pbWF0aW9uQ29uZmlnID0ge1xuICBpdGVyYXRpb25zOiBudW1iZXIsXG4gIHJlc2V0QmVmb3JlSXRlcmF0aW9uPzogYm9vbGVhbixcbn07XG5cbmNvbnN0IGxvb3AgPSBmdW5jdGlvbihcbiAgYW5pbWF0aW9uOiBDb21wb3NpdGVBbmltYXRpb24sXG4gIHtpdGVyYXRpb25zID0gLTEsIHJlc2V0QmVmb3JlSXRlcmF0aW9uID0gdHJ1ZX06IExvb3BBbmltYXRpb25Db25maWcgPSB7fSxcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIGxldCBpc0ZpbmlzaGVkID0gZmFsc2U7XG4gIGxldCBpdGVyYXRpb25zU29GYXIgPSAwO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjaykge1xuICAgICAgY29uc3QgcmVzdGFydCA9IGZ1bmN0aW9uKHJlc3VsdDogRW5kUmVzdWx0ID0ge2ZpbmlzaGVkOiB0cnVlfSk6IHZvaWQge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNGaW5pc2hlZCB8fFxuICAgICAgICAgIGl0ZXJhdGlvbnNTb0ZhciA9PT0gaXRlcmF0aW9ucyB8fFxuICAgICAgICAgIHJlc3VsdC5maW5pc2hlZCA9PT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVyYXRpb25zU29GYXIrKztcbiAgICAgICAgICByZXNldEJlZm9yZUl0ZXJhdGlvbiAmJiBhbmltYXRpb24ucmVzZXQoKTtcbiAgICAgICAgICBhbmltYXRpb24uc3RhcnQocmVzdGFydCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoIWFuaW1hdGlvbiB8fCBpdGVyYXRpb25zID09PSAwKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHtmaW5pc2hlZDogdHJ1ZX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbi5faXNVc2luZ05hdGl2ZURyaXZlcigpKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLl9zdGFydE5hdGl2ZUxvb3AoaXRlcmF0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdGFydCgpOyAvLyBTdGFydCBsb29waW5nIHJlY3Vyc2l2ZWx5IG9uIHRoZSBqcyB0aHJlYWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgIGlzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgYW5pbWF0aW9uLnN0b3AoKTtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgaXRlcmF0aW9uc1NvRmFyID0gMDtcbiAgICAgIGlzRmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIGFuaW1hdGlvbi5yZXNldCgpO1xuICAgIH0sXG5cbiAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0xvb3BzIHJ1biB1c2luZyB0aGUgbmF0aXZlIGRyaXZlciBjYW5ub3QgY29udGFpbiBBbmltYXRlZC5sb29wIGFuaW1hdGlvbnMnLFxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbi5faXNVc2luZ05hdGl2ZURyaXZlcigpO1xuICAgIH0sXG4gIH07XG59O1xuXG5mdW5jdGlvbiBmb3JrRXZlbnQoXG4gIGV2ZW50OiA/QW5pbWF0ZWRFdmVudCB8ID9GdW5jdGlvbixcbiAgbGlzdGVuZXI6IEZ1bmN0aW9uLFxuKTogQW5pbWF0ZWRFdmVudCB8IEZ1bmN0aW9uIHtcbiAgaWYgKCFldmVudCkge1xuICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgfSBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIEFuaW1hdGVkRXZlbnQpIHtcbiAgICBldmVudC5fX2FkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICB0eXBlb2YgZXZlbnQgPT09ICdmdW5jdGlvbicgJiYgZXZlbnQoLi4uYXJncyk7XG4gICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuZm9ya0V2ZW50KFxuICBldmVudDogP0FuaW1hdGVkRXZlbnQgfCA/RnVuY3Rpb24sXG4gIGxpc3RlbmVyOiBGdW5jdGlvbixcbik6IHZvaWQge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQgaW5zdGFuY2VvZiBBbmltYXRlZEV2ZW50KSB7XG4gICAgZXZlbnQuX19yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIH1cbn1cblxuY29uc3QgZXZlbnQgPSBmdW5jdGlvbihhcmdNYXBwaW5nOiBBcnJheTw/TWFwcGluZz4sIGNvbmZpZz86IEV2ZW50Q29uZmlnKTogYW55IHtcbiAgY29uc3QgYW5pbWF0ZWRFdmVudCA9IG5ldyBBbmltYXRlZEV2ZW50KGFyZ01hcHBpbmcsIGNvbmZpZyk7XG4gIGlmIChhbmltYXRlZEV2ZW50Ll9faXNOYXRpdmUpIHtcbiAgICByZXR1cm4gYW5pbWF0ZWRFdmVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYW5pbWF0ZWRFdmVudC5fX2dldEhhbmRsZXIoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBUaGUgYEFuaW1hdGVkYCBsaWJyYXJ5IGlzIGRlc2lnbmVkIHRvIG1ha2UgYW5pbWF0aW9ucyBmbHVpZCwgcG93ZXJmdWwsIGFuZFxuICogZWFzeSB0byBidWlsZCBhbmQgbWFpbnRhaW4uIGBBbmltYXRlZGAgZm9jdXNlcyBvbiBkZWNsYXJhdGl2ZSByZWxhdGlvbnNoaXBzXG4gKiBiZXR3ZWVuIGlucHV0cyBhbmQgb3V0cHV0cywgd2l0aCBjb25maWd1cmFibGUgdHJhbnNmb3JtcyBpbiBiZXR3ZWVuLCBhbmRcbiAqIHNpbXBsZSBgc3RhcnRgL2BzdG9wYCBtZXRob2RzIHRvIGNvbnRyb2wgdGltZS1iYXNlZCBhbmltYXRpb24gZXhlY3V0aW9uLlxuICogSWYgYWRkaXRpb25hbCB0cmFuc2Zvcm1zIGFyZSBhZGRlZCwgYmUgc3VyZSB0byBpbmNsdWRlIHRoZW0gaW5cbiAqIEFuaW1hdGVkTW9jay5qcyBhcyB3ZWxsLlxuICpcbiAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBTdGFuZGFyZCB2YWx1ZSBjbGFzcyBmb3IgZHJpdmluZyBhbmltYXRpb25zLiAgVHlwaWNhbGx5IGluaXRpYWxpemVkIHdpdGhcbiAgICogYG5ldyBBbmltYXRlZC5WYWx1ZSgwKTtgXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjdmFsdWVcbiAgICovXG4gIFZhbHVlOiBBbmltYXRlZFZhbHVlLFxuICAvKipcbiAgICogMkQgdmFsdWUgY2xhc3MgZm9yIGRyaXZpbmcgMkQgYW5pbWF0aW9ucywgc3VjaCBhcyBwYW4gZ2VzdHVyZXMuXG4gICAqXG4gICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZHZhbHVleHkuaHRtbFxuICAgKi9cbiAgVmFsdWVYWTogQW5pbWF0ZWRWYWx1ZVhZLFxuICAvKipcbiAgICogRXhwb3J0ZWQgdG8gdXNlIHRoZSBJbnRlcnBvbGF0aW9uIHR5cGUgaW4gZmxvdy5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNpbnRlcnBvbGF0aW9uXG4gICAqL1xuICBJbnRlcnBvbGF0aW9uOiBBbmltYXRlZEludGVycG9sYXRpb24sXG4gIC8qKlxuICAgKiBFeHBvcnRlZCBmb3IgZWFzZSBvZiB0eXBlIGNoZWNraW5nLiBBbGwgYW5pbWF0ZWQgdmFsdWVzIGRlcml2ZSBmcm9tIHRoaXNcbiAgICogY2xhc3MuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjbm9kZVxuICAgKi9cbiAgTm9kZTogQW5pbWF0ZWROb2RlLFxuXG4gIC8qKlxuICAgKiBBbmltYXRlcyBhIHZhbHVlIGZyb20gYW4gaW5pdGlhbCB2ZWxvY2l0eSB0byB6ZXJvIGJhc2VkIG9uIGEgZGVjYXlcbiAgICogY29lZmZpY2llbnQuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjZGVjYXlcbiAgICovXG4gIGRlY2F5LFxuICAvKipcbiAgICogQW5pbWF0ZXMgYSB2YWx1ZSBhbG9uZyBhIHRpbWVkIGVhc2luZyBjdXJ2ZS4gVGhlIEVhc2luZyBtb2R1bGUgaGFzIHRvbnMgb2ZcbiAgICogcHJlZGVmaW5lZCBjdXJ2ZXMsIG9yIHlvdSBjYW4gdXNlIHlvdXIgb3duIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI3RpbWluZ1xuICAgKi9cbiAgdGltaW5nLFxuICAvKipcbiAgICogQW5pbWF0ZXMgYSB2YWx1ZSBhY2NvcmRpbmcgdG8gYW4gYW5hbHl0aWNhbCBzcHJpbmcgbW9kZWwgYmFzZWQgb25cbiAgICogZGFtcGVkIGhhcm1vbmljIG9zY2lsbGF0aW9uLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI3NwcmluZ1xuICAgKi9cbiAgc3ByaW5nLFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFuaW1hdGVkIHZhbHVlIGNvbXBvc2VkIGZyb20gdHdvIEFuaW1hdGVkIHZhbHVlcyBhZGRlZFxuICAgKiB0b2dldGhlci5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNhZGRcbiAgICovXG4gIGFkZCxcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBbmltYXRlZCB2YWx1ZSBjb21wb3NlZCBieSBzdWJ0cmFjdGluZyB0aGUgc2Vjb25kIEFuaW1hdGVkXG4gICAqIHZhbHVlIGZyb20gdGhlIGZpcnN0IEFuaW1hdGVkIHZhbHVlLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI3N1YnRyYWN0XG4gICAqL1xuICBzdWJ0cmFjdCxcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBbmltYXRlZCB2YWx1ZSBjb21wb3NlZCBieSBkaXZpZGluZyB0aGUgZmlyc3QgQW5pbWF0ZWQgdmFsdWVcbiAgICogYnkgdGhlIHNlY29uZCBBbmltYXRlZCB2YWx1ZS5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNkaXZpZGVcbiAgICovXG4gIGRpdmlkZSxcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBbmltYXRlZCB2YWx1ZSBjb21wb3NlZCBmcm9tIHR3byBBbmltYXRlZCB2YWx1ZXMgbXVsdGlwbGllZFxuICAgKiB0b2dldGhlci5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNtdWx0aXBseVxuICAgKi9cbiAgbXVsdGlwbHksXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQW5pbWF0ZWQgdmFsdWUgdGhhdCBpcyB0aGUgKG5vbi1uZWdhdGl2ZSkgbW9kdWxvIG9mIHRoZVxuICAgKiBwcm92aWRlZCBBbmltYXRlZCB2YWx1ZS5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNtb2R1bG9cbiAgICovXG4gIG1vZHVsbyxcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEFuaW1hdGVkIHZhbHVlIHRoYXQgaXMgbGltaXRlZCBiZXR3ZWVuIDIgdmFsdWVzLiBJdCB1c2VzIHRoZVxuICAgKiBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGxhc3QgdmFsdWUgc28gZXZlbiBpZiB0aGUgdmFsdWUgaXMgZmFyIGZyb20gdGhlXG4gICAqIGJvdW5kcyBpdCB3aWxsIHN0YXJ0IGNoYW5naW5nIHdoZW4gdGhlIHZhbHVlIHN0YXJ0cyBnZXR0aW5nIGNsb3NlciBhZ2Fpbi5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNkaWZmY2xhbXBcbiAgICovXG4gIGRpZmZDbGFtcCxcblxuICAvKipcbiAgICogU3RhcnRzIGFuIGFuaW1hdGlvbiBhZnRlciB0aGUgZ2l2ZW4gZGVsYXkuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjZGVsYXlcbiAgICovXG4gIGRlbGF5LFxuICAvKipcbiAgICogU3RhcnRzIGFuIGFycmF5IG9mIGFuaW1hdGlvbnMgaW4gb3JkZXIsIHdhaXRpbmcgZm9yIGVhY2ggdG8gY29tcGxldGVcbiAgICogYmVmb3JlIHN0YXJ0aW5nIHRoZSBuZXh0LiBJZiB0aGUgY3VycmVudCBydW5uaW5nIGFuaW1hdGlvbiBpcyBzdG9wcGVkLCBub1xuICAgKiBmb2xsb3dpbmcgYW5pbWF0aW9ucyB3aWxsIGJlIHN0YXJ0ZWQuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjc2VxdWVuY2VcbiAgICovXG4gIHNlcXVlbmNlLFxuICAvKipcbiAgICogU3RhcnRzIGFuIGFycmF5IG9mIGFuaW1hdGlvbnMgYWxsIGF0IHRoZSBzYW1lIHRpbWUuIEJ5IGRlZmF1bHQsIGlmIG9uZVxuICAgKiBvZiB0aGUgYW5pbWF0aW9ucyBpcyBzdG9wcGVkLCB0aGV5IHdpbGwgYWxsIGJlIHN0b3BwZWQuIFlvdSBjYW4gb3ZlcnJpZGVcbiAgICogdGhpcyB3aXRoIHRoZSBgc3RvcFRvZ2V0aGVyYCBmbGFnLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI3BhcmFsbGVsXG4gICAqL1xuICBwYXJhbGxlbCxcbiAgLyoqXG4gICAqIEFycmF5IG9mIGFuaW1hdGlvbnMgbWF5IHJ1biBpbiBwYXJhbGxlbCAob3ZlcmxhcCksIGJ1dCBhcmUgc3RhcnRlZCBpblxuICAgKiBzZXF1ZW5jZSB3aXRoIHN1Y2Nlc3NpdmUgZGVsYXlzLiAgTmljZSBmb3IgZG9pbmcgdHJhaWxpbmcgZWZmZWN0cy5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNzdGFnZ2VyXG4gICAqL1xuICBzdGFnZ2VyLFxuICAvKipcbiAgICogTG9vcHMgYSBnaXZlbiBhbmltYXRpb24gY29udGludW91c2x5LCBzbyB0aGF0IGVhY2ggdGltZSBpdCByZWFjaGVzIHRoZVxuICAgKiBlbmQsIGl0IHJlc2V0cyBhbmQgYmVnaW5zIGFnYWluIGZyb20gdGhlIHN0YXJ0LlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI2xvb3BcbiAgICovXG4gIGxvb3AsXG5cbiAgLyoqXG4gICAqIFRha2VzIGFuIGFycmF5IG9mIG1hcHBpbmdzIGFuZCBleHRyYWN0cyB2YWx1ZXMgZnJvbSBlYWNoIGFyZyBhY2NvcmRpbmdseSxcbiAgICogdGhlbiBjYWxscyBgc2V0VmFsdWVgIG9uIHRoZSBtYXBwZWQgb3V0cHV0cy5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNldmVudFxuICAgKi9cbiAgZXZlbnQsXG5cbiAgLyoqXG4gICAqIE1ha2UgYW55IFJlYWN0IGNvbXBvbmVudCBBbmltYXRhYmxlLiAgVXNlZCB0byBjcmVhdGUgYEFuaW1hdGVkLlZpZXdgLCBldGMuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjY3JlYXRlYW5pbWF0ZWRjb21wb25lbnRcbiAgICovXG4gIGNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50LFxuXG4gIC8qKlxuICAgKiBJbXBlcmF0aXZlIEFQSSB0byBhdHRhY2ggYW4gYW5pbWF0ZWQgdmFsdWUgdG8gYW4gZXZlbnQgb24gYSB2aWV3LiBQcmVmZXJcbiAgICogdXNpbmcgYEFuaW1hdGVkLmV2ZW50YCB3aXRoIGB1c2VOYXRpdmVEcml2ZTogdHJ1ZWAgaWYgcG9zc2libGUuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjYXR0YWNobmF0aXZlZXZlbnRcbiAgICovXG4gIGF0dGFjaE5hdGl2ZUV2ZW50LFxuXG4gIC8qKlxuICAgKiBBZHZhbmNlZCBpbXBlcmF0aXZlIEFQSSBmb3Igc25vb3Bpbmcgb24gYW5pbWF0ZWQgZXZlbnRzIHRoYXQgYXJlIHBhc3NlZCBpblxuICAgKiB0aHJvdWdoIHByb3BzLiBVc2UgdmFsdWVzIGRpcmVjdGx5IHdoZXJlIHBvc3NpYmxlLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI2ZvcmtldmVudFxuICAgKi9cbiAgZm9ya0V2ZW50LFxuICB1bmZvcmtFdmVudCxcblxuICAvKipcbiAgICogRXhwb3NlIEV2ZW50IGNsYXNzLCBzbyBpdCBjYW4gYmUgdXNlZCBhcyBhIHR5cGUgZm9yIHR5cGUgY2hlY2tlcnMuXG4gICAqL1xuICBFdmVudDogQW5pbWF0ZWRFdmVudCxcblxuICBfX1Byb3BzT25seUZvclRlc3RzOiBBbmltYXRlZFByb3BzLFxufTtcbiJdfQ==