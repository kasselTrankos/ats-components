1d3e881d696d895701853475435e1564
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.resolveComponentStyle = resolveComponentStyle;

var _lodash = _interopRequireDefault(require("lodash"));

var _customMerge = _interopRequireDefault(require("./customMerge"));

function isStyleVariant(propertyName) {
  return /^\./.test(propertyName);
}

function isChildStyle(propertyName) {
  return /(^[^\.].*\.)|^\*$/.test(propertyName);
}

function splitStyle(style) {
  return _lodash["default"].reduce(style, function (result, value, key) {
    var styleSection = result.componentStyle;

    if (isStyleVariant(key)) {
      styleSection = result.styleVariants;
    } else if (isChildStyle(key)) {
      styleSection = result.childrenStyle;
    }

    styleSection[key] = value;
    return result;
  }, {
    componentStyle: {},
    styleVariants: {},
    childrenStyle: {}
  });
}

function resolveComponentStyle(componentName) {
  var styleNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var themeStyle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var parentStyle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
  var themeCache = arguments.length > 4 ? arguments[4] : undefined;
  var mergedStyle = (0, _customMerge["default"])(themeStyle, parentStyle[componentName]);
  styleNames.forEach(function (sn, index) {
    mergedStyle = (0, _customMerge["default"])(mergedStyle, themeStyle["" + sn]);
  });
  styleNames.forEach(function (sn, index) {
    mergedStyle = (0, _customMerge["default"])(mergedStyle, parentStyle["" + componentName + sn]);
  });
  var resolvedStyle = (0, _customMerge["default"])(mergedStyle, parentStyle[componentName]);
  styleNames.forEach(function (sn, index) {
    resolvedStyle = (0, _customMerge["default"])(resolvedStyle, mergedStyle["" + sn]);
  });
  styleNames.forEach(function (sn, index) {
    resolvedStyle = (0, _customMerge["default"])(resolvedStyle, parentStyle["" + componentName + sn]);
  });
  return resolvedStyle;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc29sdmVDb21wb25lbnRTdHlsZS5qcyJdLCJuYW1lcyI6WyJpc1N0eWxlVmFyaWFudCIsInByb3BlcnR5TmFtZSIsInRlc3QiLCJpc0NoaWxkU3R5bGUiLCJzcGxpdFN0eWxlIiwic3R5bGUiLCJfIiwicmVkdWNlIiwicmVzdWx0IiwidmFsdWUiLCJrZXkiLCJzdHlsZVNlY3Rpb24iLCJjb21wb25lbnRTdHlsZSIsInN0eWxlVmFyaWFudHMiLCJjaGlsZHJlblN0eWxlIiwicmVzb2x2ZUNvbXBvbmVudFN0eWxlIiwiY29tcG9uZW50TmFtZSIsInN0eWxlTmFtZXMiLCJ0aGVtZVN0eWxlIiwicGFyZW50U3R5bGUiLCJ0aGVtZUNhY2hlIiwibWVyZ2VkU3R5bGUiLCJmb3JFYWNoIiwic24iLCJpbmRleCIsInJlc29sdmVkU3R5bGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFXQSxTQUFTQSxjQUFULENBQXdCQyxZQUF4QixFQUFzQztBQUNwQyxTQUFPLE1BQU1DLElBQU4sQ0FBV0QsWUFBWCxDQUFQO0FBQ0Q7O0FBY0QsU0FBU0UsWUFBVCxDQUFzQkYsWUFBdEIsRUFBb0M7QUFDbEMsU0FBTyxvQkFBb0JDLElBQXBCLENBQXlCRCxZQUF6QixDQUFQO0FBQ0Q7O0FBV0QsU0FBU0csVUFBVCxDQUFvQkMsS0FBcEIsRUFBMkI7QUFDekIsU0FBT0MsbUJBQUVDLE1BQUYsQ0FDTEYsS0FESyxFQUVMLFVBQUNHLE1BQUQsRUFBU0MsS0FBVCxFQUFnQkMsR0FBaEIsRUFBd0I7QUFDdEIsUUFBSUMsWUFBWSxHQUFHSCxNQUFNLENBQUNJLGNBQTFCOztBQUNBLFFBQUlaLGNBQWMsQ0FBQ1UsR0FBRCxDQUFsQixFQUF5QjtBQUN2QkMsTUFBQUEsWUFBWSxHQUFHSCxNQUFNLENBQUNLLGFBQXRCO0FBQ0QsS0FGRCxNQUVPLElBQUlWLFlBQVksQ0FBQ08sR0FBRCxDQUFoQixFQUF1QjtBQUM1QkMsTUFBQUEsWUFBWSxHQUFHSCxNQUFNLENBQUNNLGFBQXRCO0FBQ0Q7O0FBQ0RILElBQUFBLFlBQVksQ0FBQ0QsR0FBRCxDQUFaLEdBQW9CRCxLQUFwQjtBQUNBLFdBQU9ELE1BQVA7QUFDRCxHQVhJLEVBWUw7QUFDRUksSUFBQUEsY0FBYyxFQUFFLEVBRGxCO0FBRUVDLElBQUFBLGFBQWEsRUFBRSxFQUZqQjtBQUdFQyxJQUFBQSxhQUFhLEVBQUU7QUFIakIsR0FaSyxDQUFQO0FBa0JEOztBQXlCTSxTQUFTQyxxQkFBVCxDQUNMQyxhQURLLEVBTUw7QUFBQSxNQUpBQyxVQUlBLHVFQUphLEVBSWI7QUFBQSxNQUhBQyxVQUdBLHVFQUhhLEVBR2I7QUFBQSxNQUZBQyxXQUVBLHVFQUZjLEVBRWQ7QUFBQSxNQURBQyxVQUNBO0FBVUEsTUFBSUMsV0FBVyxHQUFHLDZCQUFZSCxVQUFaLEVBQXdCQyxXQUFXLENBQUNILGFBQUQsQ0FBbkMsQ0FBbEI7QUFDQUMsRUFBQUEsVUFBVSxDQUFDSyxPQUFYLENBQW1CLFVBQUNDLEVBQUQsRUFBS0MsS0FBTCxFQUFlO0FBQ2hDSCxJQUFBQSxXQUFXLEdBQUcsNkJBQVlBLFdBQVosRUFBeUJILFVBQVUsTUFBSUssRUFBSixDQUFuQyxDQUFkO0FBQ0QsR0FGRDtBQUlBTixFQUFBQSxVQUFVLENBQUNLLE9BQVgsQ0FBbUIsVUFBQ0MsRUFBRCxFQUFLQyxLQUFMLEVBQWU7QUFDaENILElBQUFBLFdBQVcsR0FBRyw2QkFDWkEsV0FEWSxFQUVaRixXQUFXLE1BQUlILGFBQUosR0FBb0JPLEVBQXBCLENBRkMsQ0FBZDtBQUlELEdBTEQ7QUFtQkEsTUFBSUUsYUFBYSxHQUFHLDZCQUFZSixXQUFaLEVBQXlCRixXQUFXLENBQUNILGFBQUQsQ0FBcEMsQ0FBcEI7QUFFQUMsRUFBQUEsVUFBVSxDQUFDSyxPQUFYLENBQW1CLFVBQUNDLEVBQUQsRUFBS0MsS0FBTCxFQUFlO0FBQ2hDQyxJQUFBQSxhQUFhLEdBQUcsNkJBQVlBLGFBQVosRUFBMkJKLFdBQVcsTUFBSUUsRUFBSixDQUF0QyxDQUFoQjtBQUNELEdBRkQ7QUFJQU4sRUFBQUEsVUFBVSxDQUFDSyxPQUFYLENBQW1CLFVBQUNDLEVBQUQsRUFBS0MsS0FBTCxFQUFlO0FBQ2hDQyxJQUFBQSxhQUFhLEdBQUcsNkJBQ2RBLGFBRGMsRUFFZE4sV0FBVyxNQUFJSCxhQUFKLEdBQW9CTyxFQUFwQixDQUZHLENBQWhCO0FBSUQsR0FMRDtBQU9BLFNBQU9FLGFBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCBjdXN0b21NZXJnZSBmcm9tIFwiLi9jdXN0b21NZXJnZVwiO1xuXG4vKipcbiAqIE1hdGNoZXMgYW55IHN0eWxlIHByb3BlcnRpZXMgdGhhdCByZXByZXNlbnQgY29tcG9uZW50IHN0eWxlIHZhcmlhbnRzLlxuICogVGhvc2Ugc3R5bGVzIGNhbiBiZSBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQgYnkgdXNpbmcgdGhlIHN0eWxlTmFtZVxuICogcHJvcC4gQWxsIHN0eWxlIHZhcmlhbnQgcHJvcGVydHkgbmFtZXMgbXVzdCBzdGFydCB3aXRoIGEgc2luZ2xlICcuJ1xuICogY2hhcmFjdGVyLCBlLmcuLCAnLnZhcmlhbnQnLlxuICpcbiAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgVGhlIHN0eWxlIHByb3BlcnR5IG5hbWUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3R5bGUgcHJvcGVydHkgcmVwcmVzZW50cyBhIGNvbXBvbmVudCB2YXJpYW50LCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzU3R5bGVWYXJpYW50KHByb3BlcnR5TmFtZSkge1xuICByZXR1cm4gL15cXC4vLnRlc3QocHJvcGVydHlOYW1lKTtcbn1cblxuLyoqXG4gKiBNYXRjaGVzIGFueSBzdHlsZSBwcm9wZXJ0aWVzIHRoYXQgcmVwcmVzZW50IHN0eWxlIHJ1bGVzIHRoYXQgdGFyZ2V0IHRoZVxuICogY29tcG9uZW50IGNoaWxkcmVuLiBUaG9zZSBzdHlsZXMgY2FuIGhhdmUgdHdvIGZvcm1hdHMsIHRoZXkgY2FuIGVpdGhlclxuICogdGFyZ2V0IHRoZSBjb21wb25lbnRzIGJ5IGNvbXBvbmVudCBuYW1lICgnc2hvdXRlbS51aS5UZXh0JyksIG9yIGJ5IGNvbXBvbmVudFxuICogbmFtZSBhbmQgdmFyaWFudCAoJ3Nob3V0ZW0udWkuVGV4dC5saW5lLXRocm91Z2gnKS4gQmVzaWRlIHNwZWNpZnlpbmcgdGhlXG4gKiBjb21wb25lbnQgbmFtZSwgdGhvc2Ugc3R5bGVzIGNhbiBhbHNvIHRhcmdldCBhbnkgY29tcG9uZW50IGJ5IHVzaW5nIHRoZVxuICogJyonIHdpbGRjYXJkICgnKicsIG9yICcqLmxpbmUtdGhyb3VnaCcpLiBUaGUgcnVsZSB0byBpZGVudGlmeSB0aG9zZSBzdHlsZXMgaXNcbiAqIHRoYXQgdGhleSBoYXZlIHRvIGNvbnRhaW4gYSAnLicgY2hhcmFjdGVyIGluIHRoZWlyIG5hbWUgb3IgYmUgYSAnKicuXG4gKlxuICogQHBhcmFtIHByb3BlcnR5TmFtZSBUaGUgc3R5bGUgcHJvcGVydHkgbmFtZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzdHlsZSBwcm9wZXJ0eSByZXByZXNlbnRzIGEgY2hpbGQgc3R5bGUsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaXNDaGlsZFN0eWxlKHByb3BlcnR5TmFtZSkge1xuICByZXR1cm4gLyheW15cXC5dLipcXC4pfF5cXCokLy50ZXN0KHByb3BlcnR5TmFtZSk7XG59XG5cbi8qKlxuICogU3BsaXRzIHRoZSBzdHlsZSBpbnRvIGl0cyBwYXJ0czpcbiAqIGNvbXBvbmVudCBzdHlsZSAtIGNvbmNyZXRlIHN0eWxlIHRoYXQgbmVlZHMgdG8gYmUgYXBwbGllZCB0byBhIGNvbXBvbmVudFxuICogc3R5bGUgdmFyaWFudHMgLSB2YXJpYW50cyB0aGF0IGNhbiBiZSBhcHBsaWVkIHRvIGEgY29tcG9uZW50IGJ5IHVzaW5nIHN0eWxlTmFtZSBwcm9wXG4gKiBjaGlsZHJlbiBzdHlsZSAtIHN0eWxlIHJ1bGVzIHRoYXQgbmVlZCB0byBiZSBwcm9wYWdhdGVkIHRvIGNvbXBvbmVudCBjaGlsZHJlblxuICpcbiAqIEBwYXJhbSBzdHlsZSBUaGUgc3R5bGUgdG8gc3BsaXQuXG4gKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHdpdGggdGhlIGNvbXBvbmVudFN0eWxlLCBzdHlsZVZhcmlhbnRzLCBhbmQgY2hpbGRyZW5TdHlsZSBrZXlzLlxuICovXG5mdW5jdGlvbiBzcGxpdFN0eWxlKHN0eWxlKSB7XG4gIHJldHVybiBfLnJlZHVjZShcbiAgICBzdHlsZSxcbiAgICAocmVzdWx0LCB2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBsZXQgc3R5bGVTZWN0aW9uID0gcmVzdWx0LmNvbXBvbmVudFN0eWxlO1xuICAgICAgaWYgKGlzU3R5bGVWYXJpYW50KGtleSkpIHtcbiAgICAgICAgc3R5bGVTZWN0aW9uID0gcmVzdWx0LnN0eWxlVmFyaWFudHM7XG4gICAgICB9IGVsc2UgaWYgKGlzQ2hpbGRTdHlsZShrZXkpKSB7XG4gICAgICAgIHN0eWxlU2VjdGlvbiA9IHJlc3VsdC5jaGlsZHJlblN0eWxlO1xuICAgICAgfVxuICAgICAgc3R5bGVTZWN0aW9uW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICB7XG4gICAgICBjb21wb25lbnRTdHlsZToge30sXG4gICAgICBzdHlsZVZhcmlhbnRzOiB7fSxcbiAgICAgIGNoaWxkcmVuU3R5bGU6IHt9XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIFJlc29sdmVzIHRoZSBmaW5hbCBjb21wb25lbnQgc3R5bGUgYnkgbWVyZ2luZyBhbGwgb2YgdGhlIHN0eWxlcyB0aGF0IGNhbiBiZVxuICogYXBwbGllZCB0byBhIGNvbXBvbmVudCBpbiB0aGUgcHJvcGVyIG9yZGVyLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZXh0cmFjdHMgdGhlIGFwcGxpY2FibGUgcGFydHMgb2YgdGhlIHRoZW1lLCBwYXJlbnQgYW5kIGVsZW1lbnRcbiAqIHN0eWxlcywgYW5kIG1lcmdlcyB0aGUgc3R5bGVzIHRoYXQgdGFyZ2V0IHRoZSBjb21wb25lbnQsIGFuZCBjb21wb25lbnQgdmFyaWFudHNcbiAqIHdpdGggdGhvc2Ugc3R5bGVzIHRvIGdldCB0aGUgZmluYWwgc3R5bGUuXG4gKlxuICogVGhlIHN0eWxlcyBhcmUgbWVyZ2VkIGluIHRoZSBmb2xsb3dpbmcgb3JkZXIsIHdoZXJlIHRoZSBzdHlsZXMgd2l0aCB0aGVcbiAqIGhpZ2hlciBpbmRleCBvdmVycmlkZSB0aGUgc3R5bGVzIHdpdGggdGhlIGxvd2VyIG9uZTpcbiAqIDEuIFRoZW1lIGNvbXBvbmVudCBzdHlsZVxuICogMi4gUGFyZW50IGNvbXBvbmVudCBzdHlsZVxuICogMy4gVGhlbWUgc3R5bGUgdmFyaWFudHMgc3BlY2lmaWVkIHRocm91Z2ggc3R5bGVOYW1lXG4gKiA0LiBQYXJlbnQgc3R5bGUgdmFyaWFudHMgc3BlY2lmaWVkIHRocm91Z2ggc3R5bGVOYW1lXG4gKiA1LiBFbGVtZW50IHN0eWxlIHBhc3NlZCB0aHJvdWdoIHRoZSBzdHlsZSBwcm9wXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudE5hbWUgVGhlIGNvbXBvbmVudCBuYW1lICgnc2hvdXRlbS51aS5UZXh0JylcbiAqIEBwYXJhbSBzdHlsZU5hbWUgU3R5bGUgbmFtZXMgKCdsYXJnZSByb3VuZGVkJylcbiAqIEBwYXJhbSB0aGVtZVN0eWxlIFRoZSB0aGVtZSBzdHlsZSB0aGF0IHNob3VsZCBpbmNsdWRlIHRoZSB0aGVtZSBhbmQgYmFzZSBjb21wb25lbnQgc3R5bGVcbiAqIEBwYXJhbSBwYXJlbnRTdHlsZSBUaGUgc3R5bGUgcnVsZXMgaW5oZXJpdGVkIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnRcbiAqIEBwYXJhbSBlbGVtZW50U3R5bGUgVGhlIHN0eWxlIHBhc3NlZCB0aHJvdWdoIHRoZSBzdHlsZSBwcm9wIG9mIHRoZSBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt7Y29tcG9uZW50U3R5bGUsIGNoaWxkcmVuU3R5bGV9fSBUaGUgcmVzb2x2ZWQgY29tcG9uZW50IGFuZCBjaGlsZHJlbiBzdHlsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50U3R5bGUoXG4gIGNvbXBvbmVudE5hbWUsXG4gIHN0eWxlTmFtZXMgPSBbXSxcbiAgdGhlbWVTdHlsZSA9IHt9LFxuICBwYXJlbnRTdHlsZSA9IHt9LFxuICB0aGVtZUNhY2hlXG4pIHtcbiAgLy8gY29uc3QgbWVyZ2VkU3R5bGUgPSBfLm1lcmdlKHt9LFxuICAvLyAgIHRoZW1lU3R5bGUsXG4gIC8vICAgcGFyZW50U3R5bGVbJyonXSxcbiAgLy8gICBwYXJlbnRTdHlsZVtjb21wb25lbnROYW1lXSxcbiAgLy8gICAuLi5fLm1hcChzdHlsZU5hbWVzLCAoc24pID0+IHRoZW1lU3R5bGVbYC4ke3NufWBdKSxcbiAgLy8gICAuLi5fLm1hcChzdHlsZU5hbWVzLCAoc24pID0+IHBhcmVudFN0eWxlW2AqLiR7c259YF0pLFxuICAvLyAgIC4uLl8ubWFwKHN0eWxlTmFtZXMsIChzbikgPT4gcGFyZW50U3R5bGVbYCR7Y29tcG9uZW50TmFtZX0uJHtzbn1gXSlcbiAgLy8gKTtcblxuICBsZXQgbWVyZ2VkU3R5bGUgPSBjdXN0b21NZXJnZSh0aGVtZVN0eWxlLCBwYXJlbnRTdHlsZVtjb21wb25lbnROYW1lXSk7XG4gIHN0eWxlTmFtZXMuZm9yRWFjaCgoc24sIGluZGV4KSA9PiB7XG4gICAgbWVyZ2VkU3R5bGUgPSBjdXN0b21NZXJnZShtZXJnZWRTdHlsZSwgdGhlbWVTdHlsZVtgJHtzbn1gXSk7XG4gIH0pO1xuXG4gIHN0eWxlTmFtZXMuZm9yRWFjaCgoc24sIGluZGV4KSA9PiB7XG4gICAgbWVyZ2VkU3R5bGUgPSBjdXN0b21NZXJnZShcbiAgICAgIG1lcmdlZFN0eWxlLFxuICAgICAgcGFyZW50U3R5bGVbYCR7Y29tcG9uZW50TmFtZX0ke3NufWBdXG4gICAgKTtcbiAgfSk7XG5cbiAgLy8gUGhhc2UgMjogbWVyZ2UgdGhlIGNvbXBvbmVudCBzdHlsZXMsIHRoaXMgc3RlcCBpcyBwZXJmb3JtZWQgYnkgdXNpbmcgdGhlXG4gIC8vIHN0eWxlIGZyb20gcGhhc2UgMSwgc28gdGhhdCB3ZSBhcmUgc3VyZSB0aGF0IHRoZSBmaW5hbCBzdHlsZSB2YXJpYW50cyBhcmVcbiAgLy8gYXBwbGllZCB0byBjb21wb25lbnQgc3R5bGUuXG4gIC8vIGNvbnN0IHJlc29sdmVkU3R5bGUgPSBfLm1lcmdlKHt9LFxuICAvLyAgIG1lcmdlZFN0eWxlLFxuICAvLyAgIHBhcmVudFN0eWxlWycqJ10sXG4gIC8vICAgcGFyZW50U3R5bGVbY29tcG9uZW50TmFtZV0sXG4gIC8vICAgLi4uXy5tYXAoc3R5bGVOYW1lcywgKHNuKSA9PiBtZXJnZWRTdHlsZVtgLiR7c259YF0pLFxuICAvLyAgIC4uLl8ubWFwKHN0eWxlTmFtZXMsIChzbikgPT4gcGFyZW50U3R5bGVbYCouJHtzbn1gXSksXG4gIC8vICAgLi4uXy5tYXAoc3R5bGVOYW1lcywgKHNuKSA9PiBwYXJlbnRTdHlsZVtgJHtjb21wb25lbnROYW1lfS4ke3NufWBdKVxuICAvLyApO1xuXG4gIGxldCByZXNvbHZlZFN0eWxlID0gY3VzdG9tTWVyZ2UobWVyZ2VkU3R5bGUsIHBhcmVudFN0eWxlW2NvbXBvbmVudE5hbWVdKTtcblxuICBzdHlsZU5hbWVzLmZvckVhY2goKHNuLCBpbmRleCkgPT4ge1xuICAgIHJlc29sdmVkU3R5bGUgPSBjdXN0b21NZXJnZShyZXNvbHZlZFN0eWxlLCBtZXJnZWRTdHlsZVtgJHtzbn1gXSk7XG4gIH0pO1xuXG4gIHN0eWxlTmFtZXMuZm9yRWFjaCgoc24sIGluZGV4KSA9PiB7XG4gICAgcmVzb2x2ZWRTdHlsZSA9IGN1c3RvbU1lcmdlKFxuICAgICAgcmVzb2x2ZWRTdHlsZSxcbiAgICAgIHBhcmVudFN0eWxlW2Ake2NvbXBvbmVudE5hbWV9JHtzbn1gXVxuICAgICk7XG4gIH0pO1xuXG4gIHJldHVybiByZXNvbHZlZFN0eWxlO1xufVxuIl19