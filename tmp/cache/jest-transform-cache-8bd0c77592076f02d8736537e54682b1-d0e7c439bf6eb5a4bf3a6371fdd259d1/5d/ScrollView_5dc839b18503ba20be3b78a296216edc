467a2f1e1b40a9f7ff2e32a2f37c7229
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var AnimatedImplementation = require('../../Animated/src/AnimatedImplementation');

var Platform = require('../../Utilities/Platform');

var React = require('react');

var ReactNative = require('../../Renderer/shims/ReactNative');

var ScrollResponder = require('../ScrollResponder');

var ScrollViewStickyHeader = require('./ScrollViewStickyHeader');

var StyleSheet = require('../../StyleSheet/StyleSheet');

var View = require('../View/View');

var dismissKeyboard = require('../../Utilities/dismissKeyboard');

var flattenStyle = require('../../StyleSheet/flattenStyle');

var invariant = require('invariant');

var processDecelerationRate = require('./processDecelerationRate');

var requireNativeComponent = require('../../ReactNative/requireNativeComponent');

var resolveAssetSource = require('../../Image/resolveAssetSource');

var splitLayoutProps = require('../../StyleSheet/splitLayoutProps');

var AndroidScrollView;
var AndroidHorizontalScrollContentView;
var AndroidHorizontalScrollView;
var RCTScrollView;
var RCTScrollContentView;

if (Platform.OS === 'android') {
  AndroidScrollView = requireNativeComponent('RCTScrollView');
  AndroidHorizontalScrollView = requireNativeComponent('AndroidHorizontalScrollView');
  AndroidHorizontalScrollContentView = requireNativeComponent('AndroidHorizontalScrollContentView');
} else if (Platform.OS === 'ios') {
  RCTScrollView = requireNativeComponent('RCTScrollView');
  RCTScrollContentView = requireNativeComponent('RCTScrollContentView');
} else {
  RCTScrollView = requireNativeComponent('RCTScrollView');
  RCTScrollContentView = requireNativeComponent('RCTScrollContentView');
}

function createScrollResponder(node) {
  var scrollResponder = _objectSpread({}, ScrollResponder.Mixin);

  for (var _key in scrollResponder) {
    if (typeof scrollResponder[_key] === 'function') {
      scrollResponder[_key] = scrollResponder[_key].bind(node);
    }
  }

  return scrollResponder;
}

var Context = React.createContext(null);
var standardHorizontalContext = Object.freeze({
  horizontal: true
});
var standardVerticalContext = Object.freeze({
  horizontal: false
});

var ScrollView = function (_React$Component) {
  (0, _inherits2["default"])(ScrollView, _React$Component);

  function ScrollView(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, ScrollView);
    _this = (0, _possibleConstructorReturn2["default"])(this, (0, _getPrototypeOf2["default"])(ScrollView).call(this, props));
    _this._scrollResponder = createScrollResponder((0, _assertThisInitialized2["default"])(_this));
    _this._scrollAnimatedValue = new AnimatedImplementation.Value(0);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this.state = _objectSpread({
      layoutHeight: null
    }, ScrollResponder.Mixin.scrollResponderMixinGetInitialState());

    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && Platform.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }

      if (Platform.OS === 'android') {
        if (_this.props.keyboardDismissMode === 'on-drag' && _this.state.isTouching) {
          dismissKeyboard();
        }
      }

      _this._scrollResponder.scrollResponderHandleScroll(e);
    };

    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }

      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };

    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
          width = _e$nativeEvent$layout.width,
          height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };

    _this._scrollViewRef = null;

    _this._setScrollViewRef = function (ref) {
      _this._scrollViewRef = ref;
    };

    _this._innerViewRef = null;

    _this._setInnerViewRef = function (ref) {
      _this._innerViewRef = ref;
    };

    for (var _key2 in ScrollResponder.Mixin) {
      if (typeof ScrollResponder.Mixin[_key2] === 'function' && _key2.startsWith('scrollResponder')) {
        (0, _assertThisInitialized2["default"])(_this)[_key2] = ScrollResponder.Mixin[_key2].bind((0, _assertThisInitialized2["default"])(_this));
      }
    }

    Object.keys(ScrollResponder.Mixin).filter(function (key) {
      return typeof ScrollResponder.Mixin[key] !== 'function';
    }).forEach(function (key) {
      (0, _assertThisInitialized2["default"])(_this)[key] = ScrollResponder.Mixin[key];
    });
    return _this;
  }

  (0, _createClass2["default"])(ScrollView, [{
    key: "UNSAFE_componentWillMount",
    value: function UNSAFE_componentWillMount() {
      this._scrollResponder.UNSAFE_componentWillMount();

      this._scrollAnimatedValue = new AnimatedImplementation.Value(this.props.contentOffset ? this.props.contentOffset.y : 0);

      this._scrollAnimatedValue.setOffset(this.props.contentInset ? this.props.contentInset.top : 0);

      this._stickyHeaderRefs = new Map();
      this._headerLayoutYs = new Map();
    }
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function UNSAFE_componentWillReceiveProps(nextProps) {
      var currentContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      var nextContentInsetTop = nextProps.contentInset ? nextProps.contentInset.top : 0;

      if (currentContentInsetTop !== nextContentInsetTop) {
        this._scrollAnimatedValue.setOffset(nextContentInsetTop || 0);
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._scrollResponder.componentWillUnmount();

      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      this._scrollViewRef && this._scrollViewRef.setNativeProps(props);
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      return this;
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      return ReactNative.findNodeHandle(this._scrollViewRef);
    }
  }, {
    key: "getInnerViewNode",
    value: function getInnerViewNode() {
      return ReactNative.findNodeHandle(this._innerViewRef);
    }
  }, {
    key: "getNativeScrollRef",
    value: function getNativeScrollRef() {
      return this._scrollViewRef;
    }
  }, {
    key: "scrollTo",
    value: function scrollTo(options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;

      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }

      this._scrollResponder.scrollResponderScrollTo({
        x: x || 0,
        y: y || 0,
        animated: animated !== false
      });
    }
  }, {
    key: "scrollToEnd",
    value: function scrollToEnd(options) {
      var animated = (options && options.animated) !== false;

      this._scrollResponder.scrollResponderScrollToEnd({
        animated: animated
      });
    }
  }, {
    key: "scrollWithoutAnimationTo",
    value: function scrollWithoutAnimationTo() {
      var y = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      var x = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      console.warn('`scrollWithoutAnimationTo` is deprecated. Use `scrollTo` instead');
      this.scrollTo({
        x: x,
        y: y,
        animated: false
      });
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      this._scrollResponder.scrollResponderFlashScrollIndicators();
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }

      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = AnimatedImplementation.attachNativeEvent(this._scrollViewRef, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs["delete"](key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;

      if (!stickyHeaderIndices) {
        return;
      }

      var childArray = React.Children.toArray(this.props.children);

      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }

      var layoutY = event.nativeEvent.layout.y;

      this._headerLayoutYs.set(key, layoutY);

      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];

      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));

        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var ScrollViewClass;
      var ScrollContentContainerViewClass;

      if (Platform.OS === 'android') {
        if (this.props.horizontal === true) {
          ScrollViewClass = AndroidHorizontalScrollView;
          ScrollContentContainerViewClass = AndroidHorizontalScrollContentView;
        } else {
          ScrollViewClass = AndroidScrollView;
          ScrollContentContainerViewClass = View;
        }
      } else {
        ScrollViewClass = RCTScrollView;
        ScrollContentContainerViewClass = RCTScrollContentView;
      }

      invariant(ScrollViewClass !== undefined, 'ScrollViewClass must not be undefined');
      invariant(ScrollContentContainerViewClass !== undefined, 'ScrollContentContainerViewClass must not be undefined');
      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];

      if (__DEV__ && this.props.style !== undefined) {
        var style = flattenStyle(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        invariant(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }

      var contentSizeChangeProps = {};

      if (this.props.onContentSizeChange) {
        contentSizeChangeProps = {
          onLayout: this._handleContentOnLayout
        };
      }

      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;

      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;

          if (indexOfIndex > -1) {
            var _key3 = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || ScrollViewStickyHeader;
            return React.createElement(StickyHeaderComponent, {
              key: _key3,
              ref: function ref(_ref) {
                return _this2._setStickyHeaderRef(_key3, _ref);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, _key3);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              scrollViewHeight: _this2.state.layoutHeight
            }, child);
          } else {
            return child;
          }
        });
      }

      children = React.createElement(Context.Provider, {
        value: this.props.horizontal === true ? standardHorizontalContext : standardVerticalContext
      }, children);
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = React.createElement(ScrollContentContainerViewClass, (0, _extends2["default"])({}, contentSizeChangeProps, {
        ref: this._setInnerViewRef,
        style: contentContainerStyle,
        removeClippedSubviews: Platform.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false
      }), children);
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var DEPRECATED_sendUpdatedChildFrames = !!this.props.DEPRECATED_sendUpdatedChildFrames;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;

      var props = _objectSpread({}, this.props, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: [baseStyle, this.props.style],
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._scrollResponder.scrollResponderHandleMomentumScrollBegin,
        onMomentumScrollEnd: this._scrollResponder.scrollResponderHandleMomentumScrollEnd,
        onResponderGrant: this._scrollResponder.scrollResponderHandleResponderGrant,
        onResponderReject: this._scrollResponder.scrollResponderHandleResponderReject,
        onResponderRelease: this._scrollResponder.scrollResponderHandleResponderRelease,
        onResponderTerminate: this._scrollResponder.scrollResponderHandleTerminate,
        onResponderTerminationRequest: this._scrollResponder.scrollResponderHandleTerminationRequest,
        onScrollBeginDrag: this._scrollResponder.scrollResponderHandleScrollBeginDrag,
        onScrollEndDrag: this._scrollResponder.scrollResponderHandleScrollEndDrag,
        onScrollShouldSetResponder: this._scrollResponder.scrollResponderHandleScrollShouldSetResponder,
        onStartShouldSetResponder: this._scrollResponder.scrollResponderHandleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._scrollResponder.scrollResponderHandleStartShouldSetResponderCapture,
        onTouchEnd: this._scrollResponder.scrollResponderHandleTouchEnd,
        onTouchMove: this._scrollResponder.scrollResponderHandleTouchMove,
        onTouchStart: this._scrollResponder.scrollResponderHandleTouchStart,
        onTouchCancel: this._scrollResponder.scrollResponderHandleTouchCancel,
        onScroll: this._handleScroll,
        scrollBarThumbImage: resolveAssetSource(this.props.scrollBarThumbImage),
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        DEPRECATED_sendUpdatedChildFrames: DEPRECATED_sendUpdatedChildFrames,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: Platform.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });

      var decelerationRate = this.props.decelerationRate;

      if (decelerationRate != null) {
        props.decelerationRate = processDecelerationRate(decelerationRate);
      }

      var refreshControl = this.props.refreshControl;

      if (refreshControl) {
        if (Platform.OS === 'ios') {
          return React.createElement(ScrollViewClass, (0, _extends2["default"])({}, props, {
            ref: this._setScrollViewRef
          }), Platform.isTV ? null : refreshControl, contentContainer);
        } else if (Platform.OS === 'android') {
          var _splitLayoutProps = splitLayoutProps(flattenStyle(props.style)),
              outer = _splitLayoutProps.outer,
              inner = _splitLayoutProps.inner;

          return React.cloneElement(refreshControl, {
            style: [baseStyle, outer]
          }, React.createElement(ScrollViewClass, (0, _extends2["default"])({}, props, {
            style: [baseStyle, inner],
            ref: this._setScrollViewRef
          }), contentContainer));
        }
      }

      return React.createElement(ScrollViewClass, (0, _extends2["default"])({}, props, {
        ref: this._setScrollViewRef
      }), contentContainer);
    }
  }]);
  return ScrollView;
}(React.Component);

ScrollView.Context = Context;
var styles = StyleSheet.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
module.exports = ScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbFZpZXcuanMiXSwibmFtZXMiOlsiQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsInJlcXVpcmUiLCJQbGF0Zm9ybSIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJTY3JvbGxSZXNwb25kZXIiLCJTY3JvbGxWaWV3U3RpY2t5SGVhZGVyIiwiU3R5bGVTaGVldCIsIlZpZXciLCJkaXNtaXNzS2V5Ym9hcmQiLCJmbGF0dGVuU3R5bGUiLCJpbnZhcmlhbnQiLCJwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSIsInJlcXVpcmVOYXRpdmVDb21wb25lbnQiLCJyZXNvbHZlQXNzZXRTb3VyY2UiLCJzcGxpdExheW91dFByb3BzIiwiQW5kcm9pZFNjcm9sbFZpZXciLCJBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3IiwiUkNUU2Nyb2xsVmlldyIsIlJDVFNjcm9sbENvbnRlbnRWaWV3IiwiT1MiLCJjcmVhdGVTY3JvbGxSZXNwb25kZXIiLCJub2RlIiwic2Nyb2xsUmVzcG9uZGVyIiwiTWl4aW4iLCJrZXkiLCJiaW5kIiwiQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJzdGFuZGFyZEhvcml6b250YWxDb250ZXh0IiwiT2JqZWN0IiwiZnJlZXplIiwiaG9yaXpvbnRhbCIsInN0YW5kYXJkVmVydGljYWxDb250ZXh0IiwiU2Nyb2xsVmlldyIsInByb3BzIiwiX3Njcm9sbFJlc3BvbmRlciIsIl9zY3JvbGxBbmltYXRlZFZhbHVlIiwiVmFsdWUiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQiLCJfc3RpY2t5SGVhZGVyUmVmcyIsIk1hcCIsIl9oZWFkZXJMYXlvdXRZcyIsInN0YXRlIiwibGF5b3V0SGVpZ2h0Iiwic2Nyb2xsUmVzcG9uZGVyTWl4aW5HZXRJbml0aWFsU3RhdGUiLCJfaGFuZGxlU2Nyb2xsIiwiZSIsIl9fREVWX18iLCJvblNjcm9sbCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJjb25zb2xlIiwibG9nIiwia2V5Ym9hcmREaXNtaXNzTW9kZSIsImlzVG91Y2hpbmciLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGwiLCJfaGFuZGxlTGF5b3V0IiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsInNldFN0YXRlIiwibmF0aXZlRXZlbnQiLCJsYXlvdXQiLCJoZWlnaHQiLCJvbkxheW91dCIsIl9oYW5kbGVDb250ZW50T25MYXlvdXQiLCJ3aWR0aCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJfc2Nyb2xsVmlld1JlZiIsIl9zZXRTY3JvbGxWaWV3UmVmIiwicmVmIiwiX2lubmVyVmlld1JlZiIsIl9zZXRJbm5lclZpZXdSZWYiLCJzdGFydHNXaXRoIiwia2V5cyIsImZpbHRlciIsImZvckVhY2giLCJVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IiwiY29udGVudE9mZnNldCIsInkiLCJzZXRPZmZzZXQiLCJjb250ZW50SW5zZXQiLCJ0b3AiLCJuZXh0UHJvcHMiLCJjdXJyZW50Q29udGVudEluc2V0VG9wIiwibmV4dENvbnRlbnRJbnNldFRvcCIsIl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJkZXRhY2giLCJzZXROYXRpdmVQcm9wcyIsImZpbmROb2RlSGFuZGxlIiwib3B0aW9ucyIsImRlcHJlY2F0ZWRYIiwiZGVwcmVjYXRlZEFuaW1hdGVkIiwieCIsImFuaW1hdGVkIiwid2FybiIsInNjcm9sbFJlc3BvbmRlclNjcm9sbFRvIiwic2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG9FbmQiLCJzY3JvbGxUbyIsInNjcm9sbFJlc3BvbmRlckZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsImluZGV4IiwiY2hpbGRBcnJheSIsImNoaWxkIiwic3RpY2t5SGVhZGVySW5kaWNlcyIsImxlbmd0aCIsImF0dGFjaE5hdGl2ZUV2ZW50Iiwic2V0IiwiZXZlbnQiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJjaGlsZHJlbiIsIl9nZXRLZXlGb3JJbmRleCIsImxheW91dFkiLCJpbmRleE9mSW5kZXgiLCJpbmRleE9mIiwicHJldmlvdXNIZWFkZXJJbmRleCIsInByZXZpb3VzSGVhZGVyIiwiZ2V0Iiwic2V0TmV4dEhlYWRlclkiLCJTY3JvbGxWaWV3Q2xhc3MiLCJTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzIiwidW5kZWZpbmVkIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwic3R5bGVzIiwiY29udGVudENvbnRhaW5lckhvcml6b250YWwiLCJzdHlsZSIsImNoaWxkTGF5b3V0UHJvcHMiLCJwcm9wIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRTaXplQ2hhbmdlUHJvcHMiLCJtYXAiLCJuZXh0SW5kZXgiLCJTdGlja3lIZWFkZXJDb21wb25lbnQiLCJfc2V0U3RpY2t5SGVhZGVyUmVmIiwiX29uU3RpY2t5SGVhZGVyTGF5b3V0IiwiaGFzU3RpY2t5SGVhZGVycyIsIkFycmF5IiwiaXNBcnJheSIsImNvbnRlbnRDb250YWluZXIiLCJyZW1vdmVDbGlwcGVkU3Vidmlld3MiLCJhbHdheXNCb3VuY2VIb3Jpem9udGFsIiwiYWx3YXlzQm91bmNlVmVydGljYWwiLCJERVBSRUNBVEVEX3NlbmRVcGRhdGVkQ2hpbGRGcmFtZXMiLCJiYXNlU3R5bGUiLCJiYXNlSG9yaXpvbnRhbCIsImJhc2VWZXJ0aWNhbCIsIm9uTW9tZW50dW1TY3JvbGxCZWdpbiIsInNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4iLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlTW9tZW50dW1TY3JvbGxFbmQiLCJvblJlc3BvbmRlckdyYW50Iiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyR3JhbnQiLCJvblJlc3BvbmRlclJlamVjdCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlclJlamVjdCIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlclJlbGVhc2UiLCJvblJlc3BvbmRlclRlcm1pbmF0ZSIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRlcm1pbmF0ZSIsIm9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0Iiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVGVybWluYXRpb25SZXF1ZXN0Iiwib25TY3JvbGxCZWdpbkRyYWciLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxCZWdpbkRyYWciLCJvblNjcm9sbEVuZERyYWciLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxFbmREcmFnIiwib25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXIiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsIm9uVG91Y2hFbmQiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaEVuZCIsIm9uVG91Y2hNb3ZlIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hNb3ZlIiwib25Ub3VjaFN0YXJ0Iiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hTdGFydCIsIm9uVG91Y2hDYW5jZWwiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaENhbmNlbCIsInNjcm9sbEJhclRodW1iSW1hZ2UiLCJzZW5kTW9tZW50dW1FdmVudHMiLCJzbmFwVG9TdGFydCIsInNuYXBUb0VuZCIsInBhZ2luZ0VuYWJsZWQiLCJzZWxlY3QiLCJpb3MiLCJzbmFwVG9JbnRlcnZhbCIsInNuYXBUb09mZnNldHMiLCJhbmRyb2lkIiwiZGVjZWxlcmF0aW9uUmF0ZSIsInJlZnJlc2hDb250cm9sIiwiaXNUViIsIm91dGVyIiwiaW5uZXIiLCJjbG9uZUVsZW1lbnQiLCJDb21wb25lbnQiLCJjcmVhdGUiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJmbGV4RGlyZWN0aW9uIiwib3ZlcmZsb3ciLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBTUEsc0JBQXNCLEdBQUdDLE9BQU8sQ0FBQywyQ0FBRCxDQUF0Qzs7QUFDQSxJQUFNQyxRQUFRLEdBQUdELE9BQU8sQ0FBQywwQkFBRCxDQUF4Qjs7QUFDQSxJQUFNRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLElBQU1HLFdBQVcsR0FBR0gsT0FBTyxDQUFDLGtDQUFELENBQTNCOztBQUNBLElBQU1JLGVBQWUsR0FBR0osT0FBTyxDQUFDLG9CQUFELENBQS9COztBQUNBLElBQU1LLHNCQUFzQixHQUFHTCxPQUFPLENBQUMsMEJBQUQsQ0FBdEM7O0FBQ0EsSUFBTU0sVUFBVSxHQUFHTixPQUFPLENBQUMsNkJBQUQsQ0FBMUI7O0FBQ0EsSUFBTU8sSUFBSSxHQUFHUCxPQUFPLENBQUMsY0FBRCxDQUFwQjs7QUFFQSxJQUFNUSxlQUFlLEdBQUdSLE9BQU8sQ0FBQyxpQ0FBRCxDQUEvQjs7QUFDQSxJQUFNUyxZQUFZLEdBQUdULE9BQU8sQ0FBQywrQkFBRCxDQUE1Qjs7QUFDQSxJQUFNVSxTQUFTLEdBQUdWLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLElBQU1XLHVCQUF1QixHQUFHWCxPQUFPLENBQUMsMkJBQUQsQ0FBdkM7O0FBQ0EsSUFBTVksc0JBQXNCLEdBQUdaLE9BQU8sQ0FBQywwQ0FBRCxDQUF0Qzs7QUFDQSxJQUFNYSxrQkFBa0IsR0FBR2IsT0FBTyxDQUFDLGdDQUFELENBQWxDOztBQUNBLElBQU1jLGdCQUFnQixHQUFHZCxPQUFPLENBQUMsbUNBQUQsQ0FBaEM7O0FBZ0JBLElBQUllLGlCQUFKO0FBQ0EsSUFBSUMsa0NBQUo7QUFDQSxJQUFJQywyQkFBSjtBQUNBLElBQUlDLGFBQUo7QUFDQSxJQUFJQyxvQkFBSjs7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KiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IEFuaW1hdGVkSW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuLi8uLi9BbmltYXRlZC9zcmMvQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbicpO1xuY29uc3QgUGxhdGZvcm0gPSByZXF1aXJlKCcuLi8uLi9VdGlsaXRpZXMvUGxhdGZvcm0nKTtcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlYWN0TmF0aXZlID0gcmVxdWlyZSgnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmUnKTtcbmNvbnN0IFNjcm9sbFJlc3BvbmRlciA9IHJlcXVpcmUoJy4uL1Njcm9sbFJlc3BvbmRlcicpO1xuY29uc3QgU2Nyb2xsVmlld1N0aWNreUhlYWRlciA9IHJlcXVpcmUoJy4vU2Nyb2xsVmlld1N0aWNreUhlYWRlcicpO1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCcpO1xuY29uc3QgVmlldyA9IHJlcXVpcmUoJy4uL1ZpZXcvVmlldycpO1xuXG5jb25zdCBkaXNtaXNzS2V5Ym9hcmQgPSByZXF1aXJlKCcuLi8uLi9VdGlsaXRpZXMvZGlzbWlzc0tleWJvYXJkJyk7XG5jb25zdCBmbGF0dGVuU3R5bGUgPSByZXF1aXJlKCcuLi8uLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZScpO1xuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5jb25zdCBwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSA9IHJlcXVpcmUoJy4vcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUnKTtcbmNvbnN0IHJlcXVpcmVOYXRpdmVDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9SZWFjdE5hdGl2ZS9yZXF1aXJlTmF0aXZlQ29tcG9uZW50Jyk7XG5jb25zdCByZXNvbHZlQXNzZXRTb3VyY2UgPSByZXF1aXJlKCcuLi8uLi9JbWFnZS9yZXNvbHZlQXNzZXRTb3VyY2UnKTtcbmNvbnN0IHNwbGl0TGF5b3V0UHJvcHMgPSByZXF1aXJlKCcuLi8uLi9TdHlsZVNoZWV0L3NwbGl0TGF5b3V0UHJvcHMnKTtcblxuaW1wb3J0IHR5cGUge05hdGl2ZU1ldGhvZHNNaXhpblR5cGV9IGZyb20gJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlVHlwZXMnO1xuaW1wb3J0IHR5cGUge0VkZ2VJbnNldHNQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L0VkZ2VJbnNldHNQcm9wVHlwZSc7XG5pbXBvcnQgdHlwZSB7UG9pbnRQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1BvaW50UHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1ZpZXdTdHlsZVByb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7Q29sb3JWYWx1ZX0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0VHlwZXMnO1xuaW1wb3J0IHR5cGUge1xuICBQcmVzc0V2ZW50LFxuICBTY3JvbGxFdmVudCxcbiAgTGF5b3V0RXZlbnQsXG59IGZyb20gJy4uLy4uL1R5cGVzL0NvcmVFdmVudFR5cGVzJztcbmltcG9ydCB0eXBlIHtTdGF0ZSBhcyBTY3JvbGxSZXNwb25kZXJTdGF0ZX0gZnJvbSAnLi4vU2Nyb2xsUmVzcG9uZGVyJztcbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJy4uL1ZpZXcvVmlld1Byb3BUeXBlcyc7XG5pbXBvcnQgdHlwZSB7UHJvcHMgYXMgU2Nyb2xsVmlld1N0aWNreUhlYWRlclByb3BzfSBmcm9tICcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInO1xuXG5sZXQgQW5kcm9pZFNjcm9sbFZpZXc7XG5sZXQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50VmlldztcbmxldCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXc7XG5sZXQgUkNUU2Nyb2xsVmlldztcbmxldCBSQ1RTY3JvbGxDb250ZW50VmlldztcblxuaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgQW5kcm9pZFNjcm9sbFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RTY3JvbGxWaWV3Jyk7XG4gIEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlldyA9IHJlcXVpcmVOYXRpdmVDb21wb25lbnQoXG4gICAgJ0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlldycsXG4gICk7XG4gIEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KFxuICAgICdBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3JyxcbiAgKTtcbn0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gIFJDVFNjcm9sbFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RTY3JvbGxWaWV3Jyk7XG4gIFJDVFNjcm9sbENvbnRlbnRWaWV3ID0gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUkNUU2Nyb2xsQ29udGVudFZpZXcnKTtcbn0gZWxzZSB7XG4gIFJDVFNjcm9sbFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RTY3JvbGxWaWV3Jyk7XG4gIFJDVFNjcm9sbENvbnRlbnRWaWV3ID0gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUkNUU2Nyb2xsQ29udGVudFZpZXcnKTtcbn1cblxuZXhwb3J0IHR5cGUgU2Nyb2xsUmVzcG9uZGVyVHlwZSA9IHtcbiAgLi4uU2Nyb2xsVmlldyxcbiAgLi4udHlwZW9mIFNjcm9sbFJlc3BvbmRlci5NaXhpbixcbn07XG5cbnR5cGUgVG91Y2hhYmxlUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgb25Ub3VjaFN0YXJ0PzogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblRvdWNoTW92ZT86IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgb25Ub3VjaEVuZD86IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgb25Ub3VjaENhbmNlbD86IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgb25Ub3VjaEVuZENhcHR1cmU/OiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG58fT47XG5cbnR5cGUgSU9TUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgaU9TIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgY29udGVudCBpbnNldFxuICAgKiBmb3Igc2Nyb2xsIHZpZXdzIHRoYXQgYXJlIHBsYWNlZCBiZWhpbmQgYSBuYXZpZ2F0aW9uIGJhciBvclxuICAgKiB0YWIgYmFyLyB0b29sYmFyLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0Q29udGVudEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBpcyBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIERlZmF1bHRzIHRvIGB7dG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwfWAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRJbnNldD86ID9FZGdlSW5zZXRzUHJvcCxcbiAgLyoqXG4gICAqIFVzZWQgdG8gbWFudWFsbHkgc2V0IHRoZSBzdGFydGluZyBzY3JvbGwgb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBge3g6IDAsIHk6IDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudE9mZnNldD86ID9Qb2ludFByb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kIG9mIHRoZVxuICAgKiBjb250ZW50IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlciB0aGVuIHRoZSBzY3JvbGwgdmlldyBhbG9uZyB0aGUgYXhpcyBvZlxuICAgKiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi4gV2hlbiBmYWxzZSwgaXQgZGlzYWJsZXMgYWxsIGJvdW5jaW5nIGV2ZW4gaWZcbiAgICogdGhlIGBhbHdheXNCb3VuY2UqYCBwcm9wcyBhcmUgdHJ1ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgU2Nyb2xsVmlldyBoYXMgYW4gYWN0aXZlIHBhbiByZXNwb25kZXIgdGhhdCBoaWphY2tzIHBhbnJlc3BvbmRlcnNcbiAgICogZGVlcGVyIGluIHRoZSByZW5kZXIgdHJlZSBpbiBvcmRlciB0byBwcmV2ZW50IGFjY2lkZW50YWwgdG91Y2hlcyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqIEhvd2V2ZXIsIGluIGNlcnRhaW4gb2NjYXNpb25zIChzdWNoIGFzIHdoZW4gdXNpbmcgc25hcFRvSW50ZXJ2YWwpIGluIGEgdmVydGljYWwgc2Nyb2xsdmlld1xuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yIGluIG9yZGVyIHRvIHByZXZlbnQgdGhlIFNjcm9sbFZpZXcgZnJvbSBibG9ja2luZyB0b3VjaGVzXG4gICAqL1xuICBkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBnZXN0dXJlcyBjYW4gZHJpdmUgem9vbSBwYXN0IG1pbi9tYXggYW5kIHRoZSB6b29tIHdpbGwgYW5pbWF0ZVxuICAgKiB0byB0aGUgbWluL21heCB2YWx1ZSBhdCBnZXN0dXJlIGVuZCwgb3RoZXJ3aXNlIHRoZSB6b29tIHdpbGwgbm90IGV4Y2VlZFxuICAgKiB0aGUgbGltaXRzLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzWm9vbT86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyBob3Jpem9udGFsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgdHJ1ZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB2ZXJ0aWNhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgdHJ1ZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZVZlcnRpY2FsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBhdXRvbWF0aWNhbGx5IGNlbnRlcnMgdGhlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICogY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGJvdW5kczsgd2hlbiB0aGUgY29udGVudCBpc1xuICAgKiBsYXJnZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcsIHRoaXMgcHJvcGVydHkgaGFzIG5vIGVmZmVjdC4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNlbnRlckNvbnRlbnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvZiB0aGUgc2Nyb2xsIGluZGljYXRvcnMuXG4gICAqXG4gICAqICAgLSBgJ2RlZmF1bHQnYCAodGhlIGRlZmF1bHQpLCBzYW1lIGFzIGBibGFja2AuXG4gICAqICAgLSBgJ2JsYWNrJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgYmxhY2suIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgbGlnaHQgYmFja2dyb3VuZC5cbiAgICogICAtIGAnd2hpdGUnYCwgc2Nyb2xsIGluZGljYXRvciBpcyB3aGl0ZS4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBkYXJrIGJhY2tncm91bmQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGluZGljYXRvclN0eWxlPzogPygnZGVmYXVsdCcgfCAnYmxhY2snIHwgJ3doaXRlJyksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBTY3JvbGxWaWV3IHdpbGwgdHJ5IHRvIGxvY2sgdG8gb25seSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAqIHNjcm9sbGluZyB3aGlsZSBkcmFnZ2luZy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBkaXJlY3Rpb25hbExvY2tFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCBvbmNlIHRyYWNraW5nIHN0YXJ0cywgd29uJ3QgdHJ5IHRvIGRyYWcgaWYgdGhlIHRvdWNoIG1vdmVzLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjYW5DYW5jZWxDb250ZW50VG91Y2hlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogY3VycmVudGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uIFRoaXMgaXNcbiAgICogdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsIHdoZXJlIG5ld1xuICAgKiBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwIGlzIGNvbW1vbixcbiAgICogYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnQgdGhhdCBzaG91bGRcbiAgICogbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj86ID8kUmVhZE9ubHk8e3xcbiAgICBtaW5JbmRleEZvclZpc2libGU6IG51bWJlcixcbiAgICBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGQ/OiA/bnVtYmVyLFxuICB8fT4sXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWF4aW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgbWluaW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWluaW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIFNjcm9sbFZpZXcgYWxsb3dzIHVzZSBvZiBwaW5jaCBnZXN0dXJlcyB0byB6b29tIGluIGFuZCBvdXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHBpbmNoR2VzdHVyZUVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoaXMgY29udHJvbHMgaG93IG9mdGVuIHRoZSBzY3JvbGwgZXZlbnQgd2lsbCBiZSBmaXJlZCB3aGlsZSBzY3JvbGxpbmdcbiAgICogKGFzIGEgdGltZSBpbnRlcnZhbCBpbiBtcykuIEEgbG93ZXIgbnVtYmVyIHlpZWxkcyBiZXR0ZXIgYWNjdXJhY3kgZm9yIGNvZGVcbiAgICogdGhhdCBpcyB0cmFja2luZyB0aGUgc2Nyb2xsIHBvc2l0aW9uLCBidXQgY2FuIGxlYWQgdG8gc2Nyb2xsIHBlcmZvcm1hbmNlXG4gICAqIHByb2JsZW1zIGR1ZSB0byB0aGUgdm9sdW1lIG9mIGluZm9ybWF0aW9uIGJlaW5nIHNlbmQgb3ZlciB0aGUgYnJpZGdlLlxuICAgKlxuICAgKiBWYWx1ZXMgYmV0d2VlbiAwIGFuZCAxN21zIGluZGljYXRlIDYwZnBzIHVwZGF0ZXMgYXJlIG5lZWRlZCBhbmQgdGhyb3R0bGluZ1xuICAgKiB3aWxsIGJlIGRpc2FibGVkLlxuICAgKlxuICAgKiBJZiB5b3UgZG8gbm90IG5lZWQgcHJlY2lzZSBzY3JvbGwgcG9zaXRpb24gdHJhY2tpbmcsIHNldCB0aGlzIHZhbHVlIGhpZ2hlclxuICAgKiB0byBsaW1pdCB0aGUgaW5mb3JtYXRpb24gYmVpbmcgc2VudCBhY3Jvc3MgdGhlIGJyaWRnZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgemVybywgd2hpY2ggcmVzdWx0cyBpbiB0aGUgc2Nyb2xsIGV2ZW50IGJlaW5nIHNlbnQgb25seVxuICAgKiBvbmNlIGVhY2ggdGltZSB0aGUgdmlldyBpcyBzY3JvbGxlZC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsRXZlbnRUaHJvdHRsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBpbmRpY2F0b3JzIGFyZSBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgc2hvdWxkIG5vcm1hbGx5IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZSBhc1xuICAgKiB0aGUgYGNvbnRlbnRJbnNldGAuIERlZmF1bHRzIHRvIGB7MCwgMCwgMCwgMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBzY3JvbGxlZCBiZXlvbmQgaXRzXG4gICAqIGNvbnRlbnQgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFRvT3ZlcmZsb3dFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCB3aGVuIHRoZSBzdGF0dXMgYmFyIGlzIHRhcHBlZC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsc1RvVG9wPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCBhZnRlciB0aGUgc3RhdHVzIGJhciBoYXMgYmVlbiB0YXBwZWRcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgb25TY3JvbGxUb1RvcD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgaG9yaXpvbnRhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NIb3Jpem9udGFsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGBzbmFwVG9JbnRlcnZhbGAgaXMgc2V0LCBgc25hcFRvQWxpZ25tZW50YCB3aWxsIGRlZmluZSB0aGUgcmVsYXRpb25zaGlwXG4gICAqIG9mIHRoZSBzbmFwcGluZyB0byB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqXG4gICAqICAgLSBgJ3N0YXJ0J2AgKHRoZSBkZWZhdWx0KSB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSBsZWZ0IChob3Jpem9udGFsKSBvciB0b3AgKHZlcnRpY2FsKVxuICAgKiAgIC0gYCdjZW50ZXInYCB3aWxsIGFsaWduIHRoZSBzbmFwIGluIHRoZSBjZW50ZXJcbiAgICogICAtIGAnZW5kJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgcmlnaHQgKGhvcml6b250YWwpIG9yIGJvdHRvbSAodmVydGljYWwpXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNuYXBUb0FsaWdubWVudD86ID8oJ3N0YXJ0JyB8ICdjZW50ZXInIHwgJ2VuZCcpLFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NhbGUgb2YgdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgem9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGhvdyB0aGUgc2FmZSBhcmVhIGluc2V0cyBhcmUgdXNlZCB0byBtb2RpZnkgdGhlXG4gICAqIGNvbnRlbnQgYXJlYSBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXNcbiAgICogXCJuZXZlclwiLiBBdmFpbGFibGUgb24gaU9TIDExIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0QWRqdXN0bWVudEJlaGF2aW9yPzogPyhcbiAgICB8ICdhdXRvbWF0aWMnXG4gICAgfCAnc2Nyb2xsYWJsZUF4ZXMnXG4gICAgfCAnbmV2ZXInXG4gICAgfCAnYWx3YXlzJ1xuICApLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTY3JvbGxWaWV3IHdpbGwgZW1pdCB1cGRhdGVDaGlsZEZyYW1lcyBkYXRhIGluIHNjcm9sbCBldmVudHMsXG4gICAqIG90aGVyd2lzZSB3aWxsIG5vdCBjb21wdXRlIG9yIGVtaXQgY2hpbGQgZnJhbWUgZGF0YS4gIFRoaXMgb25seSBleGlzdHNcbiAgICogdG8gc3VwcG9ydCBsZWdhY3kgaXNzdWVzLCBgb25MYXlvdXRgIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgdG8gcmV0cmlldmVcbiAgICogZnJhbWUgZGF0YS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIERFUFJFQ0FURURfc2VuZFVwZGF0ZWRDaGlsZEZyYW1lcz86ID9ib29sZWFuLFxufH0+O1xuXG50eXBlIEFuZHJvaWRQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogRW5hYmxlcyBuZXN0ZWQgc2Nyb2xsaW5nIGZvciBBbmRyb2lkIEFQSSBsZXZlbCAyMSsuXG4gICAqIE5lc3RlZCBzY3JvbGxpbmcgaXMgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgb24gaU9TXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBuZXN0ZWRTY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTb21ldGltZXMgYSBzY3JvbGx2aWV3IHRha2VzIHVwIG1vcmUgc3BhY2UgdGhhbiBpdHMgY29udGVudCBmaWxscy4gV2hlbiB0aGlzIGlzXG4gICAqIHRoZSBjYXNlLCB0aGlzIHByb3Agd2lsbCBmaWxsIHRoZSByZXN0IG9mIHRoZSBzY3JvbGx2aWV3IHdpdGggYSBjb2xvciB0byBhdm9pZCBzZXR0aW5nXG4gICAqIGEgYmFja2dyb3VuZCBhbmQgY3JlYXRpbmcgdW5uZWNlc3Nhcnkgb3ZlcmRyYXcuIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW1pemF0aW9uXG4gICAqIHRoYXQgaXMgbm90IG5lZWRlZCBpbiB0aGUgZ2VuZXJhbCBjYXNlLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZW5kRmlsbENvbG9yPzogP0NvbG9yVmFsdWUsXG4gIC8qKlxuICAgKiBUYWcgdXNlZCB0byBsb2cgc2Nyb2xsIHBlcmZvcm1hbmNlIG9uIHRoaXMgc2Nyb2xsIHZpZXcuIFdpbGwgZm9yY2VcbiAgICogbW9tZW50dW0gZXZlbnRzIHRvIGJlIHR1cm5lZCBvbiAoc2VlIHNlbmRNb21lbnR1bUV2ZW50cykuIFRoaXMgZG9lc24ndCBkb1xuICAgKiBhbnl0aGluZyBvdXQgb2YgdGhlIGJveCBhbmQgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgY3VzdG9tIG5hdGl2ZVxuICAgKiBGcHNMaXN0ZW5lciBmb3IgaXQgdG8gYmUgdXNlZnVsLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgc2Nyb2xsUGVyZlRhZz86ID9zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG92ZXJyaWRlIGRlZmF1bHQgdmFsdWUgb2Ygb3ZlclNjcm9sbCBtb2RlLlxuICAgKlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqXG4gICAqICAtIGAnYXV0bydgIC0gRGVmYXVsdCB2YWx1ZSwgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsXG4gICAqICAgIHRoaXMgdmlldyBvbmx5IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlIGVub3VnaCB0byBtZWFuaW5nZnVsbHkgc2Nyb2xsLlxuICAgKiAgLSBgJ2Fsd2F5cydgIC0gQWx3YXlzIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqICAtIGAnbmV2ZXInYCAtIE5ldmVyIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBvdmVyU2Nyb2xsTW9kZT86ID8oJ2F1dG8nIHwgJ2Fsd2F5cycgfCAnbmV2ZXInKSxcbiAgLyoqXG4gICAqIENhdXNlcyB0aGUgc2Nyb2xsYmFycyBub3QgdG8gdHVybiB0cmFuc3BhcmVudCB3aGVuIHRoZXkgYXJlIG5vdCBpbiB1c2UuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcGVyc2lzdGVudFNjcm9sbGJhcj86ID9ib29sZWFuLFxufH0+O1xuXG50eXBlIFZSUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIE9wdGlvbmFsbHkgYW4gaW1hZ2UgY2FuIGJlIHVzZWQgZm9yIHRoZSBzY3JvbGwgYmFyIHRodW1iLiBUaGlzIHdpbGxcbiAgICogb3ZlcnJpZGUgdGhlIGNvbG9yLiBXaGlsZSB0aGUgaW1hZ2UgaXMgbG9hZGluZyBvciB0aGUgaW1hZ2UgZmFpbHMgdG9cbiAgICogbG9hZCB0aGUgY29sb3Igd2lsbCBiZSB1c2VkIGluc3RlYWQuIFVzZSBhbiBhbHBoYSBvZiAwIGluIHRoZSBjb2xvclxuICAgKiB0byBhdm9pZCBzZWVpbmcgaXQgd2hpbGUgdGhlIGltYWdlIGlzIGxvYWRpbmcuXG4gICAqXG4gICAqIC0gYHVyaWAgLSBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHJlc291cmNlIGlkZW50aWZpZXIgZm9yIHRoZSBpbWFnZSwgd2hpY2hcbiAgICogc2hvdWxkIGJlIGVpdGhlciBhIGxvY2FsIGZpbGUgcGF0aCBvciB0aGUgbmFtZSBvZiBhIHN0YXRpYyBpbWFnZSByZXNvdXJjZVxuICAgKiAtIGBudW1iZXJgIC0gT3BhcXVlIHR5cGUgcmV0dXJuZWQgYnkgc29tZXRoaW5nIGxpa2VcbiAgICogYGltcG9ydCBJTUFHRSBmcm9tICcuL2ltYWdlLmpwZydgLlxuICAgKiBAcGxhdGZvcm0gdnJcbiAgICovXG4gIHNjcm9sbEJhclRodW1iSW1hZ2U/OiA/KCRSZWFkT25seTx7fHx9PiB8IG51bWJlciksIC8vIE9wYXF1ZSB0eXBlIHJldHVybmVkIGJ5IGltcG9ydCBJTUFHRSBmcm9tICcuL2ltYWdlLmpwZydcbnx9PjtcblxudHlwZSBTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlID0gUmVhY3QuQ29tcG9uZW50VHlwZTxTY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHM+ICYge1xuICBzZXROZXh0SGVhZGVyWTogbnVtYmVyID0+IHZvaWQsXG59O1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9ICRSZWFkT25seTx7fFxuICAuLi5WaWV3UHJvcHMsXG4gIC4uLlRvdWNoYWJsZVByb3BzLFxuICAuLi5JT1NQcm9wcyxcbiAgLi4uQW5kcm9pZFByb3BzLFxuICAuLi5WUlByb3BzLFxuXG4gIC8qKlxuICAgKiBUaGVzZSBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGNvbnRhaW5lciB3aGljaFxuICAgKiB3cmFwcyBhbGwgb2YgdGhlIGNoaWxkIHZpZXdzLiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBcbiAgICogcmV0dXJuIChcbiAgICogICA8U2Nyb2xsVmlldyBjb250ZW50Q29udGFpbmVyU3R5bGU9e3N0eWxlcy5jb250ZW50Q29udGFpbmVyfT5cbiAgICogICA8L1Njcm9sbFZpZXc+XG4gICAqICk7XG4gICAqIC4uLlxuICAgKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgY29udGVudENvbnRhaW5lcjoge1xuICAgKiAgICAgcGFkZGluZ1ZlcnRpY2FsOiAyMFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29udGVudENvbnRhaW5lclN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzdG9wcyBvbiB0aGUgbmV4dCBpbmRleCAoaW4gcmVsYXRpb24gdG8gc2Nyb2xsXG4gICAqIHBvc2l0aW9uIGF0IHJlbGVhc2UpIHJlZ2FyZGxlc3Mgb2YgaG93IGZhc3QgdGhlIGdlc3R1cmUgaXMuIFRoaXMgY2FuIGJlXG4gICAqIHVzZWQgZm9yIGhvcml6b250YWwgcGFnaW5hdGlvbiB3aGVuIHRoZSBwYWdlIGlzIGxlc3MgdGhhbiB0aGUgd2lkdGggb2ZcbiAgICogdGhlIFNjcm9sbFZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKi9cbiAgZGlzYWJsZUludGVydmFsTW9tZW50dW0/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIHRoYXQgZGV0ZXJtaW5lcyBob3cgcXVpY2tseSB0aGUgc2Nyb2xsIHZpZXdcbiAgICogZGVjZWxlcmF0ZXMgYWZ0ZXIgdGhlIHVzZXIgbGlmdHMgdGhlaXIgZmluZ2VyLiBZb3UgbWF5IGFsc28gdXNlIHN0cmluZ1xuICAgKiBzaG9ydGN1dHMgYFwibm9ybWFsXCJgIGFuZCBgXCJmYXN0XCJgIHdoaWNoIG1hdGNoIHRoZSB1bmRlcmx5aW5nIGlPUyBzZXR0aW5nc1xuICAgKiBmb3IgYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVOb3JtYWxgIGFuZFxuICAgKiBgVUlTY3JvbGxWaWV3RGVjZWxlcmF0aW9uUmF0ZUZhc3RgIHJlc3BlY3RpdmVseS5cbiAgICpcbiAgICogICAtIGAnbm9ybWFsJ2A6IDAuOTk4IG9uIGlPUywgMC45ODUgb24gQW5kcm9pZCAodGhlIGRlZmF1bHQpXG4gICAqICAgLSBgJ2Zhc3QnYDogMC45OSBvbiBpT1MsIDAuOSBvbiBBbmRyb2lkXG4gICAqL1xuICBkZWNlbGVyYXRpb25SYXRlPzogPygnZmFzdCcgfCAnbm9ybWFsJyB8IG51bWJlciksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldydzIGNoaWxkcmVuIGFyZSBhcnJhbmdlZCBob3Jpem9udGFsbHkgaW4gYSByb3dcbiAgICogaW5zdGVhZCBvZiB2ZXJ0aWNhbGx5IGluIGEgY29sdW1uLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIElmIHN0aWNreSBoZWFkZXJzIHNob3VsZCBzdGljayBhdCB0aGUgYm90dG9tIGluc3RlYWQgb2YgdGhlIHRvcCBvZiB0aGVcbiAgICogU2Nyb2xsVmlldy4gVGhpcyBpcyB1c3VhbGx5IHVzZWQgd2l0aCBpbnZlcnRlZCBTY3JvbGxWaWV3cy5cbiAgICovXG4gIGludmVydFN0aWNreUhlYWRlcnM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUga2V5Ym9hcmQgZ2V0cyBkaXNtaXNzZWQgaW4gcmVzcG9uc2UgdG8gYSBkcmFnLlxuICAgKlxuICAgKiAqQ3Jvc3MgcGxhdGZvcm0qXG4gICAqXG4gICAqICAgLSBgJ25vbmUnYCAodGhlIGRlZmF1bHQpLCBkcmFncyBkbyBub3QgZGlzbWlzcyB0aGUga2V5Ym9hcmQuXG4gICAqICAgLSBgJ29uLWRyYWcnYCwgdGhlIGtleWJvYXJkIGlzIGRpc21pc3NlZCB3aGVuIGEgZHJhZyBiZWdpbnMuXG4gICAqXG4gICAqICppT1MgT25seSpcbiAgICpcbiAgICogICAtIGAnaW50ZXJhY3RpdmUnYCwgdGhlIGtleWJvYXJkIGlzIGRpc21pc3NlZCBpbnRlcmFjdGl2ZWx5IHdpdGggdGhlIGRyYWcgYW5kIG1vdmVzIGluXG4gICAqICAgICBzeW5jaHJvbnkgd2l0aCB0aGUgdG91Y2g7IGRyYWdnaW5nIHVwd2FyZHMgY2FuY2VscyB0aGUgZGlzbWlzc2FsLlxuICAgKiAgICAgT24gYW5kcm9pZCB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIGl0IHdpbGwgaGF2ZSB0aGUgc2FtZSBiZWhhdmlvciBhcyAnbm9uZScuXG4gICAqL1xuICBrZXlib2FyZERpc21pc3NNb2RlPzogPyhcbiAgICB8ICdub25lJyAvLyBkZWZhdWx0XG4gICAgfCAnb24tZHJhZycgLy8gY3Jvc3MtcGxhdGZvcm1cbiAgICB8ICdpbnRlcmFjdGl2ZSdcbiAgKSwgLy8gaW9zIG9ubHlcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hlbiB0aGUga2V5Ym9hcmQgc2hvdWxkIHN0YXkgdmlzaWJsZSBhZnRlciBhIHRhcC5cbiAgICpcbiAgICogICAtIGAnbmV2ZXInYCAodGhlIGRlZmF1bHQpLCB0YXBwaW5nIG91dHNpZGUgb2YgdGhlIGZvY3VzZWQgdGV4dCBpbnB1dCB3aGVuIHRoZSBrZXlib2FyZFxuICAgKiAgICAgaXMgdXAgZGlzbWlzc2VzIHRoZSBrZXlib2FyZC4gV2hlbiB0aGlzIGhhcHBlbnMsIGNoaWxkcmVuIHdvbid0IHJlY2VpdmUgdGhlIHRhcC5cbiAgICogICAtIGAnYWx3YXlzJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHksIGFuZCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBub3RcbiAgICogICAgIGNhdGNoIHRhcHMsIGJ1dCBjaGlsZHJlbiBvZiB0aGUgc2Nyb2xsIHZpZXcgY2FuIGNhdGNoIHRhcHMuXG4gICAqICAgLSBgJ2hhbmRsZWQnYCwgdGhlIGtleWJvYXJkIHdpbGwgbm90IGRpc21pc3MgYXV0b21hdGljYWxseSB3aGVuIHRoZSB0YXAgd2FzIGhhbmRsZWQgYnlcbiAgICogICAgIGEgY2hpbGRyZW4sIChvciBjYXB0dXJlZCBieSBhbiBhbmNlc3RvcikuXG4gICAqICAgLSBgZmFsc2VgLCBkZXByZWNhdGVkLCB1c2UgJ25ldmVyJyBpbnN0ZWFkXG4gICAqICAgLSBgdHJ1ZWAsIGRlcHJlY2F0ZWQsIHVzZSAnYWx3YXlzJyBpbnN0ZWFkXG4gICAqL1xuICBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPzogPygnYWx3YXlzJyB8ICduZXZlcicgfCAnaGFuZGxlZCcgfCB0cnVlIHwgZmFsc2UpLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBzdGFydHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsQmVnaW4/OiAoZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBlbmRzIChzY3JvbGwgd2hpY2ggb2NjdXJzIGFzIHRoZSBTY3JvbGxWaWV3IGdsaWRlcyB0byBhIHN0b3ApLlxuICAgKi9cbiAgb25Nb21lbnR1bVNjcm9sbEVuZD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG5cbiAgLyoqXG4gICAqIEZpcmVzIGF0IG1vc3Qgb25jZSBwZXIgZnJhbWUgZHVyaW5nIHNjcm9sbGluZy4gVGhlIGZyZXF1ZW5jeSBvZiB0aGVcbiAgICogZXZlbnRzIGNhbiBiZSBjb250cm9sbGVkIHVzaW5nIHRoZSBgc2Nyb2xsRXZlbnRUaHJvdHRsZWAgcHJvcC5cbiAgICovXG4gIG9uU2Nyb2xsPzogKGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIGJlZ2lucyB0byBkcmFnIHRoZSBzY3JvbGwgdmlldy5cbiAgICovXG4gIG9uU2Nyb2xsQmVnaW5EcmFnPzogKGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIHN0b3BzIGRyYWdnaW5nIHRoZSBzY3JvbGwgdmlldyBhbmQgaXQgZWl0aGVyIHN0b3BzXG4gICAqIG9yIGJlZ2lucyB0byBnbGlkZS5cbiAgICovXG4gIG9uU2Nyb2xsRW5kRHJhZz86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBzY3JvbGxhYmxlIGNvbnRlbnQgdmlldyBvZiB0aGUgU2Nyb2xsVmlldyBjaGFuZ2VzLlxuICAgKlxuICAgKiBIYW5kbGVyIGZ1bmN0aW9uIGlzIHBhc3NlZCB0aGUgY29udGVudCB3aWR0aCBhbmQgY29udGVudCBoZWlnaHQgYXMgcGFyYW1ldGVyczpcbiAgICogYChjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpYFxuICAgKlxuICAgKiBJdCdzIGltcGxlbWVudGVkIHVzaW5nIG9uTGF5b3V0IGhhbmRsZXIgYXR0YWNoZWQgdG8gdGhlIGNvbnRlbnQgY29udGFpbmVyXG4gICAqIHdoaWNoIHRoaXMgU2Nyb2xsVmlldyByZW5kZXJzLlxuICAgKi9cbiAgb25Db250ZW50U2l6ZUNoYW5nZT86IChjb250ZW50V2lkdGg6IG51bWJlciwgY29udGVudEhlaWdodDogbnVtYmVyKSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkU2hvdz86IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIG11bHRpcGxlcyBvZiB0aGUgc2Nyb2xsIHZpZXcncyBzaXplXG4gICAqIHdoZW4gc2Nyb2xsaW5nLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBob3Jpem9udGFsIHBhZ2luYXRpb24uIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBOb3RlOiBWZXJ0aWNhbCBwYWdpbmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gQW5kcm9pZC5cbiAgICovXG4gIHBhZ2luZ0VuYWJsZWQ/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogV2hlbiBmYWxzZSwgdGhlIHZpZXcgY2Fubm90IGJlIHNjcm9sbGVkIHZpYSB0b3VjaCBpbnRlcmFjdGlvbi5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSB2aWV3IGNhbiBhbHdheXMgYmUgc2Nyb2xsZWQgYnkgY2FsbGluZyBgc2Nyb2xsVG9gLlxuICAgKi9cbiAgc2Nyb2xsRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIHZlcnRpY2FsIHNjcm9sbCBpbmRpY2F0b3IuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzaG93c1ZlcnRpY2FsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBjaGlsZCBpbmRpY2VzIGRldGVybWluaW5nIHdoaWNoIGNoaWxkcmVuIGdldCBkb2NrZWQgdG8gdGhlXG4gICAqIHRvcCBvZiB0aGUgc2NyZWVuIHdoZW4gc2Nyb2xsaW5nLiBGb3IgZXhhbXBsZSwgcGFzc2luZ1xuICAgKiBgc3RpY2t5SGVhZGVySW5kaWNlcz17WzBdfWAgd2lsbCBjYXVzZSB0aGUgZmlyc3QgY2hpbGQgdG8gYmUgZml4ZWQgdG8gdGhlXG4gICAqIHRvcCBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgcHJvcGVydHkgaXMgbm90IHN1cHBvcnRlZCBpbiBjb25qdW5jdGlvblxuICAgKiB3aXRoIGBob3Jpem9udGFsPXt0cnVlfWAuXG4gICAqL1xuICBzdGlja3lIZWFkZXJJbmRpY2VzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBBIFJlYWN0IENvbXBvbmVudCB0aGF0IHdpbGwgYmUgdXNlZCB0byByZW5kZXIgc3RpY2t5IGhlYWRlcnMuXG4gICAqIFRvIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBgc3RpY2t5SGVhZGVySW5kaWNlc2Agb3Igd2l0aCBgU2VjdGlvbkxpc3RgLCBkZWZhdWx0cyB0byBgU2Nyb2xsVmlld1N0aWNreUhlYWRlcmAuXG4gICAqIFlvdSBtYXkgbmVlZCB0byBzZXQgdGhpcyBpZiB5b3VyIHN0aWNreSBoZWFkZXIgdXNlcyBjdXN0b20gdHJhbnNmb3JtcyAoZWcuIHRyYW5zbGF0aW9uKSxcbiAgICogZm9yIGV4YW1wbGUgd2hlbiB5b3Ugd2FudCB5b3VyIGxpc3QgdG8gaGF2ZSBhbiBhbmltYXRlZCBoaWRhYmxlIGhlYWRlci5cbiAgICovXG4gIFN0aWNreUhlYWRlckNvbXBvbmVudD86IFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGUsXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2F1c2VzIHRoZSBzY3JvbGwgdmlldyB0byBzdG9wIGF0IG11bHRpcGxlcyBvZiB0aGUgdmFsdWUgb2ZcbiAgICogYHNuYXBUb0ludGVydmFsYC4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgcGFnaW5hdGluZyB0aHJvdWdoIGNoaWxkcmVuXG4gICAqIHRoYXQgaGF2ZSBsZW5ndGhzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcuIFR5cGljYWxseSB1c2VkIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGggYHNuYXBUb0FsaWdubWVudGAgYW5kIGBkZWNlbGVyYXRpb25SYXRlPVwiZmFzdFwiYC5cbiAgICpcbiAgICogT3ZlcnJpZGVzIGxlc3MgY29uZmlndXJhYmxlIGBwYWdpbmdFbmFibGVkYCBwcm9wLlxuICAgKi9cbiAgc25hcFRvSW50ZXJ2YWw/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiBzZXQsIGNhdXNlcyB0aGUgc2Nyb2xsIHZpZXcgdG8gc3RvcCBhdCB0aGUgZGVmaW5lZCBvZmZzZXRzLlxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIGZvciBwYWdpbmF0aW5nIHRocm91Z2ggdmFyaW91c2x5IHNpemVkIGNoaWxkcmVuXG4gICAqIHRoYXQgaGF2ZSBsZW5ndGhzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcuIFR5cGljYWxseSB1c2VkIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGggYGRlY2VsZXJhdGlvblJhdGU9XCJmYXN0XCJgLlxuICAgKlxuICAgKiBPdmVycmlkZXMgbGVzcyBjb25maWd1cmFibGUgYHBhZ2luZ0VuYWJsZWRgIGFuZCBgc25hcFRvSW50ZXJ2YWxgIHByb3BzLlxuICAgKi9cbiAgc25hcFRvT2Zmc2V0cz86ID8kUmVhZE9ubHlBcnJheTxudW1iZXI+LFxuICAvKipcbiAgICogVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgYmVnaW5uaW5nXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb1N0YXJ0YCB0byBmYWxzZSB0byBkaXNhYmxlXG4gICAqIHRoaXMgYmVoYXZpb3IgYW5kIGFsbG93IHRoZSBsaXN0IHRvIHNjcm9sbCBmcmVlbHkgYmV0d2VlbiBpdHMgc3RhcnQgYW5kXG4gICAqIHRoZSBmaXJzdCBgc25hcFRvT2Zmc2V0c2Agb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc25hcFRvU3RhcnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFVzZSBpbiBjb25qdW5jdGlvbiB3aXRoIGBzbmFwVG9PZmZzZXRzYC4gQnkgZGVmYXVsdCwgdGhlIGVuZFxuICAgKiBvZiB0aGUgbGlzdCBjb3VudHMgYXMgYSBzbmFwIG9mZnNldC4gU2V0IGBzbmFwVG9FbmRgIHRvIGZhbHNlIHRvIGRpc2FibGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgYWxsb3cgdGhlIGxpc3QgdG8gc2Nyb2xsIGZyZWVseSBiZXR3ZWVuIGl0cyBlbmQgYW5kXG4gICAqIHRoZSBsYXN0IGBzbmFwVG9PZmZzZXRzYCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzbmFwVG9FbmQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEV4cGVyaW1lbnRhbDogV2hlbiB0cnVlLCBvZmZzY3JlZW4gY2hpbGQgdmlld3MgKHdob3NlIGBvdmVyZmxvd2AgdmFsdWUgaXNcbiAgICogYGhpZGRlbmApIGFyZSByZW1vdmVkIGZyb20gdGhlaXIgbmF0aXZlIGJhY2tpbmcgc3VwZXJ2aWV3IHdoZW4gb2Zmc2NyZWVuLlxuICAgKiBUaGlzIGNhbiBpbXByb3ZlIHNjcm9sbGluZyBwZXJmb3JtYW5jZSBvbiBsb25nIGxpc3RzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpc1xuICAgKiB0cnVlLlxuICAgKi9cbiAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIFJlZnJlc2hDb250cm9sIGNvbXBvbmVudCwgdXNlZCB0byBwcm92aWRlIHB1bGwtdG8tcmVmcmVzaFxuICAgKiBmdW5jdGlvbmFsaXR5IGZvciB0aGUgU2Nyb2xsVmlldy4gT25seSB3b3JrcyBmb3IgdmVydGljYWwgU2Nyb2xsVmlld3NcbiAgICogKGBob3Jpem9udGFsYCBwcm9wIG11c3QgYmUgYGZhbHNlYCkuXG4gICAqXG4gICAqIFNlZSBbUmVmcmVzaENvbnRyb2xdKGRvY3MvcmVmcmVzaGNvbnRyb2wuaHRtbCkuXG4gICAqL1xuICAvLyAkRmxvd0ZpeE1lIC0gaG93IHRvIGhhbmRsZSBnZW5lcmljIHR5cGUgd2l0aG91dCBleGlzdGVudGlhbCBvcGVyYXRvcj9cbiAgcmVmcmVzaENvbnRyb2w/OiA/UmVhY3QuRWxlbWVudDxhbnk+LFxuICBjaGlsZHJlbj86IFJlYWN0Lk5vZGUsXG58fT47XG5cbnR5cGUgU3RhdGUgPSB7fFxuICBsYXlvdXRIZWlnaHQ6ID9udW1iZXIsXG4gIC4uLlNjcm9sbFJlc3BvbmRlclN0YXRlLFxufH07XG5cbmZ1bmN0aW9uIGNyZWF0ZVNjcm9sbFJlc3BvbmRlcihcbiAgbm9kZTogUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2Nyb2xsVmlldz4sXG4pOiB0eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluIHtcbiAgY29uc3Qgc2Nyb2xsUmVzcG9uZGVyID0gey4uLlNjcm9sbFJlc3BvbmRlci5NaXhpbn07XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gc2Nyb2xsUmVzcG9uZGVyKSB7XG4gICAgaWYgKHR5cGVvZiBzY3JvbGxSZXNwb25kZXJba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc2Nyb2xsUmVzcG9uZGVyW2tleV0gPSBzY3JvbGxSZXNwb25kZXJba2V5XS5iaW5kKG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzY3JvbGxSZXNwb25kZXI7XG59XG5cbnR5cGUgQ29udGV4dFR5cGUgPSB7fGhvcml6b250YWw6IGJvb2xlYW58fSB8IG51bGw7XG5jb25zdCBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxDb250ZXh0VHlwZT4obnVsbCk7XG5jb25zdCBzdGFuZGFyZEhvcml6b250YWxDb250ZXh0OiBDb250ZXh0VHlwZSA9IE9iamVjdC5mcmVlemUoe1xuICBob3Jpem9udGFsOiB0cnVlLFxufSk7XG5jb25zdCBzdGFuZGFyZFZlcnRpY2FsQ29udGV4dDogQ29udGV4dFR5cGUgPSBPYmplY3QuZnJlZXplKHtob3Jpem9udGFsOiBmYWxzZX0pO1xuXG4vKipcbiAqIENvbXBvbmVudCB0aGF0IHdyYXBzIHBsYXRmb3JtIFNjcm9sbFZpZXcgd2hpbGUgcHJvdmlkaW5nXG4gKiBpbnRlZ3JhdGlvbiB3aXRoIHRvdWNoIGxvY2tpbmcgXCJyZXNwb25kZXJcIiBzeXN0ZW0uXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgU2Nyb2xsVmlld3MgbXVzdCBoYXZlIGEgYm91bmRlZCBoZWlnaHQgaW4gb3JkZXIgdG8gd29yayxcbiAqIHNpbmNlIHRoZXkgY29udGFpbiB1bmJvdW5kZWQtaGVpZ2h0IGNoaWxkcmVuIGludG8gYSBib3VuZGVkIGNvbnRhaW5lciAodmlhXG4gKiBhIHNjcm9sbCBpbnRlcmFjdGlvbikuIEluIG9yZGVyIHRvIGJvdW5kIHRoZSBoZWlnaHQgb2YgYSBTY3JvbGxWaWV3LCBlaXRoZXJcbiAqIHNldCB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3IGRpcmVjdGx5IChkaXNjb3VyYWdlZCkgb3IgbWFrZSBzdXJlIGFsbCBwYXJlbnRcbiAqIHZpZXdzIGhhdmUgYm91bmRlZCBoZWlnaHQuIEZvcmdldHRpbmcgdG8gdHJhbnNmZXIgYHtmbGV4OiAxfWAgZG93biB0aGVcbiAqIHZpZXcgc3RhY2sgY2FuIGxlYWQgdG8gZXJyb3JzIGhlcmUsIHdoaWNoIHRoZSBlbGVtZW50IGluc3BlY3RvciBtYWtlc1xuICogZWFzeSB0byBkZWJ1Zy5cbiAqXG4gKiBEb2Vzbid0IHlldCBzdXBwb3J0IG90aGVyIGNvbnRhaW5lZCByZXNwb25kZXJzIGZyb20gYmxvY2tpbmcgdGhpcyBzY3JvbGxcbiAqIHZpZXcgZnJvbSBiZWNvbWluZyB0aGUgcmVzcG9uZGVyLlxuICpcbiAqXG4gKiBgPFNjcm9sbFZpZXc+YCB2cyBbYDxGbGF0TGlzdD5gXSgvcmVhY3QtbmF0aXZlL2RvY3MvZmxhdGxpc3QuaHRtbCkgLSB3aGljaCBvbmUgdG8gdXNlP1xuICpcbiAqIGBTY3JvbGxWaWV3YCBzaW1wbHkgcmVuZGVycyBhbGwgaXRzIHJlYWN0IGNoaWxkIGNvbXBvbmVudHMgYXQgb25jZS4gVGhhdFxuICogbWFrZXMgaXQgdmVyeSBlYXN5IHRvIHVuZGVyc3RhbmQgYW5kIHVzZS5cbiAqXG4gKiBPbiB0aGUgb3RoZXIgaGFuZCwgdGhpcyBoYXMgYSBwZXJmb3JtYW5jZSBkb3duc2lkZS4gSW1hZ2luZSB5b3UgaGF2ZSBhIHZlcnlcbiAqIGxvbmcgbGlzdCBvZiBpdGVtcyB5b3Ugd2FudCB0byBkaXNwbGF5LCBtYXliZSBzZXZlcmFsIHNjcmVlbnMgd29ydGggb2ZcbiAqIGNvbnRlbnQuIENyZWF0aW5nIEpTIGNvbXBvbmVudHMgYW5kIG5hdGl2ZSB2aWV3cyBmb3IgZXZlcnl0aGluZyBhbGwgYXQgb25jZSxcbiAqIG11Y2ggb2Ygd2hpY2ggbWF5IG5vdCBldmVuIGJlIHNob3duLCB3aWxsIGNvbnRyaWJ1dGUgdG8gc2xvdyByZW5kZXJpbmcgYW5kXG4gKiBpbmNyZWFzZWQgbWVtb3J5IHVzYWdlLlxuICpcbiAqIFRoaXMgaXMgd2hlcmUgYEZsYXRMaXN0YCBjb21lcyBpbnRvIHBsYXkuIGBGbGF0TGlzdGAgcmVuZGVycyBpdGVtcyBsYXppbHksXG4gKiBqdXN0IHdoZW4gdGhleSBhcmUgYWJvdXQgdG8gYXBwZWFyLCBhbmQgcmVtb3ZlcyBpdGVtcyB0aGF0IHNjcm9sbCB3YXkgb2ZmXG4gKiBzY3JlZW4gdG8gc2F2ZSBtZW1vcnkgYW5kIHByb2Nlc3NpbmcgdGltZS5cbiAqXG4gKiBgRmxhdExpc3RgIGlzIGFsc28gaGFuZHkgaWYgeW91IHdhbnQgdG8gcmVuZGVyIHNlcGFyYXRvcnMgYmV0d2VlbiB5b3VyIGl0ZW1zLFxuICogbXVsdGlwbGUgY29sdW1ucywgaW5maW5pdGUgc2Nyb2xsIGxvYWRpbmcsIG9yIGFueSBudW1iZXIgb2Ygb3RoZXIgZmVhdHVyZXMgaXRcbiAqIHN1cHBvcnRzIG91dCBvZiB0aGUgYm94LlxuICovXG5jbGFzcyBTY3JvbGxWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBzdGF0aWMgQ29udGV4dDogUmVhY3QkQ29udGV4dDxDb250ZXh0VHlwZT4gPSBDb250ZXh0O1xuICAvKipcbiAgICogUGFydCAxOiBSZW1vdmluZyBTY3JvbGxSZXNwb25kZXIuTWl4aW46XG4gICAqXG4gICAqIDEuIE1peGluIG1ldGhvZHMgc2hvdWxkIGJlIGZsb3cgdHlwZWQuIFRoYXQncyB3aHkgd2UgY3JlYXRlIGFcbiAgICogICAgY29weSBvZiBTY3JvbGxSZXNwb25kZXIuTWl4aW4gYW5kIGF0dGFjaCBpdCB0byB0aGlzLl9zY3JvbGxSZXNwb25kZXIuXG4gICAqICAgIE90aGVyd2lzZSwgd2UnZCBoYXZlIHRvIG1hbnVhbGx5IGRlY2xhcmUgZWFjaCBtZXRob2Qgb24gdGhlIGNvbXBvbmVudFxuICAgKiAgICBjbGFzcyBhbmQgYXNzaWduIGl0IGEgZmxvdyB0eXBlLlxuICAgKiAyLiBNaXhpbiBtZXRob2RzIGNhbiBjYWxsIGNvbXBvbmVudCBtZXRob2RzLCBhbmQgYWNjZXNzIHRoZSBjb21wb25lbnQnc1xuICAgKiAgICBwcm9wcyBhbmQgc3RhdGUuIFNvLCB3ZSBuZWVkIHRvIGJpbmQgYWxsIG1peGluIG1ldGhvZHMgdG8gdGhlXG4gICAqICAgIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgICogMy4gQ29udGludWVkLi4uXG4gICAqL1xuICBfc2Nyb2xsUmVzcG9uZGVyOiB0eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluID0gY3JlYXRlU2Nyb2xsUmVzcG9uZGVyKHRoaXMpO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIC8qKlxuICAgICAqIFBhcnQgMjogUmVtb3ZpbmcgU2Nyb2xsUmVzcG9uZGVyLk1peGluXG4gICAgICpcbiAgICAgKiAzLiBNaXhpbiBtZXRob2RzIGFjY2VzcyBvdGhlciBtaXhpbiBtZXRob2RzIHZpYSBkeW5hbWljIGRpc3BhdGNoIHVzaW5nXG4gICAgICogICAgdGhpcy4gU2luY2UgbWl4aW4gbWV0aG9kcyBhcmUgYm91bmQgdG8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSwgd2UgbmVlZFxuICAgICAqICAgIHRvIGNvcHkgYWxsIG1peGluIG1ldGhvZHMgdG8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhpcyBpcyBhbHNvXG4gICAgICogICAgbmVjZXNzYXJ5IGJlY2F1c2UgZ2V0U2Nyb2xsUmVzcG9uZGVyKCkgaXMgYSBwdWJsaWMgbWV0aG9kIHRoYXQgcmV0dXJuc1xuICAgICAqICAgIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIGV4ZWN1dGUgYWxsIHNjcm9sbFJlc3BvbmRlciBtZXRob2RzLlxuICAgICAqICAgIFNpbmNlIHRoZSBvYmplY3QgcmV0dXJuZWQgZnJvbSB0aGF0IG1ldGhvZCBpcyB0aGUgU2Nyb2xsVmlldyBpbnN0YW5jZSxcbiAgICAgKiAgICB3ZSBuZWVkIHRvIGJpbmQgYWxsIG1peGluIG1ldGhvZHMgdG8gdGhlIFNjcm9sbFZpZXcgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZm9yIChjb25zdCBrZXkgaW4gU2Nyb2xsUmVzcG9uZGVyLk1peGluKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBTY3JvbGxSZXNwb25kZXIuTWl4aW5ba2V5XSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICBrZXkuc3RhcnRzV2l0aCgnc2Nyb2xsUmVzcG9uZGVyJylcbiAgICAgICkge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gZHluYW1pY2FsbHkgYWRkaW5nIHByb3BlcnRpZXMgdG8gYSBjbGFzc1xuICAgICAgICAodGhpczogYW55KVtrZXldID0gU2Nyb2xsUmVzcG9uZGVyLk1peGluW2tleV0uYmluZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJ0IDM6IFJlbW92aW5nIFNjcm9sbFJlc3BvbmRlci5NaXhpblxuICAgICAqXG4gICAgICogNC4gTWl4aW5zIGNhbiBpbml0aWFsaXplIHByb3BlcnRpZXMgYW5kIHVzZSBwcm9wZXJ0aWVzIG9uIHRoZSBjb21wb25lbnRcbiAgICAgKiAgICBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBPYmplY3Qua2V5cyhTY3JvbGxSZXNwb25kZXIuTWl4aW4pXG4gICAgICAuZmlsdGVyKGtleSA9PiB0eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluW2tleV0gIT09ICdmdW5jdGlvbicpXG4gICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gZHluYW1pY2FsbHkgYWRkaW5nIHByb3BlcnRpZXMgdG8gYSBjbGFzc1xuICAgICAgICAodGhpczogYW55KVtrZXldID0gU2Nyb2xsUmVzcG9uZGVyLk1peGluW2tleV07XG4gICAgICB9KTtcbiAgfVxuXG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlOiBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlID0gbmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgMCxcbiAgKTtcbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50OiA/e2RldGFjaDogKCkgPT4gdm9pZH0gPSBudWxsO1xuICBfc3RpY2t5SGVhZGVyUmVmczogTWFwPHN0cmluZywgU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZT4gPSBuZXcgTWFwKCk7XG4gIF9oZWFkZXJMYXlvdXRZczogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblxuICBzdGF0ZTogU3RhdGUgPSB7XG4gICAgbGF5b3V0SGVpZ2h0OiBudWxsLFxuICAgIC4uLlNjcm9sbFJlc3BvbmRlci5NaXhpbi5zY3JvbGxSZXNwb25kZXJNaXhpbkdldEluaXRpYWxTdGF0ZSgpLFxuICB9O1xuXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlID0gbmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQgPyB0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQueSA6IDAsXG4gICAgKTtcbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlLnNldE9mZnNldChcbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjk4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuOTggd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzXG4gICAgICAgKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIHRoaXMucHJvcHMuY29udGVudEluc2V0ID8gdGhpcy5wcm9wcy5jb250ZW50SW5zZXQudG9wIDogMCxcbiAgICApO1xuICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5faGVhZGVyTGF5b3V0WXMgPSBuZXcgTWFwKCk7XG4gIH1cblxuICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3QgY3VycmVudENvbnRlbnRJbnNldFRvcCA9IHRoaXMucHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IHRoaXMucHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGNvbnN0IG5leHRDb250ZW50SW5zZXRUb3AgPSBuZXh0UHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IG5leHRQcm9wcy5jb250ZW50SW5zZXQudG9wXG4gICAgICA6IDA7XG4gICAgaWYgKGN1cnJlbnRDb250ZW50SW5zZXRUb3AgIT09IG5leHRDb250ZW50SW5zZXRUb3ApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KG5leHRDb250ZW50SW5zZXRUb3AgfHwgMCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0TmF0aXZlUHJvcHMocHJvcHM6IHtba2V5OiBzdHJpbmddOiBtaXhlZH0pIHtcbiAgICB0aGlzLl9zY3JvbGxWaWV3UmVmICYmIHRoaXMuX3Njcm9sbFZpZXdSZWYuc2V0TmF0aXZlUHJvcHMocHJvcHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlciwgd2hpY2ggc3VwcG9ydHNcbiAgICogb3BlcmF0aW9ucyBsaWtlIGBzY3JvbGxUb2AuIEFsbCBTY3JvbGxWaWV3LWxpa2UgY29tcG9uZW50cyBzaG91bGRcbiAgICogaW1wbGVtZW50IHRoaXMgbWV0aG9kIHNvIHRoYXQgdGhleSBjYW4gYmUgY29tcG9zZWQgd2hpbGUgcHJvdmlkaW5nIGFjY2Vzc1xuICAgKiB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyJ3MgbWV0aG9kcy5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcigpOiBTY3JvbGxSZXNwb25kZXJUeXBlIHtcbiAgICAvLyAkRmxvd0ZpeE1lIC0gb3ZlcnJpZGluZyB0eXBlIHRvIGluY2x1ZGUgU2Nyb2xsUmVzcG9uZGVyLk1peGluXG4gICAgcmV0dXJuICgodGhpczogYW55KTogU2Nyb2xsUmVzcG9uZGVyVHlwZSk7XG4gIH1cblxuICBnZXRTY3JvbGxhYmxlTm9kZSgpOiA/bnVtYmVyIHtcbiAgICByZXR1cm4gUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUodGhpcy5fc2Nyb2xsVmlld1JlZik7XG4gIH1cblxuICBnZXRJbm5lclZpZXdOb2RlKCk6ID9udW1iZXIge1xuICAgIHJldHVybiBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzLl9pbm5lclZpZXdSZWYpO1xuICB9XG5cbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmKCk6ID9TY3JvbGxWaWV3IHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsVmlld1JlZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRvIGEgZ2l2ZW4geCwgeSBvZmZzZXQsIGVpdGhlciBpbW1lZGlhdGVseSBvciB3aXRoIGEgc21vb3RoIGFuaW1hdGlvbi5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogYHNjcm9sbFRvKHt4OiAwLCB5OiAwLCBhbmltYXRlZDogdHJ1ZX0pYFxuICAgKlxuICAgKiBOb3RlOiBUaGUgd2VpcmQgZnVuY3Rpb24gc2lnbmF0dXJlIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0LCBmb3IgaGlzdG9yaWNhbCByZWFzb25zLFxuICAgKiB0aGUgZnVuY3Rpb24gYWxzbyBhY2NlcHRzIHNlcGFyYXRlIGFyZ3VtZW50cyBhcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIFRoaXMgaXMgZGVwcmVjYXRlZCBkdWUgdG8gYW1iaWd1aXR5ICh5IGJlZm9yZSB4KSwgYW5kIFNIT1VMRCBOT1QgQkUgVVNFRC5cbiAgICovXG4gIHNjcm9sbFRvKFxuICAgIG9wdGlvbnM/OiB7eD86IG51bWJlciwgeT86IG51bWJlciwgYW5pbWF0ZWQ/OiBib29sZWFufSB8IG51bWJlcixcbiAgICBkZXByZWNhdGVkWD86IG51bWJlcixcbiAgICBkZXByZWNhdGVkQW5pbWF0ZWQ/OiBib29sZWFuLFxuICApIHtcbiAgICBsZXQgeCwgeSwgYW5pbWF0ZWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnYHNjcm9sbFRvKHksIHgsIGFuaW1hdGVkKWAgaXMgZGVwcmVjYXRlZC4gVXNlIGBzY3JvbGxUbyh7eDogNSwgeTogNSwgJyArXG4gICAgICAgICAgJ2FuaW1hdGVkOiB0cnVlfSlgIGluc3RlYWQuJyxcbiAgICAgICk7XG4gICAgICB5ID0gb3B0aW9ucztcbiAgICAgIHggPSBkZXByZWNhdGVkWDtcbiAgICAgIGFuaW1hdGVkID0gZGVwcmVjYXRlZEFuaW1hdGVkO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucykge1xuICAgICAgeSA9IG9wdGlvbnMueTtcbiAgICAgIHggPSBvcHRpb25zLng7XG4gICAgICBhbmltYXRlZCA9IG9wdGlvbnMuYW5pbWF0ZWQ7XG4gICAgfVxuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJTY3JvbGxUbyh7XG4gICAgICB4OiB4IHx8IDAsXG4gICAgICB5OiB5IHx8IDAsXG4gICAgICBhbmltYXRlZDogYW5pbWF0ZWQgIT09IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgaXMgYSB2ZXJ0aWNhbCBTY3JvbGxWaWV3IHNjcm9sbHMgdG8gdGhlIGJvdHRvbS5cbiAgICogSWYgdGhpcyBpcyBhIGhvcml6b250YWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSByaWdodC5cbiAgICpcbiAgICogVXNlIGBzY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IHRydWV9KWAgZm9yIHNtb290aCBhbmltYXRlZCBzY3JvbGxpbmcsXG4gICAqIGBzY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IGZhbHNlfSlgIGZvciBpbW1lZGlhdGUgc2Nyb2xsaW5nLlxuICAgKiBJZiBubyBvcHRpb25zIGFyZSBwYXNzZWQsIGBhbmltYXRlZGAgZGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICovXG4gIHNjcm9sbFRvRW5kKG9wdGlvbnM/OiA/e2FuaW1hdGVkPzogYm9vbGVhbn0pIHtcbiAgICAvLyBEZWZhdWx0IHRvIHRydWVcbiAgICBjb25zdCBhbmltYXRlZCA9IChvcHRpb25zICYmIG9wdGlvbnMuYW5pbWF0ZWQpICE9PSBmYWxzZTtcbiAgICB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG9FbmQoe1xuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlcHJlY2F0ZWQsIHVzZSBgc2Nyb2xsVG9gIGluc3RlYWQuXG4gICAqL1xuICBzY3JvbGxXaXRob3V0QW5pbWF0aW9uVG8oeTogbnVtYmVyID0gMCwgeDogbnVtYmVyID0gMCkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdgc2Nyb2xsV2l0aG91dEFuaW1hdGlvblRvYCBpcyBkZXByZWNhdGVkLiBVc2UgYHNjcm9sbFRvYCBpbnN0ZWFkJyxcbiAgICApO1xuICAgIHRoaXMuc2Nyb2xsVG8oe3gsIHksIGFuaW1hdGVkOiBmYWxzZX0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBzY3JvbGwgaW5kaWNhdG9ycyBtb21lbnRhcmlseS5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCkge1xuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJGbGFzaFNjcm9sbEluZGljYXRvcnMoKTtcbiAgfVxuXG4gIF9nZXRLZXlGb3JJbmRleChpbmRleCwgY2hpbGRBcnJheSkge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRBcnJheVtpbmRleF07XG4gICAgcmV0dXJuIGNoaWxkICYmIGNoaWxkLmtleTtcbiAgfVxuXG4gIF91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyAmJlxuICAgICAgdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50ID0gQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5hdHRhY2hOYXRpdmVFdmVudChcbiAgICAgICAgdGhpcy5fc2Nyb2xsVmlld1JlZixcbiAgICAgICAgJ29uU2Nyb2xsJyxcbiAgICAgICAgW3tuYXRpdmVFdmVudDoge2NvbnRlbnRPZmZzZXQ6IHt5OiB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfX19XSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX3NldFN0aWNreUhlYWRlclJlZihrZXk6IHN0cmluZywgcmVmOiA/U3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSkge1xuICAgIGlmIChyZWYpIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuc2V0KGtleSwgcmVmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5kZWxldGUoa2V5KTtcbiAgICB9XG4gIH1cblxuICBfb25TdGlja3lIZWFkZXJMYXlvdXQoaW5kZXgsIGV2ZW50LCBrZXkpIHtcbiAgICBjb25zdCB7c3RpY2t5SGVhZGVySW5kaWNlc30gPSB0aGlzLnByb3BzO1xuICAgIGlmICghc3RpY2t5SGVhZGVySW5kaWNlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZEFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICBpZiAoa2V5ICE9PSB0aGlzLl9nZXRLZXlGb3JJbmRleChpbmRleCwgY2hpbGRBcnJheSkpIHtcbiAgICAgIC8vIGlnbm9yZSBzdGFsZSBsYXlvdXQgdXBkYXRlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbGF5b3V0WSA9IGV2ZW50Lm5hdGl2ZUV2ZW50LmxheW91dC55O1xuICAgIHRoaXMuX2hlYWRlckxheW91dFlzLnNldChrZXksIGxheW91dFkpO1xuXG4gICAgY29uc3QgaW5kZXhPZkluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlcy5pbmRleE9mKGluZGV4KTtcbiAgICBjb25zdCBwcmV2aW91c0hlYWRlckluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlc1tpbmRleE9mSW5kZXggLSAxXTtcbiAgICBpZiAocHJldmlvdXNIZWFkZXJJbmRleCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBwcmV2aW91c0hlYWRlciA9IHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZ2V0KFxuICAgICAgICB0aGlzLl9nZXRLZXlGb3JJbmRleChwcmV2aW91c0hlYWRlckluZGV4LCBjaGlsZEFycmF5KSxcbiAgICAgICk7XG4gICAgICBwcmV2aW91c0hlYWRlciAmJlxuICAgICAgICBwcmV2aW91c0hlYWRlci5zZXROZXh0SGVhZGVyWSAmJlxuICAgICAgICBwcmV2aW91c0hlYWRlci5zZXROZXh0SGVhZGVyWShsYXlvdXRZKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlU2Nyb2xsID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wcm9wcy5vblNjcm9sbCAmJlxuICAgICAgICB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUgPT0gbnVsbCAmJlxuICAgICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2lvcydcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAnWW91IHNwZWNpZmllZCBgb25TY3JvbGxgIG9uIGEgPFNjcm9sbFZpZXc+IGJ1dCBub3QgJyArXG4gICAgICAgICAgICAnYHNjcm9sbEV2ZW50VGhyb3R0bGVgLiBZb3Ugd2lsbCBvbmx5IHJlY2VpdmUgb25lIGV2ZW50LiAnICtcbiAgICAgICAgICAgICdVc2luZyBgMTZgIHlvdSBnZXQgYWxsIHRoZSBldmVudHMgYnV0IGJlIGF3YXJlIHRoYXQgaXQgbWF5ICcgK1xuICAgICAgICAgICAgXCJjYXVzZSBmcmFtZSBkcm9wcywgdXNlIGEgYmlnZ2VyIG51bWJlciBpZiB5b3UgZG9uJ3QgbmVlZCBhcyBcIiArXG4gICAgICAgICAgICAnbXVjaCBwcmVjaXNpb24uJyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZERpc21pc3NNb2RlID09PSAnb24tZHJhZycgJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5pc1RvdWNoaW5nXG4gICAgICApIHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGwoZSk7XG4gIH07XG5cbiAgX2hhbmRsZUxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnMgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2xheW91dEhlaWdodDogZS5uYXRpdmVFdmVudC5sYXlvdXQuaGVpZ2h0fSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIH1cbiAgfTtcblxuICBfaGFuZGxlQ29udGVudE9uTGF5b3V0ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlICYmXG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2Uod2lkdGgsIGhlaWdodCk7XG4gIH07XG5cbiAgX3Njcm9sbFZpZXdSZWY6ID9TY3JvbGxWaWV3ID0gbnVsbDtcbiAgX3NldFNjcm9sbFZpZXdSZWYgPSAocmVmOiA/U2Nyb2xsVmlldykgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFZpZXdSZWYgPSByZWY7XG4gIH07XG5cbiAgX2lubmVyVmlld1JlZjogP05hdGl2ZU1ldGhvZHNNaXhpblR5cGUgPSBudWxsO1xuICBfc2V0SW5uZXJWaWV3UmVmID0gKHJlZjogP05hdGl2ZU1ldGhvZHNNaXhpblR5cGUpID0+IHtcbiAgICB0aGlzLl9pbm5lclZpZXdSZWYgPSByZWY7XG4gIH07XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUgfCBSZWFjdC5FbGVtZW50PHN0cmluZz4ge1xuICAgIGxldCBTY3JvbGxWaWV3Q2xhc3M7XG4gICAgbGV0IFNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3M7XG4gICAgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWUpIHtcbiAgICAgICAgU2Nyb2xsVmlld0NsYXNzID0gQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3O1xuICAgICAgICBTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzID0gQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50VmlldztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFNjcm9sbFZpZXdDbGFzcyA9IEFuZHJvaWRTY3JvbGxWaWV3O1xuICAgICAgICBTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzID0gVmlldztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgU2Nyb2xsVmlld0NsYXNzID0gUkNUU2Nyb2xsVmlldztcbiAgICAgIFNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MgPSBSQ1RTY3JvbGxDb250ZW50VmlldztcbiAgICB9XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBTY3JvbGxWaWV3Q2xhc3MgIT09IHVuZGVmaW5lZCxcbiAgICAgICdTY3JvbGxWaWV3Q2xhc3MgbXVzdCBub3QgYmUgdW5kZWZpbmVkJyxcbiAgICApO1xuXG4gICAgaW52YXJpYW50KFxuICAgICAgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyAhPT0gdW5kZWZpbmVkLFxuICAgICAgJ1Njcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MgbXVzdCBub3QgYmUgdW5kZWZpbmVkJyxcbiAgICApO1xuXG4gICAgY29uc3QgY29udGVudENvbnRhaW5lclN0eWxlID0gW1xuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlICYmIHN0eWxlcy5jb250ZW50Q29udGFpbmVySG9yaXpvbnRhbCxcbiAgICAgIHRoaXMucHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlLFxuICAgIF07XG4gICAgaWYgKF9fREVWX18gJiYgdGhpcy5wcm9wcy5zdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLnN0eWxlKTtcbiAgICAgIGNvbnN0IGNoaWxkTGF5b3V0UHJvcHMgPSBbJ2FsaWduSXRlbXMnLCAnanVzdGlmeUNvbnRlbnQnXS5maWx0ZXIoXG4gICAgICAgIHByb3AgPT4gc3R5bGUgJiYgc3R5bGVbcHJvcF0gIT09IHVuZGVmaW5lZCxcbiAgICAgICk7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGNoaWxkTGF5b3V0UHJvcHMubGVuZ3RoID09PSAwLFxuICAgICAgICAnU2Nyb2xsVmlldyBjaGlsZCBsYXlvdXQgKCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGNoaWxkTGF5b3V0UHJvcHMpICtcbiAgICAgICAgICAnKSBtdXN0IGJlIGFwcGxpZWQgdGhyb3VnaCB0aGUgY29udGVudENvbnRhaW5lclN0eWxlIHByb3AuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGNvbnRlbnRTaXplQ2hhbmdlUHJvcHMgPSB7fTtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKSB7XG4gICAgICBjb250ZW50U2l6ZUNoYW5nZVByb3BzID0ge1xuICAgICAgICBvbkxheW91dDogdGhpcy5faGFuZGxlQ29udGVudE9uTGF5b3V0LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCB7c3RpY2t5SGVhZGVySW5kaWNlc30gPSB0aGlzLnByb3BzO1xuICAgIGxldCBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICBpZiAoc3RpY2t5SGVhZGVySW5kaWNlcyAhPSBudWxsICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY2hpbGRBcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG5cbiAgICAgIGNoaWxkcmVuID0gY2hpbGRBcnJheS5tYXAoKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpbmRleE9mSW5kZXggPSBjaGlsZCA/IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCkgOiAtMTtcbiAgICAgICAgaWYgKGluZGV4T2ZJbmRleCA+IC0xKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gY2hpbGQua2V5O1xuICAgICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4ICsgMV07XG4gICAgICAgICAgY29uc3QgU3RpY2t5SGVhZGVyQ29tcG9uZW50ID1cbiAgICAgICAgICAgIHRoaXMucHJvcHMuU3RpY2t5SGVhZGVyQ29tcG9uZW50IHx8IFNjcm9sbFZpZXdTdGlja3lIZWFkZXI7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxTdGlja3lIZWFkZXJDb21wb25lbnRcbiAgICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBpbmV4YWN0IG1peGVkIGlzIGluY29tcGF0aWJsZSB3aXRoIGV4YWN0IFJlYWN0LkVsZW1lbnRcbiAgICAgICAgICAgICAgcmVmPXtyZWYgPT4gdGhpcy5fc2V0U3RpY2t5SGVhZGVyUmVmKGtleSwgcmVmKX1cbiAgICAgICAgICAgICAgbmV4dEhlYWRlckxheW91dFk9e3RoaXMuX2hlYWRlckxheW91dFlzLmdldChcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRLZXlGb3JJbmRleChuZXh0SW5kZXgsIGNoaWxkQXJyYXkpLFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBvbkxheW91dD17ZXZlbnQgPT4gdGhpcy5fb25TdGlja3lIZWFkZXJMYXlvdXQoaW5kZXgsIGV2ZW50LCBrZXkpfVxuICAgICAgICAgICAgICBzY3JvbGxBbmltYXRlZFZhbHVlPXt0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfVxuICAgICAgICAgICAgICBpbnZlcnRlZD17dGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzfVxuICAgICAgICAgICAgICBzY3JvbGxWaWV3SGVpZ2h0PXt0aGlzLnN0YXRlLmxheW91dEhlaWdodH0+XG4gICAgICAgICAgICAgIHtjaGlsZH1cbiAgICAgICAgICAgIDwvU3RpY2t5SGVhZGVyQ29tcG9uZW50PlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGRyZW4gPSAoXG4gICAgICA8Q29udGV4dC5Qcm92aWRlclxuICAgICAgICB2YWx1ZT17XG4gICAgICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlXG4gICAgICAgICAgICA/IHN0YW5kYXJkSG9yaXpvbnRhbENvbnRleHRcbiAgICAgICAgICAgIDogc3RhbmRhcmRWZXJ0aWNhbENvbnRleHRcbiAgICAgICAgfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9Db250ZXh0LlByb3ZpZGVyPlxuICAgICk7XG5cbiAgICBjb25zdCBoYXNTdGlja3lIZWFkZXJzID1cbiAgICAgIEFycmF5LmlzQXJyYXkoc3RpY2t5SGVhZGVySW5kaWNlcykgJiYgc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwO1xuXG4gICAgY29uc3QgY29udGVudENvbnRhaW5lciA9IChcbiAgICAgIDxTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzXG4gICAgICAgIHsuLi5jb250ZW50U2l6ZUNoYW5nZVByb3BzfVxuICAgICAgICAvLyAkRmxvd0ZpeE1lIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgICByZWY9e3RoaXMuX3NldElubmVyVmlld1JlZn1cbiAgICAgICAgc3R5bGU9e2NvbnRlbnRDb250YWluZXJTdHlsZX1cbiAgICAgICAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPXtcbiAgICAgICAgICAvLyBTdWJ2aWV3IGNsaXBwaW5nIGNhdXNlcyBpc3N1ZXMgd2l0aCBzdGlja3kgaGVhZGVycyBvbiBBbmRyb2lkIGFuZFxuICAgICAgICAgIC8vIHdvdWxkIGJlIGhhcmQgdG8gZml4IHByb3Blcmx5IGluIGEgcGVyZm9ybWFudCB3YXkuXG4gICAgICAgICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJiBoYXNTdGlja3lIZWFkZXJzXG4gICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICA6IHRoaXMucHJvcHMucmVtb3ZlQ2xpcHBlZFN1YnZpZXdzXG4gICAgICAgIH1cbiAgICAgICAgY29sbGFwc2FibGU9e2ZhbHNlfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9TY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzPlxuICAgICk7XG5cbiAgICBjb25zdCBhbHdheXNCb3VuY2VIb3Jpem9udGFsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VIb3Jpem9udGFsXG4gICAgICAgIDogdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlVmVydGljYWwgPVxuICAgICAgdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VWZXJ0aWNhbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VWZXJ0aWNhbFxuICAgICAgICA6ICF0aGlzLnByb3BzLmhvcml6b250YWw7XG5cbiAgICBjb25zdCBERVBSRUNBVEVEX3NlbmRVcGRhdGVkQ2hpbGRGcmFtZXMgPSAhIXRoaXMucHJvcHNcbiAgICAgIC5ERVBSRUNBVEVEX3NlbmRVcGRhdGVkQ2hpbGRGcmFtZXM7XG5cbiAgICBjb25zdCBiYXNlU3R5bGUgPVxuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlXG4gICAgICAgID8gc3R5bGVzLmJhc2VIb3Jpem9udGFsXG4gICAgICAgIDogc3R5bGVzLmJhc2VWZXJ0aWNhbDtcbiAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBhbHdheXNCb3VuY2VIb3Jpem9udGFsLFxuICAgICAgYWx3YXlzQm91bmNlVmVydGljYWwsXG4gICAgICBzdHlsZTogW2Jhc2VTdHlsZSwgdGhpcy5wcm9wcy5zdHlsZV0sXG4gICAgICAvLyBPdmVycmlkZSB0aGUgb25Db250ZW50U2l6ZUNoYW5nZSBmcm9tIHByb3BzLCBzaW5jZSB0aGlzIGV2ZW50IGNhblxuICAgICAgLy8gYnViYmxlIHVwIGZyb20gVGV4dElucHV0c1xuICAgICAgb25Db250ZW50U2l6ZUNoYW5nZTogbnVsbCxcbiAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVMYXlvdXQsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsQmVnaW46IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICBvblJlc3BvbmRlckdyYW50OiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlckdyYW50LFxuICAgICAgb25SZXNwb25kZXJSZWplY3Q6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyUmVqZWN0LFxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlclJlbGVhc2UsXG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0ZTogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVUZXJtaW5hdGUsXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVUZXJtaW5hdGlvblJlcXVlc3QsXG4gICAgICBvblNjcm9sbEJlZ2luRHJhZzogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxFbmREcmFnLFxuICAgICAgb25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXI6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSxcbiAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaEVuZCxcbiAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hTdGFydCxcbiAgICAgIG9uVG91Y2hDYW5jZWw6IHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaENhbmNlbCxcbiAgICAgIG9uU2Nyb2xsOiB0aGlzLl9oYW5kbGVTY3JvbGwsXG4gICAgICBzY3JvbGxCYXJUaHVtYkltYWdlOiByZXNvbHZlQXNzZXRTb3VyY2UodGhpcy5wcm9wcy5zY3JvbGxCYXJUaHVtYkltYWdlKSxcbiAgICAgIHNjcm9sbEV2ZW50VGhyb3R0bGU6IGhhc1N0aWNreUhlYWRlcnNcbiAgICAgICAgPyAxXG4gICAgICAgIDogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLFxuICAgICAgc2VuZE1vbWVudHVtRXZlbnRzOlxuICAgICAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbiB8fCB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmRcbiAgICAgICAgICA/IHRydWVcbiAgICAgICAgICA6IGZhbHNlLFxuICAgICAgREVQUkVDQVRFRF9zZW5kVXBkYXRlZENoaWxkRnJhbWVzLFxuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlXG4gICAgICBzbmFwVG9TdGFydDogdGhpcy5wcm9wcy5zbmFwVG9TdGFydCAhPT0gZmFsc2UsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb0VuZDogdGhpcy5wcm9wcy5zbmFwVG9FbmQgIT09IGZhbHNlLFxuICAgICAgLy8gcGFnaW5nRW5hYmxlZCBpcyBvdmVycmlkZGVuIGJ5IHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0c1xuICAgICAgcGFnaW5nRW5hYmxlZDogUGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgICAgLy8gb24gaU9TLCBwYWdpbmdFbmFibGVkIG11c3QgYmUgc2V0IHRvIGZhbHNlIHRvIGhhdmUgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzIHdvcmtcbiAgICAgICAgaW9zOlxuICAgICAgICAgIHRoaXMucHJvcHMucGFnaW5nRW5hYmxlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvSW50ZXJ2YWwgPT0gbnVsbCAmJlxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvT2Zmc2V0cyA9PSBudWxsLFxuICAgICAgICAvLyBvbiBBbmRyb2lkLCBwYWdpbmdFbmFibGVkIG11c3QgYmUgc2V0IHRvIHRydWUgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBhbmRyb2lkOlxuICAgICAgICAgIHRoaXMucHJvcHMucGFnaW5nRW5hYmxlZCA9PT0gdHJ1ZSB8fFxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvSW50ZXJ2YWwgIT0gbnVsbCB8fFxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvT2Zmc2V0cyAhPSBudWxsLFxuICAgICAgfSksXG4gICAgfTtcblxuICAgIGNvbnN0IHtkZWNlbGVyYXRpb25SYXRlfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGRlY2VsZXJhdGlvblJhdGUgIT0gbnVsbCkge1xuICAgICAgcHJvcHMuZGVjZWxlcmF0aW9uUmF0ZSA9IHByb2Nlc3NEZWNlbGVyYXRpb25SYXRlKGRlY2VsZXJhdGlvblJhdGUpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlZnJlc2hDb250cm9sID0gdGhpcy5wcm9wcy5yZWZyZXNoQ29udHJvbDtcblxuICAgIGlmIChyZWZyZXNoQ29udHJvbCkge1xuICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgICAvLyBPbiBpT1MgdGhlIFJlZnJlc2hDb250cm9sIGlzIGEgY2hpbGQgb2YgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIC8vIHR2T1MgbGFja3MgbmF0aXZlIHN1cHBvcnQgZm9yIFJlZnJlc2hDb250cm9sLCBzbyBkb24ndCBpbmNsdWRlIGl0IGluIHRoYXQgY2FzZVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICA8U2Nyb2xsVmlld0NsYXNzIHsuLi5wcm9wc30gcmVmPXt0aGlzLl9zZXRTY3JvbGxWaWV3UmVmfT5cbiAgICAgICAgICAgIHtQbGF0Zm9ybS5pc1RWID8gbnVsbCA6IHJlZnJlc2hDb250cm9sfVxuICAgICAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICAgICAgPC9TY3JvbGxWaWV3Q2xhc3M+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgLy8gT24gQW5kcm9pZCB3cmFwIHRoZSBTY3JvbGxWaWV3IHdpdGggYSBBbmRyb2lkU3dpcGVSZWZyZXNoTGF5b3V0LlxuICAgICAgICAvLyBTaW5jZSB0aGUgU2Nyb2xsVmlldyBpcyB3cmFwcGVkIGFkZCB0aGUgc3R5bGUgcHJvcHMgdG8gdGhlXG4gICAgICAgIC8vIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQgYW5kIHVzZSBmbGV4OiAxIGZvciB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgLy8gTm90ZTogd2Ugc2hvdWxkIHNwbGl0IHByb3BzLnN0eWxlIG9uIHRoZSBpbm5lciBhbmQgb3V0ZXIgcHJvcHNcbiAgICAgICAgLy8gaG93ZXZlciwgdGhlIFNjcm9sbFZpZXcgc3RpbGwgbmVlZHMgdGhlIGJhc2VTdHlsZSB0byBiZSBzY3JvbGxhYmxlXG4gICAgICAgIGNvbnN0IHtvdXRlciwgaW5uZXJ9ID0gc3BsaXRMYXlvdXRQcm9wcyhmbGF0dGVuU3R5bGUocHJvcHMuc3R5bGUpKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgICByZWZyZXNoQ29udHJvbCxcbiAgICAgICAgICB7c3R5bGU6IFtiYXNlU3R5bGUsIG91dGVyXX0sXG4gICAgICAgICAgPFNjcm9sbFZpZXdDbGFzc1xuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgc3R5bGU9e1tiYXNlU3R5bGUsIGlubmVyXX1cbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgIHJlZj17dGhpcy5fc2V0U2Nyb2xsVmlld1JlZn0+XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L1Njcm9sbFZpZXdDbGFzcz4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICA8U2Nyb2xsVmlld0NsYXNzIHsuLi5wcm9wc30gcmVmPXt0aGlzLl9zZXRTY3JvbGxWaWV3UmVmfT5cbiAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICA8L1Njcm9sbFZpZXdDbGFzcz5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgYmFzZVZlcnRpY2FsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGJhc2VIb3Jpem9udGFsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTY3JvbGxWaWV3O1xuIl19