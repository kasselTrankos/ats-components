c477d4c842295ddc3edff9e4ef38a893
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var BoundingDimensions = require('./BoundingDimensions');

var Platform = require('../../Utilities/Platform');

var Position = require('./Position');

var React = require('react');

var ReactNative = require('../../Renderer/shims/ReactNative');

var StyleSheet = require('../../StyleSheet/StyleSheet');

var TVEventHandler = require('../AppleTV/TVEventHandler');

var UIManager = require('../../ReactNative/UIManager');

var View = require('../View/View');

var keyMirror = require('fbjs/lib/keyMirror');

var normalizeColor = require('../../Color/normalizeColor');

var extractSingleTouch = function extractSingleTouch(nativeEvent) {
  var touches = nativeEvent.touches;
  var changedTouches = nativeEvent.changedTouches;
  var hasTouches = touches && touches.length > 0;
  var hasChangedTouches = changedTouches && changedTouches.length > 0;
  return !hasTouches && hasChangedTouches ? changedTouches[0] : hasTouches ? touches[0] : nativeEvent;
};

var States = keyMirror({
  NOT_RESPONDER: null,
  RESPONDER_INACTIVE_PRESS_IN: null,
  RESPONDER_INACTIVE_PRESS_OUT: null,
  RESPONDER_ACTIVE_PRESS_IN: null,
  RESPONDER_ACTIVE_PRESS_OUT: null,
  RESPONDER_ACTIVE_LONG_PRESS_IN: null,
  RESPONDER_ACTIVE_LONG_PRESS_OUT: null,
  ERROR: null
});
var baseStatesConditions = {
  NOT_RESPONDER: false,
  RESPONDER_INACTIVE_PRESS_IN: false,
  RESPONDER_INACTIVE_PRESS_OUT: false,
  RESPONDER_ACTIVE_PRESS_IN: false,
  RESPONDER_ACTIVE_PRESS_OUT: false,
  RESPONDER_ACTIVE_LONG_PRESS_IN: false,
  RESPONDER_ACTIVE_LONG_PRESS_OUT: false,
  ERROR: false
};

var IsActive = _objectSpread({}, baseStatesConditions, {
  RESPONDER_ACTIVE_PRESS_OUT: true,
  RESPONDER_ACTIVE_PRESS_IN: true
});

var IsPressingIn = _objectSpread({}, baseStatesConditions, {
  RESPONDER_INACTIVE_PRESS_IN: true,
  RESPONDER_ACTIVE_PRESS_IN: true,
  RESPONDER_ACTIVE_LONG_PRESS_IN: true
});

var IsLongPressingIn = _objectSpread({}, baseStatesConditions, {
  RESPONDER_ACTIVE_LONG_PRESS_IN: true
});

var Signals = keyMirror({
  DELAY: null,
  RESPONDER_GRANT: null,
  RESPONDER_RELEASE: null,
  RESPONDER_TERMINATED: null,
  ENTER_PRESS_RECT: null,
  LEAVE_PRESS_RECT: null,
  LONG_PRESS_DETECTED: null
});
var Transitions = {
  NOT_RESPONDER: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.RESPONDER_INACTIVE_PRESS_IN,
    RESPONDER_RELEASE: States.ERROR,
    RESPONDER_TERMINATED: States.ERROR,
    ENTER_PRESS_RECT: States.ERROR,
    LEAVE_PRESS_RECT: States.ERROR,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_INACTIVE_PRESS_IN: {
    DELAY: States.RESPONDER_ACTIVE_PRESS_IN,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_INACTIVE_PRESS_OUT: {
    DELAY: States.RESPONDER_ACTIVE_PRESS_OUT,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_ACTIVE_PRESS_IN: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.RESPONDER_ACTIVE_LONG_PRESS_IN
  },
  RESPONDER_ACTIVE_PRESS_OUT: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_ACTIVE_LONG_PRESS_IN: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_OUT,
    LONG_PRESS_DETECTED: States.RESPONDER_ACTIVE_LONG_PRESS_IN
  },
  RESPONDER_ACTIVE_LONG_PRESS_OUT: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  error: {
    DELAY: States.NOT_RESPONDER,
    RESPONDER_GRANT: States.RESPONDER_INACTIVE_PRESS_IN,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.NOT_RESPONDER,
    LEAVE_PRESS_RECT: States.NOT_RESPONDER,
    LONG_PRESS_DETECTED: States.NOT_RESPONDER
  }
};
var HIGHLIGHT_DELAY_MS = 130;
var PRESS_EXPAND_PX = 20;
var LONG_PRESS_THRESHOLD = 500;
var LONG_PRESS_DELAY_MS = LONG_PRESS_THRESHOLD - HIGHLIGHT_DELAY_MS;
var LONG_PRESS_ALLOWED_MOVEMENT = 10;
var TouchableMixin = {
  componentDidMount: function componentDidMount() {
    if (!Platform.isTV) {
      return;
    }

    this._tvEventHandler = new TVEventHandler();

    this._tvEventHandler.enable(this, function (cmp, evt) {
      var myTag = ReactNative.findNodeHandle(cmp);
      evt.dispatchConfig = {};

      if (myTag === evt.tag) {
        if (evt.eventType === 'focus') {
          cmp.touchableHandleFocus(evt);
        } else if (evt.eventType === 'blur') {
          cmp.touchableHandleBlur(evt);
        } else if (evt.eventType === 'select') {
          cmp.touchableHandlePress && !cmp.props.disabled && cmp.touchableHandlePress(evt);
        }
      }
    });
  },
  componentWillUnmount: function componentWillUnmount() {
    if (this._tvEventHandler) {
      this._tvEventHandler.disable();

      delete this._tvEventHandler;
    }

    this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);
    this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);
    this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);
  },
  touchableGetInitialState: function touchableGetInitialState() {
    return {
      touchable: {
        touchState: undefined,
        responderID: null
      }
    };
  },
  touchableHandleResponderTerminationRequest: function touchableHandleResponderTerminationRequest() {
    return !this.props.rejectResponderTermination;
  },
  touchableHandleStartShouldSetResponder: function touchableHandleStartShouldSetResponder() {
    return !this.props.disabled;
  },
  touchableLongPressCancelsPress: function touchableLongPressCancelsPress() {
    return true;
  },
  touchableHandleResponderGrant: function touchableHandleResponderGrant(e) {
    var dispatchID = e.currentTarget;
    e.persist();
    this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);
    this.pressOutDelayTimeout = null;
    this.state.touchable.touchState = States.NOT_RESPONDER;
    this.state.touchable.responderID = dispatchID;

    this._receiveSignal(Signals.RESPONDER_GRANT, e);

    var delayMS = this.touchableGetHighlightDelayMS !== undefined ? Math.max(this.touchableGetHighlightDelayMS(), 0) : HIGHLIGHT_DELAY_MS;
    delayMS = isNaN(delayMS) ? HIGHLIGHT_DELAY_MS : delayMS;

    if (delayMS !== 0) {
      this.touchableDelayTimeout = setTimeout(this._handleDelay.bind(this, e), delayMS);
    } else {
      this._handleDelay(e);
    }

    var longDelayMS = this.touchableGetLongPressDelayMS !== undefined ? Math.max(this.touchableGetLongPressDelayMS(), 10) : LONG_PRESS_DELAY_MS;
    longDelayMS = isNaN(longDelayMS) ? LONG_PRESS_DELAY_MS : longDelayMS;
    this.longPressDelayTimeout = setTimeout(this._handleLongDelay.bind(this, e), longDelayMS + delayMS);
  },
  touchableHandleResponderRelease: function touchableHandleResponderRelease(e) {
    this.pressInLocation = null;

    this._receiveSignal(Signals.RESPONDER_RELEASE, e);
  },
  touchableHandleResponderTerminate: function touchableHandleResponderTerminate(e) {
    this.pressInLocation = null;

    this._receiveSignal(Signals.RESPONDER_TERMINATED, e);
  },
  touchableHandleResponderMove: function touchableHandleResponderMove(e) {
    if (!this.state.touchable.positionOnActivate) {
      return;
    }

    var positionOnActivate = this.state.touchable.positionOnActivate;
    var dimensionsOnActivate = this.state.touchable.dimensionsOnActivate;
    var pressRectOffset = this.touchableGetPressRectOffset ? this.touchableGetPressRectOffset() : {
      left: PRESS_EXPAND_PX,
      right: PRESS_EXPAND_PX,
      top: PRESS_EXPAND_PX,
      bottom: PRESS_EXPAND_PX
    };
    var pressExpandLeft = pressRectOffset.left;
    var pressExpandTop = pressRectOffset.top;
    var pressExpandRight = pressRectOffset.right;
    var pressExpandBottom = pressRectOffset.bottom;
    var hitSlop = this.touchableGetHitSlop ? this.touchableGetHitSlop() : null;

    if (hitSlop) {
      pressExpandLeft += hitSlop.left || 0;
      pressExpandTop += hitSlop.top || 0;
      pressExpandRight += hitSlop.right || 0;
      pressExpandBottom += hitSlop.bottom || 0;
    }

    var touch = extractSingleTouch(e.nativeEvent);
    var pageX = touch && touch.pageX;
    var pageY = touch && touch.pageY;

    if (this.pressInLocation) {
      var movedDistance = this._getDistanceBetweenPoints(pageX, pageY, this.pressInLocation.pageX, this.pressInLocation.pageY);

      if (movedDistance > LONG_PRESS_ALLOWED_MOVEMENT) {
        this._cancelLongPressDelayTimeout();
      }
    }

    var isTouchWithinActive = pageX > positionOnActivate.left - pressExpandLeft && pageY > positionOnActivate.top - pressExpandTop && pageX < positionOnActivate.left + dimensionsOnActivate.width + pressExpandRight && pageY < positionOnActivate.top + dimensionsOnActivate.height + pressExpandBottom;

    if (isTouchWithinActive) {
      var prevState = this.state.touchable.touchState;

      this._receiveSignal(Signals.ENTER_PRESS_RECT, e);

      var curState = this.state.touchable.touchState;

      if (curState === States.RESPONDER_INACTIVE_PRESS_IN && prevState !== States.RESPONDER_INACTIVE_PRESS_IN) {
        this._cancelLongPressDelayTimeout();
      }
    } else {
      this._cancelLongPressDelayTimeout();

      this._receiveSignal(Signals.LEAVE_PRESS_RECT, e);
    }
  },
  touchableHandleFocus: function touchableHandleFocus(e) {
    this.props.onFocus && this.props.onFocus(e);
  },
  touchableHandleBlur: function touchableHandleBlur(e) {
    this.props.onBlur && this.props.onBlur(e);
  },
  _remeasureMetricsOnActivation: function _remeasureMetricsOnActivation() {
    var tag = this.state.touchable.responderID;

    if (tag == null) {
      return;
    }

    UIManager.measure(tag, this._handleQueryLayout);
  },
  _handleQueryLayout: function _handleQueryLayout(l, t, w, h, globalX, globalY) {
    if (!l && !t && !w && !h && !globalX && !globalY) {
      return;
    }

    this.state.touchable.positionOnActivate && Position.release(this.state.touchable.positionOnActivate);
    this.state.touchable.dimensionsOnActivate && BoundingDimensions.release(this.state.touchable.dimensionsOnActivate);
    this.state.touchable.positionOnActivate = Position.getPooled(globalX, globalY);
    this.state.touchable.dimensionsOnActivate = BoundingDimensions.getPooled(w, h);
  },
  _handleDelay: function _handleDelay(e) {
    this.touchableDelayTimeout = null;

    this._receiveSignal(Signals.DELAY, e);
  },
  _handleLongDelay: function _handleLongDelay(e) {
    this.longPressDelayTimeout = null;
    var curState = this.state.touchable.touchState;

    if (curState !== States.RESPONDER_ACTIVE_PRESS_IN && curState !== States.RESPONDER_ACTIVE_LONG_PRESS_IN) {
      console.error('Attempted to transition from state `' + curState + '` to `' + States.RESPONDER_ACTIVE_LONG_PRESS_IN + '`, which is not supported. This is ' + 'most likely due to `Touchable.longPressDelayTimeout` not being cancelled.');
    } else {
      this._receiveSignal(Signals.LONG_PRESS_DETECTED, e);
    }
  },
  _receiveSignal: function _receiveSignal(signal, e) {
    var responderID = this.state.touchable.responderID;
    var curState = this.state.touchable.touchState;
    var nextState = Transitions[curState] && Transitions[curState][signal];

    if (!responderID && signal === Signals.RESPONDER_RELEASE) {
      return;
    }

    if (!nextState) {
      throw new Error('Unrecognized signal `' + signal + '` or state `' + curState + '` for Touchable responder `' + responderID + '`');
    }

    if (nextState === States.ERROR) {
      throw new Error('Touchable cannot transition from `' + curState + '` to `' + signal + '` for responder `' + responderID + '`');
    }

    if (curState !== nextState) {
      this._performSideEffectsForTransition(curState, nextState, signal, e);

      this.state.touchable.touchState = nextState;
    }
  },
  _cancelLongPressDelayTimeout: function _cancelLongPressDelayTimeout() {
    this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);
    this.longPressDelayTimeout = null;
  },
  _isHighlight: function _isHighlight(state) {
    return state === States.RESPONDER_ACTIVE_PRESS_IN || state === States.RESPONDER_ACTIVE_LONG_PRESS_IN;
  },
  _savePressInLocation: function _savePressInLocation(e) {
    var touch = extractSingleTouch(e.nativeEvent);
    var pageX = touch && touch.pageX;
    var pageY = touch && touch.pageY;
    var locationX = touch && touch.locationX;
    var locationY = touch && touch.locationY;
    this.pressInLocation = {
      pageX: pageX,
      pageY: pageY,
      locationX: locationX,
      locationY: locationY
    };
  },
  _getDistanceBetweenPoints: function _getDistanceBetweenPoints(aX, aY, bX, bY) {
    var deltaX = aX - bX;
    var deltaY = aY - bY;
    return Math.sqrt(deltaX * deltaX + deltaY * deltaY);
  },
  _performSideEffectsForTransition: function _performSideEffectsForTransition(curState, nextState, signal, e) {
    var curIsHighlight = this._isHighlight(curState);

    var newIsHighlight = this._isHighlight(nextState);

    var isFinalSignal = signal === Signals.RESPONDER_TERMINATED || signal === Signals.RESPONDER_RELEASE;

    if (isFinalSignal) {
      this._cancelLongPressDelayTimeout();
    }

    var isInitialTransition = curState === States.NOT_RESPONDER && nextState === States.RESPONDER_INACTIVE_PRESS_IN;
    var isActiveTransition = !IsActive[curState] && IsActive[nextState];

    if (isInitialTransition || isActiveTransition) {
      this._remeasureMetricsOnActivation();
    }

    if (IsPressingIn[curState] && signal === Signals.LONG_PRESS_DETECTED) {
      this.touchableHandleLongPress && this.touchableHandleLongPress(e);
    }

    if (newIsHighlight && !curIsHighlight) {
      this._startHighlight(e);
    } else if (!newIsHighlight && curIsHighlight) {
      this._endHighlight(e);
    }

    if (IsPressingIn[curState] && signal === Signals.RESPONDER_RELEASE) {
      var hasLongPressHandler = !!this.props.onLongPress;
      var pressIsLongButStillCallOnPress = IsLongPressingIn[curState] && (!hasLongPressHandler || !this.touchableLongPressCancelsPress());
      var shouldInvokePress = !IsLongPressingIn[curState] || pressIsLongButStillCallOnPress;

      if (shouldInvokePress && this.touchableHandlePress) {
        if (!newIsHighlight && !curIsHighlight) {
          this._startHighlight(e);

          this._endHighlight(e);
        }

        if (Platform.OS === 'android' && !this.props.touchSoundDisabled) {
          this._playTouchSound();
        }

        this.touchableHandlePress(e);
      }
    }

    this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);
    this.touchableDelayTimeout = null;
  },
  _playTouchSound: function _playTouchSound() {
    UIManager.playTouchSound();
  },
  _startHighlight: function _startHighlight(e) {
    this._savePressInLocation(e);

    this.touchableHandleActivePressIn && this.touchableHandleActivePressIn(e);
  },
  _endHighlight: function _endHighlight(e) {
    var _this = this;

    if (this.touchableHandleActivePressOut) {
      if (this.touchableGetPressOutDelayMS && this.touchableGetPressOutDelayMS()) {
        this.pressOutDelayTimeout = setTimeout(function () {
          _this.touchableHandleActivePressOut(e);
        }, this.touchableGetPressOutDelayMS());
      } else {
        this.touchableHandleActivePressOut(e);
      }
    }
  },
  withoutDefaultFocusAndBlur: {}
};
var touchableHandleFocus = TouchableMixin.touchableHandleFocus,
    touchableHandleBlur = TouchableMixin.touchableHandleBlur,
    TouchableMixinWithoutDefaultFocusAndBlur = (0, _objectWithoutProperties2["default"])(TouchableMixin, ["touchableHandleFocus", "touchableHandleBlur"]);
TouchableMixin.withoutDefaultFocusAndBlur = TouchableMixinWithoutDefaultFocusAndBlur;
var Touchable = {
  Mixin: TouchableMixin,
  TOUCH_TARGET_DEBUG: false,
  renderDebugView: function renderDebugView(_ref) {
    var color = _ref.color,
        hitSlop = _ref.hitSlop;

    if (!Touchable.TOUCH_TARGET_DEBUG) {
      return null;
    }

    if (!__DEV__) {
      throw Error('Touchable.TOUCH_TARGET_DEBUG should not be enabled in prod!');
    }

    var debugHitSlopStyle = {};
    hitSlop = hitSlop || {
      top: 0,
      bottom: 0,
      left: 0,
      right: 0
    };

    for (var key in hitSlop) {
      debugHitSlopStyle[key] = -hitSlop[key];
    }

    var normalizedColor = normalizeColor(color);

    if (typeof normalizedColor !== 'number') {
      return null;
    }

    var hexColor = '#' + ('00000000' + normalizedColor.toString(16)).substr(-8);
    return React.createElement(View, {
      pointerEvents: "none",
      style: [styles.debug, _objectSpread({
        borderColor: hexColor.slice(0, -2) + '55',
        backgroundColor: hexColor.slice(0, -2) + '0F'
      }, debugHitSlopStyle)]
    });
  }
};
var styles = StyleSheet.create({
  debug: {
    position: 'absolute',
    borderWidth: 1,
    borderStyle: 'dashed'
  }
});
module.exports = Touchable;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZS5qcyJdLCJuYW1lcyI6WyJCb3VuZGluZ0RpbWVuc2lvbnMiLCJyZXF1aXJlIiwiUGxhdGZvcm0iLCJQb3NpdGlvbiIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJTdHlsZVNoZWV0IiwiVFZFdmVudEhhbmRsZXIiLCJVSU1hbmFnZXIiLCJWaWV3Iiwia2V5TWlycm9yIiwibm9ybWFsaXplQ29sb3IiLCJleHRyYWN0U2luZ2xlVG91Y2giLCJuYXRpdmVFdmVudCIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsImhhc1RvdWNoZXMiLCJsZW5ndGgiLCJoYXNDaGFuZ2VkVG91Y2hlcyIsIlN0YXRlcyIsIk5PVF9SRVNQT05ERVIiLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4iLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUIiwiUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTiIsIlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUIiwiUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOIiwiUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVCIsIkVSUk9SIiwiYmFzZVN0YXRlc0NvbmRpdGlvbnMiLCJJc0FjdGl2ZSIsIklzUHJlc3NpbmdJbiIsIklzTG9uZ1ByZXNzaW5nSW4iLCJTaWduYWxzIiwiREVMQVkiLCJSRVNQT05ERVJfR1JBTlQiLCJSRVNQT05ERVJfUkVMRUFTRSIsIlJFU1BPTkRFUl9URVJNSU5BVEVEIiwiRU5URVJfUFJFU1NfUkVDVCIsIkxFQVZFX1BSRVNTX1JFQ1QiLCJMT05HX1BSRVNTX0RFVEVDVEVEIiwiVHJhbnNpdGlvbnMiLCJlcnJvciIsIkhJR0hMSUdIVF9ERUxBWV9NUyIsIlBSRVNTX0VYUEFORF9QWCIsIkxPTkdfUFJFU1NfVEhSRVNIT0xEIiwiTE9OR19QUkVTU19ERUxBWV9NUyIsIkxPTkdfUFJFU1NfQUxMT1dFRF9NT1ZFTUVOVCIsIlRvdWNoYWJsZU1peGluIiwiY29tcG9uZW50RGlkTW91bnQiLCJpc1RWIiwiX3R2RXZlbnRIYW5kbGVyIiwiZW5hYmxlIiwiY21wIiwiZXZ0IiwibXlUYWciLCJmaW5kTm9kZUhhbmRsZSIsImRpc3BhdGNoQ29uZmlnIiwidGFnIiwiZXZlbnRUeXBlIiwidG91Y2hhYmxlSGFuZGxlRm9jdXMiLCJ0b3VjaGFibGVIYW5kbGVCbHVyIiwidG91Y2hhYmxlSGFuZGxlUHJlc3MiLCJwcm9wcyIsImRpc2FibGVkIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJkaXNhYmxlIiwidG91Y2hhYmxlRGVsYXlUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwibG9uZ1ByZXNzRGVsYXlUaW1lb3V0IiwicHJlc3NPdXREZWxheVRpbWVvdXQiLCJ0b3VjaGFibGVHZXRJbml0aWFsU3RhdGUiLCJ0b3VjaGFibGUiLCJ0b3VjaFN0YXRlIiwidW5kZWZpbmVkIiwicmVzcG9uZGVySUQiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJyZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbiIsInRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwidG91Y2hhYmxlTG9uZ1ByZXNzQ2FuY2Vsc1ByZXNzIiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyR3JhbnQiLCJlIiwiZGlzcGF0Y2hJRCIsImN1cnJlbnRUYXJnZXQiLCJwZXJzaXN0Iiwic3RhdGUiLCJfcmVjZWl2ZVNpZ25hbCIsImRlbGF5TVMiLCJ0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TIiwiTWF0aCIsIm1heCIsImlzTmFOIiwic2V0VGltZW91dCIsIl9oYW5kbGVEZWxheSIsImJpbmQiLCJsb25nRGVsYXlNUyIsInRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVMiLCJfaGFuZGxlTG9uZ0RlbGF5IiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsInByZXNzSW5Mb2NhdGlvbiIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0ZSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmUiLCJwb3NpdGlvbk9uQWN0aXZhdGUiLCJkaW1lbnNpb25zT25BY3RpdmF0ZSIsInByZXNzUmVjdE9mZnNldCIsInRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldCIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsInByZXNzRXhwYW5kTGVmdCIsInByZXNzRXhwYW5kVG9wIiwicHJlc3NFeHBhbmRSaWdodCIsInByZXNzRXhwYW5kQm90dG9tIiwiaGl0U2xvcCIsInRvdWNoYWJsZUdldEhpdFNsb3AiLCJ0b3VjaCIsInBhZ2VYIiwicGFnZVkiLCJtb3ZlZERpc3RhbmNlIiwiX2dldERpc3RhbmNlQmV0d2VlblBvaW50cyIsIl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQiLCJpc1RvdWNoV2l0aGluQWN0aXZlIiwid2lkdGgiLCJoZWlnaHQiLCJwcmV2U3RhdGUiLCJjdXJTdGF0ZSIsIm9uRm9jdXMiLCJvbkJsdXIiLCJfcmVtZWFzdXJlTWV0cmljc09uQWN0aXZhdGlvbiIsIm1lYXN1cmUiLCJfaGFuZGxlUXVlcnlMYXlvdXQiLCJsIiwidCIsInciLCJoIiwiZ2xvYmFsWCIsImdsb2JhbFkiLCJyZWxlYXNlIiwiZ2V0UG9vbGVkIiwiY29uc29sZSIsInNpZ25hbCIsIm5leHRTdGF0ZSIsIkVycm9yIiwiX3BlcmZvcm1TaWRlRWZmZWN0c0ZvclRyYW5zaXRpb24iLCJfaXNIaWdobGlnaHQiLCJfc2F2ZVByZXNzSW5Mb2NhdGlvbiIsImxvY2F0aW9uWCIsImxvY2F0aW9uWSIsImFYIiwiYVkiLCJiWCIsImJZIiwiZGVsdGFYIiwiZGVsdGFZIiwic3FydCIsImN1cklzSGlnaGxpZ2h0IiwibmV3SXNIaWdobGlnaHQiLCJpc0ZpbmFsU2lnbmFsIiwiaXNJbml0aWFsVHJhbnNpdGlvbiIsImlzQWN0aXZlVHJhbnNpdGlvbiIsInRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzcyIsIl9zdGFydEhpZ2hsaWdodCIsIl9lbmRIaWdobGlnaHQiLCJoYXNMb25nUHJlc3NIYW5kbGVyIiwib25Mb25nUHJlc3MiLCJwcmVzc0lzTG9uZ0J1dFN0aWxsQ2FsbE9uUHJlc3MiLCJzaG91bGRJbnZva2VQcmVzcyIsIk9TIiwidG91Y2hTb3VuZERpc2FibGVkIiwiX3BsYXlUb3VjaFNvdW5kIiwicGxheVRvdWNoU291bmQiLCJ0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luIiwidG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQiLCJ0b3VjaGFibGVHZXRQcmVzc091dERlbGF5TVMiLCJ3aXRob3V0RGVmYXVsdEZvY3VzQW5kQmx1ciIsIlRvdWNoYWJsZU1peGluV2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXIiLCJUb3VjaGFibGUiLCJNaXhpbiIsIlRPVUNIX1RBUkdFVF9ERUJVRyIsInJlbmRlckRlYnVnVmlldyIsImNvbG9yIiwiX19ERVZfXyIsImRlYnVnSGl0U2xvcFN0eWxlIiwia2V5Iiwibm9ybWFsaXplZENvbG9yIiwiaGV4Q29sb3IiLCJ0b1N0cmluZyIsInN1YnN0ciIsInN0eWxlcyIsImRlYnVnIiwiYm9yZGVyQ29sb3IiLCJzbGljZSIsImJhY2tncm91bmRDb2xvciIsImNyZWF0ZSIsInBvc2l0aW9uIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJTdHlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBOzs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxrQkFBa0IsR0FBR0MsT0FBTyxDQUFDLHNCQUFELENBQWxDOztBQUNBLElBQU1DLFFBQVEsR0FBR0QsT0FBTyxDQUFDLDBCQUFELENBQXhCOztBQUNBLElBQU1FLFFBQVEsR0FBR0YsT0FBTyxDQUFDLFlBQUQsQ0FBeEI7O0FBQ0EsSUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxJQUFNSSxXQUFXLEdBQUdKLE9BQU8sQ0FBQyxrQ0FBRCxDQUEzQjs7QUFDQSxJQUFNSyxVQUFVLEdBQUdMLE9BQU8sQ0FBQyw2QkFBRCxDQUExQjs7QUFDQSxJQUFNTSxjQUFjLEdBQUdOLE9B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Q0FBQzJMLE1BQVgsQ0FBa0I7QUFDL0JKLEVBQUFBLEtBQUssRUFBRTtBQUNMSyxJQUFBQSxRQUFRLEVBQUUsVUFETDtBQUVMQyxJQUFBQSxXQUFXLEVBQUUsQ0FGUjtBQUdMQyxJQUFBQSxXQUFXLEVBQUU7QUFIUjtBQUR3QixDQUFsQixDQUFmO0FBUUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnRCLFNBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQm91bmRpbmdEaW1lbnNpb25zID0gcmVxdWlyZSgnLi9Cb3VuZGluZ0RpbWVuc2lvbnMnKTtcbmNvbnN0IFBsYXRmb3JtID0gcmVxdWlyZSgnLi4vLi4vVXRpbGl0aWVzL1BsYXRmb3JtJyk7XG5jb25zdCBQb3NpdGlvbiA9IHJlcXVpcmUoJy4vUG9zaXRpb24nKTtcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlYWN0TmF0aXZlID0gcmVxdWlyZSgnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmUnKTtcbmNvbnN0IFN0eWxlU2hlZXQgPSByZXF1aXJlKCcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnKTtcbmNvbnN0IFRWRXZlbnRIYW5kbGVyID0gcmVxdWlyZSgnLi4vQXBwbGVUVi9UVkV2ZW50SGFuZGxlcicpO1xuY29uc3QgVUlNYW5hZ2VyID0gcmVxdWlyZSgnLi4vLi4vUmVhY3ROYXRpdmUvVUlNYW5hZ2VyJyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnLi4vVmlldy9WaWV3Jyk7XG5cbmNvbnN0IGtleU1pcnJvciA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU1pcnJvcicpO1xuY29uc3Qgbm9ybWFsaXplQ29sb3IgPSByZXF1aXJlKCcuLi8uLi9Db2xvci9ub3JtYWxpemVDb2xvcicpO1xuXG5pbXBvcnQgdHlwZSB7RWRnZUluc2V0c1Byb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvRWRnZUluc2V0c1Byb3BUeXBlJztcbmltcG9ydCB0eXBlIHtQcmVzc0V2ZW50fSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5cbmNvbnN0IGV4dHJhY3RTaW5nbGVUb3VjaCA9IG5hdGl2ZUV2ZW50ID0+IHtcbiAgY29uc3QgdG91Y2hlcyA9IG5hdGl2ZUV2ZW50LnRvdWNoZXM7XG4gIGNvbnN0IGNoYW5nZWRUb3VjaGVzID0gbmF0aXZlRXZlbnQuY2hhbmdlZFRvdWNoZXM7XG4gIGNvbnN0IGhhc1RvdWNoZXMgPSB0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID4gMDtcbiAgY29uc3QgaGFzQ2hhbmdlZFRvdWNoZXMgPSBjaGFuZ2VkVG91Y2hlcyAmJiBjaGFuZ2VkVG91Y2hlcy5sZW5ndGggPiAwO1xuXG4gIHJldHVybiAhaGFzVG91Y2hlcyAmJiBoYXNDaGFuZ2VkVG91Y2hlc1xuICAgID8gY2hhbmdlZFRvdWNoZXNbMF1cbiAgICA6IGhhc1RvdWNoZXNcbiAgICA/IHRvdWNoZXNbMF1cbiAgICA6IG5hdGl2ZUV2ZW50O1xufTtcblxuLyoqXG4gKiBgVG91Y2hhYmxlYDogVGFwcyBkb25lIHJpZ2h0LlxuICpcbiAqIFlvdSBob29rIHlvdXIgYFJlc3BvbmRlckV2ZW50UGx1Z2luYCBldmVudHMgaW50byBgVG91Y2hhYmxlYC4gYFRvdWNoYWJsZWBcbiAqIHdpbGwgbWVhc3VyZSB0aW1lL2dlb21ldHJ5IGFuZCB0ZWxscyB5b3Ugd2hlbiB0byBnaXZlIGZlZWRiYWNrIHRvIHRoZSB1c2VyLlxuICpcbiAqID09PT09PT09PT09PT09PT09PT09PT0gVG91Y2hhYmxlIFR1dG9yaWFsID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFRoZSBgVG91Y2hhYmxlYCBtaXhpbiBoZWxwcyB5b3UgaGFuZGxlIHRoZSBcInByZXNzXCIgaW50ZXJhY3Rpb24uIEl0IGFuYWx5emVzXG4gKiB0aGUgZ2VvbWV0cnkgb2YgZWxlbWVudHMsIGFuZCBvYnNlcnZlcyB3aGVuIGFub3RoZXIgcmVzcG9uZGVyIChzY3JvbGwgdmlld1xuICogZXRjKSBoYXMgc3RvbGVuIHRoZSB0b3VjaCBsb2NrLiBJdCBub3RpZmllcyB5b3VyIGNvbXBvbmVudCB3aGVuIGl0IHNob3VsZFxuICogZ2l2ZSBmZWVkYmFjayB0byB0aGUgdXNlci4gKGJvdW5jaW5nL2hpZ2hsaWdodGluZy91bmhpZ2hsaWdodGluZykuXG4gKlxuICogLSBXaGVuIGEgdG91Y2ggd2FzIGFjdGl2YXRlZCAodHlwaWNhbGx5IHlvdSBoaWdobGlnaHQpXG4gKiAtIFdoZW4gYSB0b3VjaCB3YXMgZGVhY3RpdmF0ZWQgKHR5cGljYWxseSB5b3UgdW5oaWdobGlnaHQpXG4gKiAtIFdoZW4gYSB0b3VjaCB3YXMgXCJwcmVzc2VkXCIgLSBhIHRvdWNoIGVuZGVkIHdoaWxlIHN0aWxsIHdpdGhpbiB0aGUgZ2VvbWV0cnlcbiAqICAgb2YgdGhlIGVsZW1lbnQsIGFuZCBubyBvdGhlciBlbGVtZW50IChsaWtlIHNjcm9sbGVyKSBoYXMgXCJzdG9sZW5cIiB0b3VjaFxuICogICBsb2NrIChcInJlc3BvbmRlclwiKSAoVHlwaWNhbGx5IHlvdSBib3VuY2UgdGhlIGVsZW1lbnQpLlxuICpcbiAqIEEgZ29vZCB0YXAgaW50ZXJhY3Rpb24gaXNuJ3QgYXMgc2ltcGxlIGFzIHlvdSBtaWdodCB0aGluay4gVGhlcmUgc2hvdWxkIGJlIGFcbiAqIHNsaWdodCBkZWxheSBiZWZvcmUgc2hvd2luZyBhIGhpZ2hsaWdodCB3aGVuIHN0YXJ0aW5nIGEgdG91Y2guIElmIGFcbiAqIHN1YnNlcXVlbnQgdG91Y2ggbW92ZSBleGNlZWRzIHRoZSBib3VuZGFyeSBvZiB0aGUgZWxlbWVudCwgaXQgc2hvdWxkXG4gKiB1bmhpZ2hsaWdodCwgYnV0IGlmIHRoYXQgc2FtZSB0b3VjaCBpcyBicm91Z2h0IGJhY2sgd2l0aGluIHRoZSBib3VuZGFyeSwgaXRcbiAqIHNob3VsZCByZWhpZ2hsaWdodCBhZ2Fpbi4gQSB0b3VjaCBjYW4gbW92ZSBpbiBhbmQgb3V0IG9mIHRoYXQgYm91bmRhcnlcbiAqIHNldmVyYWwgdGltZXMsIGVhY2ggdGltZSB0b2dnbGluZyBoaWdobGlnaHRpbmcsIGJ1dCBhIFwicHJlc3NcIiBpcyBvbmx5XG4gKiB0cmlnZ2VyZWQgaWYgdGhhdCB0b3VjaCBlbmRzIHdoaWxlIHdpdGhpbiB0aGUgZWxlbWVudCdzIGJvdW5kYXJ5IGFuZCBub1xuICogc2Nyb2xsZXIgKG9yIGFueXRoaW5nIGVsc2UpIGhhcyBzdG9sZW4gdGhlIGxvY2sgb24gdG91Y2hlcy5cbiAqXG4gKiBUbyBjcmVhdGUgYSBuZXcgdHlwZSBvZiBjb21wb25lbnQgdGhhdCBoYW5kbGVzIGludGVyYWN0aW9uIHVzaW5nIHRoZVxuICogYFRvdWNoYWJsZWAgbWl4aW4sIGRvIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogLSBJbml0aWFsaXplIHRoZSBgVG91Y2hhYmxlYCBzdGF0ZS5cbiAqXG4gKiAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gKiAgICAgcmV0dXJuIG1lcmdlKHRoaXMudG91Y2hhYmxlR2V0SW5pdGlhbFN0YXRlKCksIHlvdXJDb21wb25lbnRTdGF0ZSk7XG4gKiAgIH1cbiAqXG4gKiAtIENob29zZSB0aGUgcmVuZGVyZWQgY29tcG9uZW50IHdobydzIHRvdWNoZXMgc2hvdWxkIHN0YXJ0IHRoZSBpbnRlcmFjdGl2ZVxuICogICBzZXF1ZW5jZS4gT24gdGhhdCByZW5kZXJlZCBub2RlLCBmb3J3YXJkIGFsbCBgVG91Y2hhYmxlYCByZXNwb25kZXJcbiAqICAgaGFuZGxlcnMuIFlvdSBjYW4gY2hvb3NlIGFueSByZW5kZXJlZCBub2RlIHlvdSBsaWtlLiBDaG9vc2UgYSBub2RlIHdob3NlXG4gKiAgIGhpdCB0YXJnZXQgeW91J2QgbGlrZSB0byBpbnN0aWdhdGUgdGhlIGludGVyYWN0aW9uIHNlcXVlbmNlOlxuICpcbiAqICAgLy8gSW4gcmVuZGVyIGZ1bmN0aW9uOlxuICogICByZXR1cm4gKFxuICogICAgIDxWaWV3XG4gKiAgICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyPXt0aGlzLnRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyfVxuICogICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0fVxuICogICAgICAgb25SZXNwb25kZXJHcmFudD17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJHcmFudH1cbiAqICAgICAgIG9uUmVzcG9uZGVyTW92ZT17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJNb3ZlfVxuICogICAgICAgb25SZXNwb25kZXJSZWxlYXNlPXt0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclJlbGVhc2V9XG4gKiAgICAgICBvblJlc3BvbmRlclRlcm1pbmF0ZT17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGV9PlxuICogICAgICAgPFZpZXc+XG4gKiAgICAgICAgIEV2ZW4gdGhvdWdoIHRoZSBoaXQgZGV0ZWN0aW9uL2ludGVyYWN0aW9ucyBhcmUgdHJpZ2dlcmVkIGJ5IHRoZVxuICogICAgICAgICB3cmFwcGluZyAodHlwaWNhbGx5IGxhcmdlcikgbm9kZSwgd2UgdXN1YWxseSBlbmQgdXAgaW1wbGVtZW50aW5nXG4gKiAgICAgICAgIGN1c3RvbSBsb2dpYyB0aGF0IGhpZ2hsaWdodHMgdGhpcyBpbm5lciBvbmUuXG4gKiAgICAgICA8L1ZpZXc+XG4gKiAgICAgPC9WaWV3PlxuICogICApO1xuICpcbiAqIC0gWW91IG1heSBzZXQgdXAgeW91ciBvd24gaGFuZGxlcnMgZm9yIGVhY2ggb2YgdGhlc2UgZXZlbnRzLCBzbyBsb25nIGFzIHlvdVxuICogICBhbHNvIGludm9rZSB0aGUgYHRvdWNoYWJsZSpgIGhhbmRsZXJzIGluc2lkZSBvZiB5b3VyIGN1c3RvbSBoYW5kbGVyLlxuICpcbiAqIC0gSW1wbGVtZW50IHRoZSBoYW5kbGVycyBvbiB5b3VyIGNvbXBvbmVudCBjbGFzcyBpbiBvcmRlciB0byBwcm92aWRlXG4gKiAgIGZlZWRiYWNrIHRvIHRoZSB1c2VyLiBTZWUgZG9jdW1lbnRhdGlvbiBmb3IgZWFjaCBvZiB0aGVzZSBjbGFzcyBtZXRob2RzXG4gKiAgIHRoYXQgeW91IHNob3VsZCBpbXBsZW1lbnQuXG4gKlxuICogICB0b3VjaGFibGVIYW5kbGVQcmVzczogZnVuY3Rpb24oKSB7XG4gKiAgICAgIHRoaXMucGVyZm9ybUJvdW5jZUFuaW1hdGlvbigpOyAgLy8gb3Igd2hhdGV2ZXIgeW91IHdhbnQgdG8gZG8uXG4gKiAgIH0sXG4gKiAgIHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW46IGZ1bmN0aW9uKCkge1xuICogICAgIHRoaXMuYmVnaW5IaWdobGlnaHRpbmcoLi4uKTsgIC8vIFdoYXRldmVyIHlvdSBsaWtlIHRvIGNvbnZleSBhY3RpdmF0aW9uXG4gKiAgIH0sXG4gKiAgIHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzT3V0OiBmdW5jdGlvbigpIHtcbiAqICAgICB0aGlzLmVuZEhpZ2hsaWdodGluZyguLi4pOyAgLy8gV2hhdGV2ZXIgeW91IGxpa2UgdG8gY29udmV5IGRlYWN0aXZhdGlvblxuICogICB9LFxuICpcbiAqIC0gVGhlcmUgYXJlIG1vcmUgYWR2YW5jZWQgbWV0aG9kcyB5b3UgY2FuIGltcGxlbWVudCAoc2VlIGRvY3VtZW50YXRpb24gYmVsb3cpOlxuICogICB0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TOiBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4gMjA7XG4gKiAgIH1cbiAqICAgLy8gSW4gcHJhY3RpY2UsICphbHdheXMqIHVzZSBhIHByZWRlY2xhcmVkIGNvbnN0YW50IChjb25zZXJ2ZSBtZW1vcnkpLlxuICogICB0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiB7dG9wOiAyMCwgbGVmdDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiAxMDB9O1xuICogICB9XG4gKi9cblxuLyoqXG4gKiBUb3VjaGFibGUgc3RhdGVzLlxuICovXG5cbmNvbnN0IFN0YXRlcyA9IGtleU1pcnJvcih7XG4gIE5PVF9SRVNQT05ERVI6IG51bGwsIC8vIE5vdCB0aGUgcmVzcG9uZGVyXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTjogbnVsbCwgLy8gUmVzcG9uZGVyLCBpbmFjdGl2ZSwgaW4gdGhlIGBQcmVzc1JlY3RgXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19PVVQ6IG51bGwsIC8vIFJlc3BvbmRlciwgaW5hY3RpdmUsIG91dCBvZiBgUHJlc3NSZWN0YFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOOiBudWxsLCAvLyBSZXNwb25kZXIsIGFjdGl2ZSwgaW4gdGhlIGBQcmVzc1JlY3RgXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUOiBudWxsLCAvLyBSZXNwb25kZXIsIGFjdGl2ZSwgb3V0IG9mIGBQcmVzc1JlY3RgXG4gIFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTjogbnVsbCwgLy8gUmVzcG9uZGVyLCBhY3RpdmUsIGluIHRoZSBgUHJlc3NSZWN0YCwgYWZ0ZXIgbG9uZyBwcmVzcyB0aHJlc2hvbGRcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVDogbnVsbCwgLy8gUmVzcG9uZGVyLCBhY3RpdmUsIG91dCBvZiBgUHJlc3NSZWN0YCwgYWZ0ZXIgbG9uZyBwcmVzcyB0aHJlc2hvbGRcbiAgRVJST1I6IG51bGwsXG59KTtcblxudHlwZSBTdGF0ZSA9XG4gIHwgdHlwZW9mIFN0YXRlcy5OT1RfUkVTUE9OREVSXG4gIHwgdHlwZW9mIFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU5cbiAgfCB0eXBlb2YgU3RhdGVzLlJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19PVVRcbiAgfCB0eXBlb2YgU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU5cbiAgfCB0eXBlb2YgU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUXG4gIHwgdHlwZW9mIFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU5cbiAgfCB0eXBlb2YgU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVRcbiAgfCB0eXBlb2YgU3RhdGVzLkVSUk9SO1xuXG4vKlxuICogUXVpY2sgbG9va3VwIG1hcCBmb3Igc3RhdGVzIHRoYXQgYXJlIGNvbnNpZGVyZWQgdG8gYmUgXCJhY3RpdmVcIlxuICovXG5cbmNvbnN0IGJhc2VTdGF0ZXNDb25kaXRpb25zID0ge1xuICBOT1RfUkVTUE9OREVSOiBmYWxzZSxcbiAgUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOOiBmYWxzZSxcbiAgUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVDogZmFsc2UsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU46IGZhbHNlLFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVDogZmFsc2UsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTjogZmFsc2UsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVQ6IGZhbHNlLFxuICBFUlJPUjogZmFsc2UsXG59O1xuXG5jb25zdCBJc0FjdGl2ZSA9IHtcbiAgLi4uYmFzZVN0YXRlc0NvbmRpdGlvbnMsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUOiB0cnVlLFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOOiB0cnVlLFxufTtcblxuLyoqXG4gKiBRdWljayBsb29rdXAgZm9yIHN0YXRlcyB0aGF0IGFyZSBjb25zaWRlcmVkIHRvIGJlIFwicHJlc3NpbmdcIiBhbmQgYXJlXG4gKiB0aGVyZWZvcmUgZWxpZ2libGUgdG8gcmVzdWx0IGluIGEgXCJzZWxlY3Rpb25cIiBpZiB0aGUgcHJlc3Mgc3RvcHMuXG4gKi9cbmNvbnN0IElzUHJlc3NpbmdJbiA9IHtcbiAgLi4uYmFzZVN0YXRlc0NvbmRpdGlvbnMsXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTjogdHJ1ZSxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTjogdHJ1ZSxcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOOiB0cnVlLFxufTtcblxuY29uc3QgSXNMb25nUHJlc3NpbmdJbiA9IHtcbiAgLi4uYmFzZVN0YXRlc0NvbmRpdGlvbnMsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTjogdHJ1ZSxcbn07XG5cbi8qKlxuICogSW5wdXRzIHRvIHRoZSBzdGF0ZSBtYWNoaW5lLlxuICovXG5jb25zdCBTaWduYWxzID0ga2V5TWlycm9yKHtcbiAgREVMQVk6IG51bGwsXG4gIFJFU1BPTkRFUl9HUkFOVDogbnVsbCxcbiAgUkVTUE9OREVSX1JFTEVBU0U6IG51bGwsXG4gIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBudWxsLFxuICBFTlRFUl9QUkVTU19SRUNUOiBudWxsLFxuICBMRUFWRV9QUkVTU19SRUNUOiBudWxsLFxuICBMT05HX1BSRVNTX0RFVEVDVEVEOiBudWxsLFxufSk7XG5cbnR5cGUgU2lnbmFsID1cbiAgfCB0eXBlb2YgU2lnbmFscy5ERUxBWVxuICB8IHR5cGVvZiBTaWduYWxzLlJFU1BPTkRFUl9HUkFOVFxuICB8IHR5cGVvZiBTaWduYWxzLlJFU1BPTkRFUl9SRUxFQVNFXG4gIHwgdHlwZW9mIFNpZ25hbHMuUkVTUE9OREVSX1RFUk1JTkFURURcbiAgfCB0eXBlb2YgU2lnbmFscy5FTlRFUl9QUkVTU19SRUNUXG4gIHwgdHlwZW9mIFNpZ25hbHMuTEVBVkVfUFJFU1NfUkVDVFxuICB8IHR5cGVvZiBTaWduYWxzLkxPTkdfUFJFU1NfREVURUNURUQ7XG5cbi8qKlxuICogTWFwcGluZyBmcm9tIFN0YXRlcyB4IFNpZ25hbHMgPT4gU3RhdGVzXG4gKi9cbmNvbnN0IFRyYW5zaXRpb25zID0ge1xuICBOT1RfUkVTUE9OREVSOiB7XG4gICAgREVMQVk6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfR1JBTlQ6IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4sXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLkVSUk9SLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6IFN0YXRlcy5FUlJPUixcbiAgICBMRUFWRV9QUkVTU19SRUNUOiBTdGF0ZXMuRVJST1IsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLkVSUk9SLFxuICB9LFxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU46IHtcbiAgICBERUxBWTogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4sXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VULFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5FUlJPUixcbiAgfSxcbiAgUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVDoge1xuICAgIERFTEFZOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VULFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5FUlJPUixcbiAgfSxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTjoge1xuICAgIERFTEFZOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTixcbiAgICBMRUFWRV9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTixcbiAgfSxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQ6IHtcbiAgICBERUxBWTogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4sXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VULFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5FUlJPUixcbiAgfSxcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOOiB7XG4gICAgREVMQVk6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfR1JBTlQ6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4sXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVQsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTixcbiAgfSxcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVDoge1xuICAgIERFTEFZOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VULFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5FUlJPUixcbiAgfSxcbiAgZXJyb3I6IHtcbiAgICBERUxBWTogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gIH0sXG59O1xuXG4vLyA9PT09IFR5cGljYWwgQ29uc3RhbnRzIGZvciBpbnRlZ3JhdGluZyBpbnRvIFVJIGNvbXBvbmVudHMgPT09PVxuLy8gdmFyIEhJVF9FWFBBTkRfUFggPSAyMDtcbi8vIHZhciBISVRfVkVSVF9PRkZTRVRfUFggPSAxMDtcbmNvbnN0IEhJR0hMSUdIVF9ERUxBWV9NUyA9IDEzMDtcblxuY29uc3QgUFJFU1NfRVhQQU5EX1BYID0gMjA7XG5cbmNvbnN0IExPTkdfUFJFU1NfVEhSRVNIT0xEID0gNTAwO1xuXG5jb25zdCBMT05HX1BSRVNTX0RFTEFZX01TID0gTE9OR19QUkVTU19USFJFU0hPTEQgLSBISUdITElHSFRfREVMQVlfTVM7XG5cbmNvbnN0IExPTkdfUFJFU1NfQUxMT1dFRF9NT1ZFTUVOVCA9IDEwO1xuXG4vLyBEZWZhdWx0IGFtb3VudCBcImFjdGl2ZVwiIHJlZ2lvbiBwcm90cnVkZXMgYmV5b25kIGJveFxuXG4vKipcbiAqIEJ5IGNvbnZlbnRpb24sIG1ldGhvZHMgcHJlZml4ZWQgd2l0aCB1bmRlcnNjb3JlcyBhcmUgbWVhbnQgdG8gYmUgQHByaXZhdGUsXG4gKiBhbmQgbm90IEBwcm90ZWN0ZWQuIE1peGVycyBzaG91bGRuJ3QgYWNjZXNzIHRoZW0gLSBub3QgZXZlbiB0byBwcm92aWRlIHRoZW1cbiAqIGFzIGNhbGxiYWNrIGhhbmRsZXJzLlxuICpcbiAqXG4gKiA9PT09PT09PT09IEdlb21ldHJ5ID09PT09PT09PVxuICogYFRvdWNoYWJsZWAgb25seSBhc3N1bWVzIHRoYXQgdGhlcmUgZXhpc3RzIGEgYEhpdFJlY3RgIG5vZGUuIFRoZSBgUHJlc3NSZWN0YFxuICogaXMgYW4gYWJzdHJhY3QgYm94IHRoYXQgaXMgZXh0ZW5kZWQgYmV5b25kIHRoZSBgSGl0UmVjdGAuXG4gKlxuICogICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqICB8ICAgICAgICAgICAgICAgICAgICAgICAgICB8IC0gXCJTdGFydFwiIGV2ZW50cyBpbiBgSGl0UmVjdGAgY2F1c2UgYEhpdFJlY3RgXG4gKiAgfCAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgfCAgIHRvIGJlY29tZSB0aGUgcmVzcG9uZGVyLlxuICogIHwgIHwgICstLS0tLS0tLS0tLS0tLSsgIHwgIHwgLSBgSGl0UmVjdGAgaXMgdHlwaWNhbGx5IGV4cGFuZGVkIGFyb3VuZFxuICogIHwgIHwgIHwgICAgICAgICAgICAgIHwgIHwgIHwgICB0aGUgYFZpc3VhbFJlY3RgLCBidXQgc2hpZnRlZCBkb3dud2FyZC5cbiAqICB8ICB8ICB8ICBWaXN1YWxSZWN0ICB8ICB8ICB8IC0gQWZ0ZXIgcHJlc3NpbmcgZG93biwgYWZ0ZXIgc29tZSBkZWxheSxcbiAqICB8ICB8ICB8ICAgICAgICAgICAgICB8ICB8ICB8ICAgYW5kIGJlZm9yZSBsZXR0aW5nIHVwLCB0aGUgVmlzdWFsIFJlYWN0XG4gKiAgfCAgfCAgKy0tLS0tLS0tLS0tLS0tKyAgfCAgfCAgIHdpbGwgYmVjb21lIFwiYWN0aXZlXCIuIFRoaXMgbWFrZXMgaXQgZWxpZ2libGVcbiAqICB8ICB8ICAgICBIaXRSZWN0ICAgICAgICB8ICB8ICAgZm9yIGJlaW5nIGhpZ2hsaWdodGVkIChzbyBsb25nIGFzIHRoZVxuICogIHwgICstLS0tLS0tLS0tLS0tLS0tLS0tLSsgIHwgICBwcmVzcyByZW1haW5zIGluIHRoZSBgUHJlc3NSZWN0YCkuXG4gKiAgfCAgICAgICAgUHJlc3NSZWN0ICAgICBvICAgfFxuICogICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLStcbiAqICAgICAgICAgICBPdXQgUmVnaW9uICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLSsgVGhpcyBnYXAgYmV0d2VlbiB0aGUgYEhpdFJlY3RgIGFuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgUHJlc3NSZWN0YCBhbGxvd3MgYSB0b3VjaCB0byBtb3ZlIGZhciBhd2F5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gdGhlIG9yaWdpbmFsIGhpdCByZWN0LCBhbmQgcmVtYWluXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodGVkLCBhbmQgZWxpZ2libGUgZm9yIGEgXCJQcmVzc1wiLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdXN0b21pemUgdGhpcyB2aWFcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldCgpYC5cbiAqXG4gKlxuICpcbiAqID09PT09PT0gU3RhdGUgTWFjaGluZSA9PT09PT09XG4gKlxuICogKy0tLS0tLS0tLS0tLS0rIDwtLS0rIFJFU1BPTkRFUl9SRUxFQVNFXG4gKiB8Tk9UX1JFU1BPTkRFUnxcbiAqICstLS0tLS0tLS0tLS0tKyA8LS0tKyBSRVNQT05ERVJfVEVSTUlOQVRFRFxuICogICAgICtcbiAqICAgICB8IFJFU1BPTkRFUl9HUkFOVCAoSGl0UmVjdClcbiAqICAgICB2XG4gKiArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgREVMQVkgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgIFQgKyBERUxBWSAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqIHxSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU58Ky0tLS0tLS0tPnxSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOfCArLS0tLS0tLS0tLS0tPiB8UkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOfFxuICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gKiAgICAgKyAgICAgICAgICAgIF4gICAgICAgICAgICAgICAgICAgICAgICAgKyAgICAgICAgICAgXiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgICAgICAgICAgIF5cbiAqICAgICB8TEVBVkVfICAgICAgfEVOVEVSXyAgICAgICAgICAgICAgICAgICB8TEVBVkVfICAgICB8RU5URVJfICAgICAgICAgICAgICAgICAgICAgICAgICAgfExFQVZFXyAgICAgfEVOVEVSX1xuICogICAgIHxQUkVTU19SRUNUICB8UFJFU1NfUkVDVCAgICAgICAgICAgICAgIHxQUkVTU19SRUNUIHxQUkVTU19SRUNUICAgICAgICAgICAgICAgICAgICAgICB8UFJFU1NfUkVDVCB8UFJFU1NfUkVDVFxuICogICAgIHwgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICB8XG4gKiAgICAgdiAgICAgICAgICAgICsgICAgICAgICAgICAgICAgICAgICAgICAgdiAgICAgICAgICAgKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgICAgICAgICAgICtcbiAqICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgREVMQVkgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqIHxSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUfCstLS0tLS0tPnxSRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVHwgICAgICAgICAgICAgICB8UkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVHxcbiAqICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqXG4gKiBUICsgREVMQVkgPT4gTE9OR19QUkVTU19ERUxBWV9NUyArIERFTEFZXG4gKlxuICogTm90IGRyYXduIGFyZSB0aGUgc2lkZSBlZmZlY3RzIG9mIGVhY2ggdHJhbnNpdGlvbi4gVGhlIG1vc3QgaW1wb3J0YW50IHNpZGVcbiAqIGVmZmVjdCBpcyB0aGUgYHRvdWNoYWJsZUhhbmRsZVByZXNzYCBhYnN0cmFjdCBtZXRob2QgaW52b2NhdGlvbiB0aGF0IG9jY3Vyc1xuICogd2hlbiBhIHJlc3BvbmRlciBpcyByZWxlYXNlZCB3aGlsZSBpbiBlaXRoZXIgb2YgdGhlIFwiUHJlc3NcIiBzdGF0ZXMuXG4gKlxuICogVGhlIG90aGVyIGltcG9ydGFudCBzaWRlIGVmZmVjdHMgYXJlIHRoZSBoaWdobGlnaHQgYWJzdHJhY3QgbWV0aG9kXG4gKiBpbnZvY2F0aW9ucyAoaW50ZXJuYWwgY2FsbGJhY2tzKSB0byBiZSBpbXBsZW1lbnRlZCBieSB0aGUgbWl4ZXIuXG4gKlxuICpcbiAqIEBsZW5kcyBUb3VjaGFibGUucHJvdG90eXBlXG4gKi9cbmNvbnN0IFRvdWNoYWJsZU1peGluID0ge1xuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFQbGF0Zm9ybS5pc1RWKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fdHZFdmVudEhhbmRsZXIgPSBuZXcgVFZFdmVudEhhbmRsZXIoKTtcbiAgICB0aGlzLl90dkV2ZW50SGFuZGxlci5lbmFibGUodGhpcywgZnVuY3Rpb24oY21wLCBldnQpIHtcbiAgICAgIGNvbnN0IG15VGFnID0gUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUoY21wKTtcbiAgICAgIGV2dC5kaXNwYXRjaENvbmZpZyA9IHt9O1xuICAgICAgaWYgKG15VGFnID09PSBldnQudGFnKSB7XG4gICAgICAgIGlmIChldnQuZXZlbnRUeXBlID09PSAnZm9jdXMnKSB7XG4gICAgICAgICAgY21wLnRvdWNoYWJsZUhhbmRsZUZvY3VzKGV2dCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LmV2ZW50VHlwZSA9PT0gJ2JsdXInKSB7XG4gICAgICAgICAgY21wLnRvdWNoYWJsZUhhbmRsZUJsdXIoZXZ0KTtcbiAgICAgICAgfSBlbHNlIGlmIChldnQuZXZlbnRUeXBlID09PSAnc2VsZWN0Jykge1xuICAgICAgICAgIGNtcC50b3VjaGFibGVIYW5kbGVQcmVzcyAmJlxuICAgICAgICAgICAgIWNtcC5wcm9wcy5kaXNhYmxlZCAmJlxuICAgICAgICAgICAgY21wLnRvdWNoYWJsZUhhbmRsZVByZXNzKGV2dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHRpbWVvdXRzIG9uIHVubW91bnRcbiAgICovXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fdHZFdmVudEhhbmRsZXIpIHtcbiAgICAgIHRoaXMuX3R2RXZlbnRIYW5kbGVyLmRpc2FibGUoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLl90dkV2ZW50SGFuZGxlcjtcbiAgICB9XG4gICAgdGhpcy50b3VjaGFibGVEZWxheVRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMudG91Y2hhYmxlRGVsYXlUaW1lb3V0KTtcbiAgICB0aGlzLmxvbmdQcmVzc0RlbGF5VGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQpO1xuICAgIHRoaXMucHJlc3NPdXREZWxheVRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMucHJlc3NPdXREZWxheVRpbWVvdXQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJdCdzIHByZWZlciB0aGF0IG1peGlucyBkZXRlcm1pbmUgc3RhdGUgaW4gdGhpcyB3YXksIGhhdmluZyB0aGUgY2xhc3NcbiAgICogZXhwbGljaXRseSBtaXggdGhlIHN0YXRlIGluIHRoZSBvbmUgYW5kIG9ubHkgYGdldEluaXRpYWxTdGF0ZWAgbWV0aG9kLlxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IFN0YXRlIG9iamVjdCB0byBiZSBwbGFjZWQgaW5zaWRlIG9mXG4gICAqIGB0aGlzLnN0YXRlLnRvdWNoYWJsZWAuXG4gICAqL1xuICB0b3VjaGFibGVHZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCk6ICRURU1QT1JBUlkkb2JqZWN0PHt8XG4gICAgdG91Y2hhYmxlOiAkVEVNUE9SQVJZJG9iamVjdDx7fHJlc3BvbmRlcklEOiBudWxsLCB0b3VjaFN0YXRlOiB2b2lkfH0+LFxuICB8fT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0b3VjaGFibGU6IHt0b3VjaFN0YXRlOiB1bmRlZmluZWQsIHJlc3BvbmRlcklEOiBudWxsfSxcbiAgICB9O1xuICB9LFxuXG4gIC8vID09PT0gSG9va3MgdG8gR2VzdHVyZSBSZXNwb25kZXIgc3lzdGVtID09PT1cbiAgLyoqXG4gICAqIE11c3QgcmV0dXJuIHRydWUgaWYgZW1iZWRkZWQgaW4gYSBuYXRpdmUgcGxhdGZvcm0gc2Nyb2xsIHZpZXcuXG4gICAqL1xuICB0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IGZ1bmN0aW9uKCk6IGFueSB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLnJlamVjdFJlc3BvbmRlclRlcm1pbmF0aW9uO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNdXN0IHJldHVybiB0cnVlIHRvIHN0YXJ0IHRoZSBwcm9jZXNzIG9mIGBUb3VjaGFibGVgLlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IGZ1bmN0aW9uKCk6IGFueSB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmRpc2FibGVkO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZSB0byBjYW5jZWwgcHJlc3Mgb24gbG9uZyBwcmVzcy5cbiAgICovXG4gIHRvdWNoYWJsZUxvbmdQcmVzc0NhbmNlbHNQcmVzczogZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBsYWNlIGFzIGNhbGxiYWNrIGZvciBhIERPTSBlbGVtZW50J3MgYG9uUmVzcG9uZGVyR3JhbnRgIGV2ZW50LlxuICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBlIFN5bnRoZXRpYyBldmVudCBmcm9tIGV2ZW50IHN5c3RlbS5cbiAgICpcbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlckdyYW50OiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgY29uc3QgZGlzcGF0Y2hJRCA9IGUuY3VycmVudFRhcmdldDtcbiAgICAvLyBTaW5jZSBlIGlzIHVzZWQgaW4gYSBjYWxsYmFjayBpbnZva2VkIG9uIGFub3RoZXIgZXZlbnQgbG9vcFxuICAgIC8vIChhcyBpbiBzZXRUaW1lb3V0IGV0YyksIHdlIG5lZWQgdG8gY2FsbCBlLnBlcnNpc3QoKSBvbiB0aGVcbiAgICAvLyBldmVudCB0byBtYWtlIHN1cmUgaXQgZG9lc24ndCBnZXQgcmV1c2VkIGluIHRoZSBldmVudCBvYmplY3QgcG9vbC5cbiAgICBlLnBlcnNpc3QoKTtcblxuICAgIHRoaXMucHJlc3NPdXREZWxheVRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMucHJlc3NPdXREZWxheVRpbWVvdXQpO1xuICAgIHRoaXMucHJlc3NPdXREZWxheVRpbWVvdXQgPSBudWxsO1xuXG4gICAgdGhpcy5zdGF0ZS50b3VjaGFibGUudG91Y2hTdGF0ZSA9IFN0YXRlcy5OT1RfUkVTUE9OREVSO1xuICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLnJlc3BvbmRlcklEID0gZGlzcGF0Y2hJRDtcbiAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKFNpZ25hbHMuUkVTUE9OREVSX0dSQU5ULCBlKTtcbiAgICBsZXQgZGVsYXlNUyA9XG4gICAgICB0aGlzLnRvdWNoYWJsZUdldEhpZ2hsaWdodERlbGF5TVMgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IE1hdGgubWF4KHRoaXMudG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUygpLCAwKVxuICAgICAgICA6IEhJR0hMSUdIVF9ERUxBWV9NUztcbiAgICBkZWxheU1TID0gaXNOYU4oZGVsYXlNUykgPyBISUdITElHSFRfREVMQVlfTVMgOiBkZWxheU1TO1xuICAgIGlmIChkZWxheU1TICE9PSAwKSB7XG4gICAgICB0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGF5LmJpbmQodGhpcywgZSksXG4gICAgICAgIGRlbGF5TVMsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxheShlKTtcbiAgICB9XG5cbiAgICBsZXQgbG9uZ0RlbGF5TVMgPVxuICAgICAgdGhpcy50b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBNYXRoLm1heCh0aGlzLnRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVMoKSwgMTApXG4gICAgICAgIDogTE9OR19QUkVTU19ERUxBWV9NUztcbiAgICBsb25nRGVsYXlNUyA9IGlzTmFOKGxvbmdEZWxheU1TKSA/IExPTkdfUFJFU1NfREVMQVlfTVMgOiBsb25nRGVsYXlNUztcbiAgICB0aGlzLmxvbmdQcmVzc0RlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICB0aGlzLl9oYW5kbGVMb25nRGVsYXkuYmluZCh0aGlzLCBlKSxcbiAgICAgIGxvbmdEZWxheU1TICsgZGVsYXlNUyxcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQbGFjZSBhcyBjYWxsYmFjayBmb3IgYSBET00gZWxlbWVudCdzIGBvblJlc3BvbmRlclJlbGVhc2VgIGV2ZW50LlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZTogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIHRoaXMucHJlc3NJbkxvY2F0aW9uID0gbnVsbDtcbiAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKFNpZ25hbHMuUkVTUE9OREVSX1JFTEVBU0UsIGUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQbGFjZSBhcyBjYWxsYmFjayBmb3IgYSBET00gZWxlbWVudCdzIGBvblJlc3BvbmRlclRlcm1pbmF0ZWAgZXZlbnQuXG4gICAqL1xuICB0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGU6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLnByZXNzSW5Mb2NhdGlvbiA9IG51bGw7XG4gICAgdGhpcy5fcmVjZWl2ZVNpZ25hbChTaWduYWxzLlJFU1BPTkRFUl9URVJNSU5BVEVELCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogUGxhY2UgYXMgY2FsbGJhY2sgZm9yIGEgRE9NIGVsZW1lbnQncyBgb25SZXNwb25kZXJNb3ZlYCBldmVudC5cbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmU6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICAvLyBNZWFzdXJlbWVudCBtYXkgbm90IGhhdmUgcmV0dXJuZWQgeWV0LlxuICAgIGlmICghdGhpcy5zdGF0ZS50b3VjaGFibGUucG9zaXRpb25PbkFjdGl2YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcG9zaXRpb25PbkFjdGl2YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUucG9zaXRpb25PbkFjdGl2YXRlO1xuICAgIGNvbnN0IGRpbWVuc2lvbnNPbkFjdGl2YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUuZGltZW5zaW9uc09uQWN0aXZhdGU7XG4gICAgY29uc3QgcHJlc3NSZWN0T2Zmc2V0ID0gdGhpcy50b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXRcbiAgICAgID8gdGhpcy50b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQoKVxuICAgICAgOiB7XG4gICAgICAgICAgbGVmdDogUFJFU1NfRVhQQU5EX1BYLFxuICAgICAgICAgIHJpZ2h0OiBQUkVTU19FWFBBTkRfUFgsXG4gICAgICAgICAgdG9wOiBQUkVTU19FWFBBTkRfUFgsXG4gICAgICAgICAgYm90dG9tOiBQUkVTU19FWFBBTkRfUFgsXG4gICAgICAgIH07XG5cbiAgICBsZXQgcHJlc3NFeHBhbmRMZWZ0ID0gcHJlc3NSZWN0T2Zmc2V0LmxlZnQ7XG4gICAgbGV0IHByZXNzRXhwYW5kVG9wID0gcHJlc3NSZWN0T2Zmc2V0LnRvcDtcbiAgICBsZXQgcHJlc3NFeHBhbmRSaWdodCA9IHByZXNzUmVjdE9mZnNldC5yaWdodDtcbiAgICBsZXQgcHJlc3NFeHBhbmRCb3R0b20gPSBwcmVzc1JlY3RPZmZzZXQuYm90dG9tO1xuXG4gICAgY29uc3QgaGl0U2xvcCA9IHRoaXMudG91Y2hhYmxlR2V0SGl0U2xvcFxuICAgICAgPyB0aGlzLnRvdWNoYWJsZUdldEhpdFNsb3AoKVxuICAgICAgOiBudWxsO1xuXG4gICAgaWYgKGhpdFNsb3ApIHtcbiAgICAgIHByZXNzRXhwYW5kTGVmdCArPSBoaXRTbG9wLmxlZnQgfHwgMDtcbiAgICAgIHByZXNzRXhwYW5kVG9wICs9IGhpdFNsb3AudG9wIHx8IDA7XG4gICAgICBwcmVzc0V4cGFuZFJpZ2h0ICs9IGhpdFNsb3AucmlnaHQgfHwgMDtcbiAgICAgIHByZXNzRXhwYW5kQm90dG9tICs9IGhpdFNsb3AuYm90dG9tIHx8IDA7XG4gICAgfVxuXG4gICAgY29uc3QgdG91Y2ggPSBleHRyYWN0U2luZ2xlVG91Y2goZS5uYXRpdmVFdmVudCk7XG4gICAgY29uc3QgcGFnZVggPSB0b3VjaCAmJiB0b3VjaC5wYWdlWDtcbiAgICBjb25zdCBwYWdlWSA9IHRvdWNoICYmIHRvdWNoLnBhZ2VZO1xuXG4gICAgaWYgKHRoaXMucHJlc3NJbkxvY2F0aW9uKSB7XG4gICAgICBjb25zdCBtb3ZlZERpc3RhbmNlID0gdGhpcy5fZ2V0RGlzdGFuY2VCZXR3ZWVuUG9pbnRzKFxuICAgICAgICBwYWdlWCxcbiAgICAgICAgcGFnZVksXG4gICAgICAgIHRoaXMucHJlc3NJbkxvY2F0aW9uLnBhZ2VYLFxuICAgICAgICB0aGlzLnByZXNzSW5Mb2NhdGlvbi5wYWdlWSxcbiAgICAgICk7XG4gICAgICBpZiAobW92ZWREaXN0YW5jZSA+IExPTkdfUFJFU1NfQUxMT1dFRF9NT1ZFTUVOVCkge1xuICAgICAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpc1RvdWNoV2l0aGluQWN0aXZlID1cbiAgICAgIHBhZ2VYID4gcG9zaXRpb25PbkFjdGl2YXRlLmxlZnQgLSBwcmVzc0V4cGFuZExlZnQgJiZcbiAgICAgIHBhZ2VZID4gcG9zaXRpb25PbkFjdGl2YXRlLnRvcCAtIHByZXNzRXhwYW5kVG9wICYmXG4gICAgICBwYWdlWCA8XG4gICAgICAgIHBvc2l0aW9uT25BY3RpdmF0ZS5sZWZ0ICtcbiAgICAgICAgICBkaW1lbnNpb25zT25BY3RpdmF0ZS53aWR0aCArXG4gICAgICAgICAgcHJlc3NFeHBhbmRSaWdodCAmJlxuICAgICAgcGFnZVkgPFxuICAgICAgICBwb3NpdGlvbk9uQWN0aXZhdGUudG9wICtcbiAgICAgICAgICBkaW1lbnNpb25zT25BY3RpdmF0ZS5oZWlnaHQgK1xuICAgICAgICAgIHByZXNzRXhwYW5kQm90dG9tO1xuICAgIGlmIChpc1RvdWNoV2l0aGluQWN0aXZlKSB7XG4gICAgICBjb25zdCBwcmV2U3RhdGUgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS50b3VjaFN0YXRlO1xuICAgICAgdGhpcy5fcmVjZWl2ZVNpZ25hbChTaWduYWxzLkVOVEVSX1BSRVNTX1JFQ1QsIGUpO1xuICAgICAgY29uc3QgY3VyU3RhdGUgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS50b3VjaFN0YXRlO1xuICAgICAgaWYgKFxuICAgICAgICBjdXJTdGF0ZSA9PT0gU3RhdGVzLlJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTiAmJlxuICAgICAgICBwcmV2U3RhdGUgIT09IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU5cbiAgICAgICkge1xuICAgICAgICAvLyBmaXggZm9yIHQ3OTY3NDIwXG4gICAgICAgIHRoaXMuX2NhbmNlbExvbmdQcmVzc0RlbGF5VGltZW91dCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICAgIHRoaXMuX3JlY2VpdmVTaWduYWwoU2lnbmFscy5MRUFWRV9QUkVTU19SRUNULCBlKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgaXRlbSByZWNlaXZlcyBmb2N1cy4gTWl4ZXJzIG1pZ2h0IG92ZXJyaWRlIHRoaXMgdG9cbiAgICogdmlzdWFsbHkgZGlzdGluZ3Vpc2ggdGhlIGBWaXN1YWxSZWN0YCBzbyB0aGF0IHRoZSB1c2VyIGtub3dzIHRoYXQgaXRcbiAgICogY3VycmVudGx5IGhhcyB0aGUgZm9jdXMuIE1vc3QgcGxhdGZvcm1zIG9ubHkgc3VwcG9ydCBhIHNpbmdsZSBlbGVtZW50IGJlaW5nXG4gICAqIGZvY3VzZWQgYXQgYSB0aW1lLCBpbiB3aGljaCBjYXNlIHRoZXJlIG1heSBoYXZlIGJlZW4gYSBwcmV2aW91c2x5IGZvY3VzZWRcbiAgICogZWxlbWVudCB0aGF0IHdhcyBibHVycmVkIGp1c3QgcHJpb3IgdG8gdGhpcy4gVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB3aGVuXG4gICAqIHVzaW5nIGBUb3VjaGFibGUuTWl4aW4ud2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXJgLlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlRm9jdXM6IGZ1bmN0aW9uKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkZvY3VzICYmIHRoaXMucHJvcHMub25Gb2N1cyhlKTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBpdGVtIGxvc2VzIGZvY3VzLiBNaXhlcnMgbWlnaHQgb3ZlcnJpZGUgdGhpcyB0b1xuICAgKiB2aXN1YWxseSBkaXN0aW5ndWlzaCB0aGUgYFZpc3VhbFJlY3RgIHNvIHRoYXQgdGhlIHVzZXIga25vd3MgdGhhdCBpdFxuICAgKiBubyBsb25nZXIgaGFzIGZvY3VzLiBNb3N0IHBsYXRmb3JtcyBvbmx5IHN1cHBvcnQgYSBzaW5nbGUgZWxlbWVudCBiZWluZ1xuICAgKiBmb2N1c2VkIGF0IGEgdGltZSwgaW4gd2hpY2ggY2FzZSB0aGUgZm9jdXMgbWF5IGhhdmUgbW92ZWQgdG8gYW5vdGhlci5cbiAgICogVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB3aGVuIHVzaW5nXG4gICAqIGBUb3VjaGFibGUuTWl4aW4ud2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXJgLlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlQmx1cjogZnVuY3Rpb24oZTogRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uQmx1ciAmJiB0aGlzLnByb3BzLm9uQmx1cihlKTtcbiAgfSxcblxuICAvLyA9PT09IEFic3RyYWN0IEFwcGxpY2F0aW9uIENhbGxiYWNrcyA9PT09XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgaXRlbSBzaG91bGQgYmUgaGlnaGxpZ2h0ZWQuIE1peGVycyBzaG91bGQgaW1wbGVtZW50IHRoaXNcbiAgICogdG8gdmlzdWFsbHkgZGlzdGluZ3Vpc2ggdGhlIGBWaXN1YWxSZWN0YCBzbyB0aGF0IHRoZSB1c2VyIGtub3dzIHRoYXRcbiAgICogcmVsZWFzaW5nIGEgdG91Y2ggd2lsbCByZXN1bHQgaW4gYSBcInNlbGVjdGlvblwiIChhbmFsb2cgdG8gY2xpY2spLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbjogZnVuY3Rpb24sXG4gICAqL1xuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGl0ZW0gaXMgXCJhY3RpdmVcIiAoaW4gdGhhdCBpdCBpcyBzdGlsbCBlbGlnaWJsZSB0byBiZWNvbWVcbiAgICogYSBcInNlbGVjdFwiKSBidXQgdGhlIHRvdWNoIGhhcyBsZWZ0IHRoZSBgUHJlc3NSZWN0YC4gVXN1YWxseSB0aGUgbWl4ZXIgd2lsbFxuICAgKiB3YW50IHRvIHVuaGlnaGxpZ2h0IHRoZSBgVmlzdWFsUmVjdGAuIElmIHRoZSB1c2VyICh3aGlsZSBwcmVzc2luZykgbW92ZXNcbiAgICogYmFjayBpbnRvIHRoZSBgUHJlc3NSZWN0YCBgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbmAgd2lsbCBiZSBpbnZva2VkXG4gICAqIGFnYWluIGFuZCB0aGUgbWl4ZXIgc2hvdWxkIHByb2JhYmx5IGhpZ2hsaWdodCB0aGUgYFZpc3VhbFJlY3RgIGFnYWluLiBUaGlzXG4gICAqIGV2ZW50IHdpbGwgbm90IGZpcmUgb24gYW4gYHRvdWNoRW5kL21vdXNlVXBgIGV2ZW50LCBvbmx5IG1vdmUgZXZlbnRzIHdoaWxlXG4gICAqIHRoZSB1c2VyIGlzIGRlcHJlc3NpbmcgdGhlIG1vdXNlL3RvdWNoLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQ6IGZ1bmN0aW9uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGl0ZW0gaXMgXCJzZWxlY3RlZFwiIC0gbWVhbmluZyB0aGUgaW50ZXJhY3Rpb24gZW5kZWQgYnlcbiAgICogbGV0dGluZyB1cCB3aGlsZSB0aGUgaXRlbSB3YXMgZWl0aGVyIGluIHRoZSBzdGF0ZVxuICAgKiBgUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTmAgb3IgYFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTmAuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiB0b3VjaGFibGVIYW5kbGVQcmVzczogZnVuY3Rpb25cbiAgICovXG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgaXRlbSBpcyBsb25nIHByZXNzZWQgLSBtZWFuaW5nIHRoZSBpbnRlcmFjdGlvbiBlbmRlZCBieVxuICAgKiBsZXR0aW5nIHVwIHdoaWxlIHRoZSBpdGVtIHdhcyBpbiBgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOYC4gSWZcbiAgICogYHRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzc2AgaXMgKm5vdCogcHJvdmlkZWQsIGB0b3VjaGFibGVIYW5kbGVQcmVzc2Agd2lsbFxuICAgKiBiZSBjYWxsZWQgYXMgaXQgbm9ybWFsbHkgaXMuIElmIGB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3NgIGlzIHByb3ZpZGVkLCBieVxuICAgKiBkZWZhdWx0IGFueSBgdG91Y2hhYmxlSGFuZGxlUHJlc3NgIGNhbGxiYWNrIHdpbGwgbm90IGJlIGludm9rZWQuIFRvXG4gICAqIG92ZXJyaWRlIHRoaXMgZGVmYXVsdCBiZWhhdmlvciwgb3ZlcnJpZGUgYHRvdWNoYWJsZUxvbmdQcmVzc0NhbmNlbHNQcmVzc2BcbiAgICogdG8gcmV0dXJuIGZhbHNlLiBBcyBhIHJlc3VsdCwgYHRvdWNoYWJsZUhhbmRsZVByZXNzYCB3aWxsIGJlIGNhbGxlZCB3aGVuXG4gICAqIGxpZnRpbmcgdXAsIGV2ZW4gaWYgYHRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzc2AgaGFzIGFsc28gYmVlbiBjYWxsZWQuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3M6IGZ1bmN0aW9uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgbWlsbGlzIHRvIHdhaXQgYmVmb3JlIHRyaWdnZXJpbmcgYSBoaWdobGlnaHQuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiB0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TOiBmdW5jdGlvblxuICAgKi9cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYW1vdW50IHRvIGV4dGVuZCB0aGUgYEhpdFJlY3RgIGludG8gdGhlIGBQcmVzc1JlY3RgLiBQb3NpdGl2ZVxuICAgKiBudW1iZXJzIG1lYW4gdGhlIHNpemUgZXhwYW5kcyBvdXR3YXJkcy5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIHRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldDogZnVuY3Rpb25cbiAgICovXG5cbiAgLy8gPT09PSBJbnRlcm5hbCBMb2dpYyA9PT09XG5cbiAgLyoqXG4gICAqIE1lYXN1cmVzIHRoZSBgSGl0UmVjdGAgbm9kZSBvbiBhY3RpdmF0aW9uLiBUaGUgQm91bmRpbmcgcmVjdGFuZ2xlIGlzIHdpdGhcbiAgICogcmVzcGVjdCB0byB2aWV3cG9ydCAtIG5vdCBwYWdlLCBzbyBhZGRpbmcgdGhlIGBwYWdlWE9mZnNldC9wYWdlWU9mZnNldGBcbiAgICogc2hvdWxkIHJlc3VsdCBpbiBwb2ludHMgdGhhdCBhcmUgaW4gdGhlIHNhbWUgY29vcmRpbmF0ZSBzeXN0ZW0gYXMgYW5cbiAgICogZXZlbnQncyBgZ2xvYmFsWC9nbG9iYWxZYCBkYXRhIHZhbHVlcy5cbiAgICpcbiAgICogLSBDb25zaWRlciBjYWNoaW5nIHRoaXMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LCBvciBwb3NzaWJseVxuICAgKiAgIGJlaW5nIGFibGUgdG8gc2hhcmUgdGhpcyBjYWNoZSBiZXR3ZWVuIGFueSBgU2Nyb2xsTWFwYCB2aWV3LlxuICAgKlxuICAgKiBAc2lkZWVmZmVjdHNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1lYXN1cmVNZXRyaWNzT25BY3RpdmF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB0YWcgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRDtcbiAgICBpZiAodGFnID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBVSU1hbmFnZXIubWVhc3VyZSh0YWcsIHRoaXMuX2hhbmRsZVF1ZXJ5TGF5b3V0KTtcbiAgfSxcblxuICBfaGFuZGxlUXVlcnlMYXlvdXQ6IGZ1bmN0aW9uKFxuICAgIGw6IG51bWJlcixcbiAgICB0OiBudW1iZXIsXG4gICAgdzogbnVtYmVyLFxuICAgIGg6IG51bWJlcixcbiAgICBnbG9iYWxYOiBudW1iZXIsXG4gICAgZ2xvYmFsWTogbnVtYmVyLFxuICApIHtcbiAgICAvL2Rvbid0IGRvIGFueXRoaW5nIFVJTWFuYWdlciBmYWlsZWQgdG8gbWVhc3VyZSBub2RlXG4gICAgaWYgKCFsICYmICF0ICYmICF3ICYmICFoICYmICFnbG9iYWxYICYmICFnbG9iYWxZKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLnBvc2l0aW9uT25BY3RpdmF0ZSAmJlxuICAgICAgUG9zaXRpb24ucmVsZWFzZSh0aGlzLnN0YXRlLnRvdWNoYWJsZS5wb3NpdGlvbk9uQWN0aXZhdGUpO1xuICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLmRpbWVuc2lvbnNPbkFjdGl2YXRlICYmXG4gICAgICBCb3VuZGluZ0RpbWVuc2lvbnMucmVsZWFzZSh0aGlzLnN0YXRlLnRvdWNoYWJsZS5kaW1lbnNpb25zT25BY3RpdmF0ZSk7XG4gICAgdGhpcy5zdGF0ZS50b3VjaGFibGUucG9zaXRpb25PbkFjdGl2YXRlID0gUG9zaXRpb24uZ2V0UG9vbGVkKFxuICAgICAgZ2xvYmFsWCxcbiAgICAgIGdsb2JhbFksXG4gICAgKTtcbiAgICB0aGlzLnN0YXRlLnRvdWNoYWJsZS5kaW1lbnNpb25zT25BY3RpdmF0ZSA9IEJvdW5kaW5nRGltZW5zaW9ucy5nZXRQb29sZWQoXG4gICAgICB3LFxuICAgICAgaCxcbiAgICApO1xuICB9LFxuXG4gIF9oYW5kbGVEZWxheTogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIHRoaXMudG91Y2hhYmxlRGVsYXlUaW1lb3V0ID0gbnVsbDtcbiAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKFNpZ25hbHMuREVMQVksIGUpO1xuICB9LFxuXG4gIF9oYW5kbGVMb25nRGVsYXk6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLmxvbmdQcmVzc0RlbGF5VGltZW91dCA9IG51bGw7XG4gICAgY29uc3QgY3VyU3RhdGUgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS50b3VjaFN0YXRlO1xuICAgIGlmIChcbiAgICAgIGN1clN0YXRlICE9PSBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTiAmJlxuICAgICAgY3VyU3RhdGUgIT09IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU5cbiAgICApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdBdHRlbXB0ZWQgdG8gdHJhbnNpdGlvbiBmcm9tIHN0YXRlIGAnICtcbiAgICAgICAgICBjdXJTdGF0ZSArXG4gICAgICAgICAgJ2AgdG8gYCcgK1xuICAgICAgICAgIFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4gK1xuICAgICAgICAgICdgLCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkLiBUaGlzIGlzICcgK1xuICAgICAgICAgICdtb3N0IGxpa2VseSBkdWUgdG8gYFRvdWNoYWJsZS5sb25nUHJlc3NEZWxheVRpbWVvdXRgIG5vdCBiZWluZyBjYW5jZWxsZWQuJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JlY2VpdmVTaWduYWwoU2lnbmFscy5MT05HX1BSRVNTX0RFVEVDVEVELCBlKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlY2VpdmVzIGEgc3RhdGUgbWFjaGluZSBzaWduYWwsIHBlcmZvcm1zIHNpZGUgZWZmZWN0cyBvZiB0aGUgdHJhbnNpdGlvblxuICAgKiBhbmQgc3RvcmVzIHRoZSBuZXcgc3RhdGUuIFZhbGlkYXRlcyB0aGUgdHJhbnNpdGlvbiBhcyB3ZWxsLlxuICAgKlxuICAgKiBAcGFyYW0ge1NpZ25hbHN9IHNpZ25hbCBTdGF0ZSBtYWNoaW5lIHNpZ25hbC5cbiAgICogQHRocm93cyBFcnJvciBpZiBpbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gb3IgdW5yZWNvZ25pemVkIHNpZ25hbC5cbiAgICogQHNpZGVlZmZlY3RzXG4gICAqL1xuICBfcmVjZWl2ZVNpZ25hbDogZnVuY3Rpb24oc2lnbmFsOiBTaWduYWwsIGU6IFByZXNzRXZlbnQpIHtcbiAgICBjb25zdCByZXNwb25kZXJJRCA9IHRoaXMuc3RhdGUudG91Y2hhYmxlLnJlc3BvbmRlcklEO1xuICAgIGNvbnN0IGN1clN0YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUudG91Y2hTdGF0ZTtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSBUcmFuc2l0aW9uc1tjdXJTdGF0ZV0gJiYgVHJhbnNpdGlvbnNbY3VyU3RhdGVdW3NpZ25hbF07XG4gICAgaWYgKCFyZXNwb25kZXJJRCAmJiBzaWduYWwgPT09IFNpZ25hbHMuUkVTUE9OREVSX1JFTEVBU0UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFuZXh0U3RhdGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1VucmVjb2duaXplZCBzaWduYWwgYCcgK1xuICAgICAgICAgIHNpZ25hbCArXG4gICAgICAgICAgJ2Agb3Igc3RhdGUgYCcgK1xuICAgICAgICAgIGN1clN0YXRlICtcbiAgICAgICAgICAnYCBmb3IgVG91Y2hhYmxlIHJlc3BvbmRlciBgJyArXG4gICAgICAgICAgcmVzcG9uZGVySUQgK1xuICAgICAgICAgICdgJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChuZXh0U3RhdGUgPT09IFN0YXRlcy5FUlJPUikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVG91Y2hhYmxlIGNhbm5vdCB0cmFuc2l0aW9uIGZyb20gYCcgK1xuICAgICAgICAgIGN1clN0YXRlICtcbiAgICAgICAgICAnYCB0byBgJyArXG4gICAgICAgICAgc2lnbmFsICtcbiAgICAgICAgICAnYCBmb3IgcmVzcG9uZGVyIGAnICtcbiAgICAgICAgICByZXNwb25kZXJJRCArXG4gICAgICAgICAgJ2AnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGN1clN0YXRlICE9PSBuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuX3BlcmZvcm1TaWRlRWZmZWN0c0ZvclRyYW5zaXRpb24oY3VyU3RhdGUsIG5leHRTdGF0ZSwgc2lnbmFsLCBlKTtcbiAgICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLnRvdWNoU3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgfVxuICB9LFxuXG4gIF9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubG9uZ1ByZXNzRGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLmxvbmdQcmVzc0RlbGF5VGltZW91dCk7XG4gICAgdGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBudWxsO1xuICB9LFxuXG4gIF9pc0hpZ2hsaWdodDogZnVuY3Rpb24oc3RhdGU6IFN0YXRlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHN0YXRlID09PSBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTiB8fFxuICAgICAgc3RhdGUgPT09IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU5cbiAgICApO1xuICB9LFxuXG4gIF9zYXZlUHJlc3NJbkxvY2F0aW9uOiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgY29uc3QgdG91Y2ggPSBleHRyYWN0U2luZ2xlVG91Y2goZS5uYXRpdmVFdmVudCk7XG4gICAgY29uc3QgcGFnZVggPSB0b3VjaCAmJiB0b3VjaC5wYWdlWDtcbiAgICBjb25zdCBwYWdlWSA9IHRvdWNoICYmIHRvdWNoLnBhZ2VZO1xuICAgIGNvbnN0IGxvY2F0aW9uWCA9IHRvdWNoICYmIHRvdWNoLmxvY2F0aW9uWDtcbiAgICBjb25zdCBsb2NhdGlvblkgPSB0b3VjaCAmJiB0b3VjaC5sb2NhdGlvblk7XG4gICAgdGhpcy5wcmVzc0luTG9jYXRpb24gPSB7cGFnZVgsIHBhZ2VZLCBsb2NhdGlvblgsIGxvY2F0aW9uWX07XG4gIH0sXG5cbiAgX2dldERpc3RhbmNlQmV0d2VlblBvaW50czogZnVuY3Rpb24oXG4gICAgYVg6IG51bWJlcixcbiAgICBhWTogbnVtYmVyLFxuICAgIGJYOiBudW1iZXIsXG4gICAgYlk6IG51bWJlcixcbiAgKTogbnVtYmVyIHtcbiAgICBjb25zdCBkZWx0YVggPSBhWCAtIGJYO1xuICAgIGNvbnN0IGRlbHRhWSA9IGFZIC0gYlk7XG4gICAgcmV0dXJuIE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBXaWxsIHBlcmZvcm0gYSB0cmFuc2l0aW9uIGJldHdlZW4gdG91Y2hhYmxlIHN0YXRlcywgYW5kIGlkZW50aWZ5IGFueVxuICAgKiBoaWdobGlnaHRpbmcgb3IgdW5oaWdobGlnaHRpbmcgdGhhdCBtdXN0IGJlIHBlcmZvcm1lZCBmb3IgdGhpcyBwYXJ0aWN1bGFyXG4gICAqIHRyYW5zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RhdGVzfSBjdXJTdGF0ZSBDdXJyZW50IFRvdWNoYWJsZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtTdGF0ZXN9IG5leHRTdGF0ZSBOZXh0IFRvdWNoYWJsZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtTaWduYWx9IHNpZ25hbCBTaWduYWwgdGhhdCB0cmlnZ2VyZWQgdGhlIHRyYW5zaXRpb24uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgTmF0aXZlIGV2ZW50LlxuICAgKiBAc2lkZWVmZmVjdHNcbiAgICovXG4gIF9wZXJmb3JtU2lkZUVmZmVjdHNGb3JUcmFuc2l0aW9uOiBmdW5jdGlvbihcbiAgICBjdXJTdGF0ZTogU3RhdGUsXG4gICAgbmV4dFN0YXRlOiBTdGF0ZSxcbiAgICBzaWduYWw6IFNpZ25hbCxcbiAgICBlOiBQcmVzc0V2ZW50LFxuICApIHtcbiAgICBjb25zdCBjdXJJc0hpZ2hsaWdodCA9IHRoaXMuX2lzSGlnaGxpZ2h0KGN1clN0YXRlKTtcbiAgICBjb25zdCBuZXdJc0hpZ2hsaWdodCA9IHRoaXMuX2lzSGlnaGxpZ2h0KG5leHRTdGF0ZSk7XG5cbiAgICBjb25zdCBpc0ZpbmFsU2lnbmFsID1cbiAgICAgIHNpZ25hbCA9PT0gU2lnbmFscy5SRVNQT05ERVJfVEVSTUlOQVRFRCB8fFxuICAgICAgc2lnbmFsID09PSBTaWduYWxzLlJFU1BPTkRFUl9SRUxFQVNFO1xuXG4gICAgaWYgKGlzRmluYWxTaWduYWwpIHtcbiAgICAgIHRoaXMuX2NhbmNlbExvbmdQcmVzc0RlbGF5VGltZW91dCgpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzSW5pdGlhbFRyYW5zaXRpb24gPVxuICAgICAgY3VyU3RhdGUgPT09IFN0YXRlcy5OT1RfUkVTUE9OREVSICYmXG4gICAgICBuZXh0U3RhdGUgPT09IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU47XG5cbiAgICBjb25zdCBpc0FjdGl2ZVRyYW5zaXRpb24gPSAhSXNBY3RpdmVbY3VyU3RhdGVdICYmIElzQWN0aXZlW25leHRTdGF0ZV07XG4gICAgaWYgKGlzSW5pdGlhbFRyYW5zaXRpb24gfHwgaXNBY3RpdmVUcmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLl9yZW1lYXN1cmVNZXRyaWNzT25BY3RpdmF0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYgKElzUHJlc3NpbmdJbltjdXJTdGF0ZV0gJiYgc2lnbmFsID09PSBTaWduYWxzLkxPTkdfUFJFU1NfREVURUNURUQpIHtcbiAgICAgIHRoaXMudG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzICYmIHRoaXMudG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzKGUpO1xuICAgIH1cblxuICAgIGlmIChuZXdJc0hpZ2hsaWdodCAmJiAhY3VySXNIaWdobGlnaHQpIHtcbiAgICAgIHRoaXMuX3N0YXJ0SGlnaGxpZ2h0KGUpO1xuICAgIH0gZWxzZSBpZiAoIW5ld0lzSGlnaGxpZ2h0ICYmIGN1cklzSGlnaGxpZ2h0KSB7XG4gICAgICB0aGlzLl9lbmRIaWdobGlnaHQoZSk7XG4gICAgfVxuXG4gICAgaWYgKElzUHJlc3NpbmdJbltjdXJTdGF0ZV0gJiYgc2lnbmFsID09PSBTaWduYWxzLlJFU1BPTkRFUl9SRUxFQVNFKSB7XG4gICAgICBjb25zdCBoYXNMb25nUHJlc3NIYW5kbGVyID0gISF0aGlzLnByb3BzLm9uTG9uZ1ByZXNzO1xuICAgICAgY29uc3QgcHJlc3NJc0xvbmdCdXRTdGlsbENhbGxPblByZXNzID1cbiAgICAgICAgSXNMb25nUHJlc3NpbmdJbltjdXJTdGF0ZV0gJiYgLy8gV2UgKmFyZSogbG9uZyBwcmVzc2luZy4uIC8vIEJ1dCBlaXRoZXIgaGFzIG5vIGxvbmcgaGFuZGxlclxuICAgICAgICAoIWhhc0xvbmdQcmVzc0hhbmRsZXIgfHwgIXRoaXMudG91Y2hhYmxlTG9uZ1ByZXNzQ2FuY2Vsc1ByZXNzKCkpOyAvLyBvciB3ZSdyZSB0b2xkIHRvIGlnbm9yZSBpdC5cblxuICAgICAgY29uc3Qgc2hvdWxkSW52b2tlUHJlc3MgPVxuICAgICAgICAhSXNMb25nUHJlc3NpbmdJbltjdXJTdGF0ZV0gfHwgcHJlc3NJc0xvbmdCdXRTdGlsbENhbGxPblByZXNzO1xuICAgICAgaWYgKHNob3VsZEludm9rZVByZXNzICYmIHRoaXMudG91Y2hhYmxlSGFuZGxlUHJlc3MpIHtcbiAgICAgICAgaWYgKCFuZXdJc0hpZ2hsaWdodCAmJiAhY3VySXNIaWdobGlnaHQpIHtcbiAgICAgICAgICAvLyB3ZSBuZXZlciBoaWdobGlnaHRlZCBiZWNhdXNlIG9mIGRlbGF5LCBidXQgd2Ugc2hvdWxkIGhpZ2hsaWdodCBub3dcbiAgICAgICAgICB0aGlzLl9zdGFydEhpZ2hsaWdodChlKTtcbiAgICAgICAgICB0aGlzLl9lbmRIaWdobGlnaHQoZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgIXRoaXMucHJvcHMudG91Y2hTb3VuZERpc2FibGVkKSB7XG4gICAgICAgICAgdGhpcy5fcGxheVRvdWNoU291bmQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvdWNoYWJsZUhhbmRsZVByZXNzKGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudG91Y2hhYmxlRGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCk7XG4gICAgdGhpcy50b3VjaGFibGVEZWxheVRpbWVvdXQgPSBudWxsO1xuICB9LFxuXG4gIF9wbGF5VG91Y2hTb3VuZDogZnVuY3Rpb24oKSB7XG4gICAgVUlNYW5hZ2VyLnBsYXlUb3VjaFNvdW5kKCk7XG4gIH0sXG5cbiAgX3N0YXJ0SGlnaGxpZ2h0OiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5fc2F2ZVByZXNzSW5Mb2NhdGlvbihlKTtcbiAgICB0aGlzLnRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW4gJiYgdGhpcy50b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luKGUpO1xuICB9LFxuXG4gIF9lbmRIaWdobGlnaHQ6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICBpZiAodGhpcy50b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dCkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUyAmJlxuICAgICAgICB0aGlzLnRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUygpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5wcmVzc091dERlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQoZSk7XG4gICAgICAgIH0sIHRoaXMudG91Y2hhYmxlR2V0UHJlc3NPdXREZWxheU1TKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dChlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgd2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXI6ICh7fTogJFRFTVBPUkFSWSRvYmplY3Q8e3x8fT4pLFxufTtcblxuLyoqXG4gKiBQcm92aWRlIGFuIG9wdGlvbmFsIHZlcnNpb24gb2YgdGhlIG1peGluIHdoZXJlIGB0b3VjaGFibGVIYW5kbGVGb2N1c2AgYW5kXG4gKiBgdG91Y2hhYmxlSGFuZGxlQmx1cmAgY2FuIGJlIG92ZXJyaWRkZW4uIFRoaXMgYWxsb3dzIGFwcHJvcHJpYXRlIGRlZmF1bHRzIHRvXG4gKiBiZSBzZXQgb24gVFYgcGxhdGZvcm1zLCB3aXRob3V0IGJyZWFraW5nIGV4aXN0aW5nIGltcGxlbWVudGF0aW9ucyBvZlxuICogYFRvdWNoYWJsZWAuXG4gKi9cbmNvbnN0IHtcbiAgdG91Y2hhYmxlSGFuZGxlRm9jdXMsXG4gIHRvdWNoYWJsZUhhbmRsZUJsdXIsXG4gIC4uLlRvdWNoYWJsZU1peGluV2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXJcbn0gPSBUb3VjaGFibGVNaXhpbjtcblRvdWNoYWJsZU1peGluLndpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyID0gVG91Y2hhYmxlTWl4aW5XaXRob3V0RGVmYXVsdEZvY3VzQW5kQmx1cjtcblxuY29uc3QgVG91Y2hhYmxlID0ge1xuICBNaXhpbjogVG91Y2hhYmxlTWl4aW4sXG4gIFRPVUNIX1RBUkdFVF9ERUJVRzogZmFsc2UsIC8vIEhpZ2hsaWdodHMgYWxsIHRvdWNoYWJsZSB0YXJnZXRzLiBUb2dnbGUgd2l0aCBJbnNwZWN0b3IuXG4gIC8qKlxuICAgKiBSZW5kZXJzIGEgZGVidWdnaW5nIG92ZXJsYXkgdG8gdmlzdWFsaXplIHRvdWNoIHRhcmdldCB3aXRoIGhpdFNsb3AgKG1pZ2h0IG5vdCB3b3JrIG9uIEFuZHJvaWQpLlxuICAgKi9cbiAgcmVuZGVyRGVidWdWaWV3OiAoe1xuICAgIGNvbG9yLFxuICAgIGhpdFNsb3AsXG4gIH06IHtcbiAgICBjb2xvcjogc3RyaW5nIHwgbnVtYmVyLFxuICAgIGhpdFNsb3A6IEVkZ2VJbnNldHNQcm9wLFxuICB9KTogbnVsbCB8IFJlYWN0Lk5vZGUgPT4ge1xuICAgIGlmICghVG91Y2hhYmxlLlRPVUNIX1RBUkdFVF9ERUJVRykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghX19ERVZfXykge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICdUb3VjaGFibGUuVE9VQ0hfVEFSR0VUX0RFQlVHIHNob3VsZCBub3QgYmUgZW5hYmxlZCBpbiBwcm9kIScsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkZWJ1Z0hpdFNsb3BTdHlsZSA9IHt9O1xuICAgIGhpdFNsb3AgPSBoaXRTbG9wIHx8IHt0b3A6IDAsIGJvdHRvbTogMCwgbGVmdDogMCwgcmlnaHQ6IDB9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGhpdFNsb3ApIHtcbiAgICAgIGRlYnVnSGl0U2xvcFN0eWxlW2tleV0gPSAtaGl0U2xvcFtrZXldO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkQ29sb3IgPSBub3JtYWxpemVDb2xvcihjb2xvcik7XG4gICAgaWYgKHR5cGVvZiBub3JtYWxpemVkQ29sb3IgIT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaGV4Q29sb3IgPVxuICAgICAgJyMnICsgKCcwMDAwMDAwMCcgKyBub3JtYWxpemVkQ29sb3IudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTgpO1xuICAgIHJldHVybiAoXG4gICAgICA8Vmlld1xuICAgICAgICBwb2ludGVyRXZlbnRzPVwibm9uZVwiXG4gICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgc3R5bGVzLmRlYnVnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBoZXhDb2xvci5zbGljZSgwLCAtMikgKyAnNTUnLCAvLyBNb3JlIG9wYXF1ZVxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBoZXhDb2xvci5zbGljZSgwLCAtMikgKyAnMEYnLCAvLyBMZXNzIG9wYXF1ZVxuICAgICAgICAgICAgLi4uZGVidWdIaXRTbG9wU3R5bGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgXX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSxcbn07XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgZGVidWc6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBib3JkZXJXaWR0aDogMSxcbiAgICBib3JkZXJTdHlsZTogJ2Rhc2hlZCcsXG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb3VjaGFibGU7XG4iXX0=