{"version":3,"sources":["Text.js"],"names":["DeprecatedTextPropTypes","require","React","ReactNativeViewAttributes","TextAncestor","Touchable","UIManager","createReactNativeComponentClass","nullthrows","processColor","PRESS_RECT_OFFSET","top","left","right","bottom","viewConfig","validAttributes","UIView","isHighlighted","numberOfLines","ellipsizeMode","allowFontScaling","maxFontSizeMultiplier","disabled","selectable","selectionColor","adjustsFontSizeToFit","minimumFontScale","textBreakStrategy","onTextLayout","onInlineViewLayout","dataDetectorType","directEventTypes","topTextLayout","registrationName","topInlineViewLayout","uiViewClassName","TouchableText","touchableGetPressRectOffset","touchableHandleActivePressIn","touchableHandleActivePressOut","touchableHandleLongPress","touchableHandlePress","touchableHandleResponderGrant","touchableHandleResponderMove","touchableHandleResponderRelease","touchableHandleResponderTerminate","touchableHandleResponderTerminationRequest","state","Mixin","touchableGetInitialState","createResponderHandlers","_createResponseHandlers","bind","responseHandlers","props","isTouchable","__DEV__","TOUCH_TARGET_DEBUG","onPress","style","color","hasTextAncestor","forwardedRef","onStartShouldSetResponder","shouldSetResponder","_attachTouchHandlers","onResponderGrant","event","dispatchID","call","onResponderMove","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","key","suppressHighlighting","setState","onLongPress","pressRetentionOffset","nextProps","prevState","Component","defaultProps","accessible","RCTText","RCTVirtualText","getViewManagerConfig","Text","TextToExport","forwardRef","displayName","propTypes","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n\n'use strict';\n\nconst DeprecatedTextPropTypes = require('../DeprecatedPropTypes/DeprecatedTextPropTypes');\nconst React = require('react');\nconst ReactNativeViewAttributes = require('../Components/View/ReactNativeViewAttributes');\nconst TextAncestor = require('./TextAncestor');\nconst Touchable = require('../Components/Touchable/Touchable');\nconst UIManager = require('../ReactNative/UIManager');\n\nconst createReactNativeComponentClass = require('../Renderer/shims/createReactNativeComponentClass');\nconst nullthrows = require('nullthrows');\nconst processColor = require('../StyleSheet/processColor');\n\nimport type {PressEvent} from '../Types/CoreEventTypes';\nimport type {NativeComponent} from '../Renderer/shims/ReactNative';\nimport type {PressRetentionOffset, TextProps} from './TextProps';\n\ntype ResponseHandlers = $ReadOnly<{|\n  onStartShouldSetResponder: () => boolean,\n  onResponderGrant: (event: PressEvent, dispatchID: string) => void,\n  onResponderMove: (event: PressEvent) => void,\n  onResponderRelease: (event: PressEvent) => void,\n  onResponderTerminate: (event: PressEvent) => void,\n  onResponderTerminationRequest: () => boolean,\n|}>;\n\ntype Props = $ReadOnly<{|\n  ...TextProps,\n  forwardedRef: ?React.Ref<'RCTText' | 'RCTVirtualText'>,\n|}>;\n\ntype State = {|\n  touchable: {|\n    touchState: ?string,\n    responderID: ?number,\n  |},\n  isHighlighted: boolean,\n  createResponderHandlers: () => ResponseHandlers,\n  responseHandlers: ?ResponseHandlers,\n|};\n\nconst PRESS_RECT_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n\nconst viewConfig = {\n  validAttributes: {\n    ...ReactNativeViewAttributes.UIView,\n    isHighlighted: true,\n    numberOfLines: true,\n    ellipsizeMode: true,\n    allowFontScaling: true,\n    maxFontSizeMultiplier: true,\n    disabled: true,\n    selectable: true,\n    selectionColor: true,\n    adjustsFontSizeToFit: true,\n    minimumFontScale: true,\n    textBreakStrategy: true,\n    onTextLayout: true,\n    onInlineViewLayout: true,\n    dataDetectorType: true,\n  },\n  directEventTypes: {\n    topTextLayout: {\n      registrationName: 'onTextLayout',\n    },\n    topInlineViewLayout: {\n      registrationName: 'onInlineViewLayout',\n    },\n  },\n  uiViewClassName: 'RCTText',\n};\n\n/**\n * A React component for displaying text.\n *\n * See https://facebook.github.io/react-native/docs/text.html\n */\nclass TouchableText extends React.Component<Props, State> {\n  static defaultProps = {\n    accessible: true,\n    allowFontScaling: true,\n    ellipsizeMode: 'tail',\n  };\n\n  touchableGetPressRectOffset: ?() => PressRetentionOffset;\n  touchableHandleActivePressIn: ?() => void;\n  touchableHandleActivePressOut: ?() => void;\n  touchableHandleLongPress: ?(event: PressEvent) => void;\n  touchableHandlePress: ?(event: PressEvent) => void;\n  touchableHandleResponderGrant: ?(\n    event: PressEvent,\n    dispatchID: string,\n  ) => void;\n  touchableHandleResponderMove: ?(event: PressEvent) => void;\n  touchableHandleResponderRelease: ?(event: PressEvent) => void;\n  touchableHandleResponderTerminate: ?(event: PressEvent) => void;\n  touchableHandleResponderTerminationRequest: ?() => boolean;\n\n  state = {\n    ...Touchable.Mixin.touchableGetInitialState(),\n    isHighlighted: false,\n    createResponderHandlers: this._createResponseHandlers.bind(this),\n    responseHandlers: null,\n  };\n\n  static getDerivedStateFromProps(\n    nextProps: Props,\n    prevState: State,\n  ): $Shape<State> | null {\n    return prevState.responseHandlers == null && isTouchable(nextProps)\n      ? {\n          responseHandlers: prevState.createResponderHandlers(),\n        }\n      : null;\n  }\n\n  static viewConfig = viewConfig;\n\n  render(): React.Node {\n    let props = this.props;\n    if (isTouchable(props)) {\n      props = {\n        ...props,\n        ...this.state.responseHandlers,\n        isHighlighted: this.state.isHighlighted,\n      };\n    }\n    if (props.selectionColor != null) {\n      props = {\n        ...props,\n        selectionColor: processColor(props.selectionColor),\n      };\n    }\n    if (__DEV__) {\n      if (Touchable.TOUCH_TARGET_DEBUG && props.onPress != null) {\n        props = {\n          ...props,\n          style: [props.style, {color: 'magenta'}],\n        };\n      }\n    }\n    return (\n      <TextAncestor.Consumer>\n        {hasTextAncestor =>\n          hasTextAncestor ? (\n            <RCTVirtualText {...props} ref={props.forwardedRef} />\n          ) : (\n            <TextAncestor.Provider value={true}>\n              <RCTText {...props} ref={props.forwardedRef} />\n            </TextAncestor.Provider>\n          )\n        }\n      </TextAncestor.Consumer>\n    );\n  }\n\n  _createResponseHandlers(): ResponseHandlers {\n    return {\n      onStartShouldSetResponder: (): boolean => {\n        const {onStartShouldSetResponder} = this.props;\n        const shouldSetResponder =\n          (onStartShouldSetResponder == null\n            ? false\n            : onStartShouldSetResponder()) || isTouchable(this.props);\n\n        if (shouldSetResponder) {\n          this._attachTouchHandlers();\n        }\n        return shouldSetResponder;\n      },\n      onResponderGrant: (event: PressEvent, dispatchID: string): void => {\n        nullthrows(this.touchableHandleResponderGrant)(event, dispatchID);\n        if (this.props.onResponderGrant != null) {\n          this.props.onResponderGrant.call(this, event, dispatchID);\n        }\n      },\n      onResponderMove: (event: PressEvent): void => {\n        nullthrows(this.touchableHandleResponderMove)(event);\n        if (this.props.onResponderMove != null) {\n          this.props.onResponderMove.call(this, event);\n        }\n      },\n      onResponderRelease: (event: PressEvent): void => {\n        nullthrows(this.touchableHandleResponderRelease)(event);\n        if (this.props.onResponderRelease != null) {\n          this.props.onResponderRelease.call(this, event);\n        }\n      },\n      onResponderTerminate: (event: PressEvent): void => {\n        nullthrows(this.touchableHandleResponderTerminate)(event);\n        if (this.props.onResponderTerminate != null) {\n          this.props.onResponderTerminate.call(this, event);\n        }\n      },\n      onResponderTerminationRequest: (): boolean => {\n        const {onResponderTerminationRequest} = this.props;\n        if (!nullthrows(this.touchableHandleResponderTerminationRequest)()) {\n          return false;\n        }\n        if (onResponderTerminationRequest == null) {\n          return true;\n        }\n        return onResponderTerminationRequest();\n      },\n    };\n  }\n\n  /**\n   * Lazily attaches Touchable.Mixin handlers.\n   */\n  _attachTouchHandlers(): void {\n    if (this.touchableGetPressRectOffset != null) {\n      return;\n    }\n    for (const key in Touchable.Mixin) {\n      if (typeof Touchable.Mixin[key] === 'function') {\n        (this: any)[key] = Touchable.Mixin[key].bind(this);\n      }\n    }\n    this.touchableHandleActivePressIn = (): void => {\n      if (!this.props.suppressHighlighting && isTouchable(this.props)) {\n        this.setState({isHighlighted: true});\n      }\n    };\n    this.touchableHandleActivePressOut = (): void => {\n      if (!this.props.suppressHighlighting && isTouchable(this.props)) {\n        this.setState({isHighlighted: false});\n      }\n    };\n    this.touchableHandlePress = (event: PressEvent): void => {\n      if (this.props.onPress != null) {\n        this.props.onPress(event);\n      }\n    };\n    this.touchableHandleLongPress = (event: PressEvent): void => {\n      if (this.props.onLongPress != null) {\n        this.props.onLongPress(event);\n      }\n    };\n    this.touchableGetPressRectOffset = (): PressRetentionOffset =>\n      this.props.pressRetentionOffset == null\n        ? PRESS_RECT_OFFSET\n        : this.props.pressRetentionOffset;\n  }\n}\n\nconst isTouchable = (props: Props): boolean =>\n  props.onPress != null ||\n  props.onLongPress != null ||\n  props.onStartShouldSetResponder != null;\n\nconst RCTText = createReactNativeComponentClass(\n  viewConfig.uiViewClassName,\n  () => viewConfig,\n);\n\nconst RCTVirtualText =\n  UIManager.getViewManagerConfig('RCTVirtualText') == null\n    ? RCTText\n    : createReactNativeComponentClass('RCTVirtualText', () => ({\n        validAttributes: {\n          ...ReactNativeViewAttributes.UIView,\n          isHighlighted: true,\n          maxFontSizeMultiplier: true,\n        },\n        uiViewClassName: 'RCTVirtualText',\n      }));\n\nconst Text = (\n  props: TextProps,\n  forwardedRef: ?React.Ref<'RCTText' | 'RCTVirtualText'>,\n) => {\n  return <TouchableText {...props} forwardedRef={forwardedRef} />;\n};\nconst TextToExport = React.forwardRef(Text);\nTextToExport.displayName = 'Text';\n\n// TODO: Deprecate this.\n/* $FlowFixMe(>=0.89.0 site=react_native_fb) This comment suppresses an error\n * found when Flow v0.89 was deployed. To see the error, delete this comment\n * and run Flow. */\nTextToExport.propTypes = DeprecatedTextPropTypes;\n\nmodule.exports = ((TextToExport: $FlowFixMe): Class<\n  NativeComponent<TextProps>,\n>);\n"]}