7330ab82b75476241b4eb3f246e66538
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var EventEmitterWithHolding = function () {
  function EventEmitterWithHolding(emitter, holder) {
    (0, _classCallCheck2["default"])(this, EventEmitterWithHolding);
    this._emitter = void 0;
    this._eventHolder = void 0;
    this._currentEventToken = void 0;
    this._emittingHeldEvents = void 0;
    this._emitter = emitter;
    this._eventHolder = holder;
    this._currentEventToken = null;
    this._emittingHeldEvents = false;
  }

  (0, _createClass2["default"])(EventEmitterWithHolding, [{
    key: "addListener",
    value: function addListener(eventType, listener, context) {
      return this._emitter.addListener(eventType, listener, context);
    }
  }, {
    key: "once",
    value: function once(eventType, listener, context) {
      return this._emitter.once(eventType, listener, context);
    }
  }, {
    key: "addRetroactiveListener",
    value: function addRetroactiveListener(eventType, listener, context) {
      var subscription = this._emitter.addListener(eventType, listener, context);

      this._emittingHeldEvents = true;

      this._eventHolder.emitToListener(eventType, listener, context);

      this._emittingHeldEvents = false;
      return subscription;
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners(eventType) {
      this._emitter.removeAllListeners(eventType);
    }
  }, {
    key: "removeCurrentListener",
    value: function removeCurrentListener() {
      this._emitter.removeCurrentListener();
    }
  }, {
    key: "listeners",
    value: function listeners(eventType) {
      return this._emitter.listeners(eventType);
    }
  }, {
    key: "emit",
    value: function emit(eventType) {
      var _this$_emitter;

      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      (_this$_emitter = this._emitter).emit.apply(_this$_emitter, [eventType].concat(args));
    }
  }, {
    key: "emitAndHold",
    value: function emitAndHold(eventType) {
      var _this$_eventHolder, _this$_emitter2;

      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        args[_key2 - 1] = arguments[_key2];
      }

      this._currentEventToken = (_this$_eventHolder = this._eventHolder).holdEvent.apply(_this$_eventHolder, [eventType].concat(args));

      (_this$_emitter2 = this._emitter).emit.apply(_this$_emitter2, [eventType].concat(args));

      this._currentEventToken = null;
    }
  }, {
    key: "releaseCurrentEvent",
    value: function releaseCurrentEvent() {
      if (this._currentEventToken) {
        this._eventHolder.releaseEvent(this._currentEventToken);
      } else if (this._emittingHeldEvents) {
        this._eventHolder.releaseCurrentEvent();
      }
    }
  }, {
    key: "releaseHeldEventType",
    value: function releaseHeldEventType(eventType) {
      this._eventHolder.releaseEventType(eventType);
    }
  }]);
  return EventEmitterWithHolding;
}();

module.exports = EventEmitterWithHolding;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkV2ZW50RW1pdHRlcldpdGhIb2xkaW5nLmpzIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlcldpdGhIb2xkaW5nIiwiZW1pdHRlciIsImhvbGRlciIsIl9lbWl0dGVyIiwiX2V2ZW50SG9sZGVyIiwiX2N1cnJlbnRFdmVudFRva2VuIiwiX2VtaXR0aW5nSGVsZEV2ZW50cyIsImV2ZW50VHlwZSIsImxpc3RlbmVyIiwiY29udGV4dCIsImFkZExpc3RlbmVyIiwib25jZSIsInN1YnNjcmlwdGlvbiIsImVtaXRUb0xpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmVtb3ZlQ3VycmVudExpc3RlbmVyIiwibGlzdGVuZXJzIiwiYXJncyIsImVtaXQiLCJob2xkRXZlbnQiLCJyZWxlYXNlRXZlbnQiLCJyZWxlYXNlQ3VycmVudEV2ZW50IiwicmVsZWFzZUV2ZW50VHlwZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBOzs7Ozs7OztJQWtCTUEsdUI7QUFhSixtQ0FBWUMsT0FBWixFQUFtQ0MsTUFBbkMsRUFBd0Q7QUFBQTtBQUFBLFNBWnhEQyxRQVl3RDtBQUFBLFNBWHhEQyxZQVd3RDtBQUFBLFNBVnhEQyxrQkFVd0Q7QUFBQSxTQVR4REMsbUJBU3dEO0FBQ3RELFNBQUtILFFBQUwsR0FBZ0JGLE9BQWhCO0FBQ0EsU0FBS0csWUFBTCxHQUFvQkYsTUFBcEI7QUFDQSxTQUFLRyxrQkFBTCxHQUEwQixJQUExQjtBQUNBLFNBQUtDLG1CQUFMLEdBQTJCLEtBQTNCO0FBQ0Q7Ozs7Z0NBS1dDLFMsRUFBbUJDLFEsRUFBb0JDLE8sRUFBdUI7QUFDeEUsYUFBTyxLQUFLTixRQUFMLENBQWNPLFdBQWQsQ0FBMEJILFNBQTFCLEVBQXFDQyxRQUFyQyxFQUErQ0MsT0FBL0MsQ0FBUDtBQUNEOzs7eUJBS0lGLFMsRUFBbUJDLFEsRUFBb0JDLE8sRUFBdUI7QUFDakUsYUFBTyxLQUFLTixRQUFMLENBQWNRLElBQWQsQ0FBbUJKLFNBQW5CLEVBQThCQyxRQUE5QixFQUF3Q0MsT0FBeEMsQ0FBUDtBQUNEOzs7MkNBdUJDRixTLEVBQ0FDLFEsRUFDQUMsTyxFQUNxQjtBQUNyQixVQUFNRyxZQUFZLEdBQUcsS0FBS1QsUUFBTCxDQUFjTyxXQUFkLENBQ25CSCxTQURtQixFQUVuQkMsUUFGbUIsRUFHbkJDLE9BSG1CLENBQXJCOztBQU1BLFdBQUtILG1CQUFMLEdBQTJCLElBQTNCOztBQUNBLFdBQUtGLFlBQUwsQ0FBa0JTLGNBQWxCLENBQWlDTixTQUFqQyxFQUE0Q0MsUUFBNUMsRUFBc0RDLE9BQXREOztBQUNBLFdBQUtILG1CQUFMLEdBQTJCLEtBQTNCO0FBRUEsYUFBT00sWUFBUDtBQUNEOzs7dUNBS2tCTCxTLEVBQW1CO0FBQ3BDLFdBQUtKLFFBQUwsQ0FBY1csa0JBQWQsQ0FBaUNQLFNBQWpDO0FBQ0Q7Ozs0Q0FLdUI7QUFDdEIsV0FBS0osUUFBTCxDQUFjWSxxQkFBZDtBQUNEOzs7OEJBS1NSLFMsRUFBOEQ7QUFDdEUsYUFBTyxLQUFLSixRQUFMLENBQWNhLFNBQWQsQ0FBd0JULFNBQXhCLENBQVA7QUFDRDs7O3lCQUtJQSxTLEVBQWlDO0FBQUE7O0FBQUEsd0NBQVhVLElBQVc7QUFBWEEsUUFBQUEsSUFBVztBQUFBOztBQUNwQyw2QkFBS2QsUUFBTCxFQUFjZSxJQUFkLHdCQUFtQlgsU0FBbkIsU0FBaUNVLElBQWpDO0FBQ0Q7OztnQ0FpQldWLFMsRUFBaUM7QUFBQTs7QUFBQSx5Q0FBWFUsSUFBVztBQUFYQSxRQUFBQSxJQUFXO0FBQUE7O0FBQzNDLFdBQUtaLGtCQUFMLEdBQTBCLDJCQUFLRCxZQUFMLEVBQWtCZSxTQUFsQiw0QkFBNEJaLFNBQTVCLFNBQTBDVSxJQUExQyxFQUExQjs7QUFDQSw4QkFBS2QsUUFBTCxFQUFjZSxJQUFkLHlCQUFtQlgsU0FBbkIsU0FBaUNVLElBQWpDOztBQUNBLFdBQUtaLGtCQUFMLEdBQTBCLElBQTFCO0FBQ0Q7OzswQ0FLcUI7QUFDcEIsVUFBSSxLQUFLQSxrQkFBVCxFQUE2QjtBQUMzQixhQUFLRCxZQUFMLENBQWtCZ0IsWUFBbEIsQ0FBK0IsS0FBS2Ysa0JBQXBDO0FBQ0QsT0FGRCxNQUVPLElBQUksS0FBS0MsbUJBQVQsRUFBOEI7QUFDbkMsYUFBS0YsWUFBTCxDQUFrQmlCLG1CQUFsQjtBQUNEO0FBQ0Y7Ozt5Q0FNb0JkLFMsRUFBbUI7QUFDdEMsV0FBS0gsWUFBTCxDQUFrQmtCLGdCQUFsQixDQUFtQ2YsU0FBbkM7QUFDRDs7Ozs7QUFHSGdCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnhCLHVCQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3dcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0eXBlIEVtaXR0ZXJTdWJzY3JpcHRpb24gZnJvbSAnLi9FbWl0dGVyU3Vic2NyaXB0aW9uJztcbmltcG9ydCB0eXBlIEV2ZW50RW1pdHRlciBmcm9tICcuL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQgdHlwZSBFdmVudEhvbGRlciBmcm9tICcuL0V2ZW50SG9sZGVyJztcblxuLyoqXG4gKiBAY2xhc3MgRXZlbnRFbWl0dGVyV2l0aEhvbGRpbmdcbiAqIEBkZXNjcmlwdGlvblxuICogQW4gRXZlbnRFbWl0dGVyV2l0aEhvbGRpbmcgZGVjb3JhdGVzIGFuIGV2ZW50IGVtaXR0ZXIgYW5kIGVuYWJsZXMgb25lIHRvXG4gKiBcImhvbGRcIiBvciBjYWNoZSBldmVudHMgYW5kIHRoZW4gaGF2ZSBhIGhhbmRsZXIgcmVnaXN0ZXIgbGF0ZXIgdG8gYWN0dWFsbHlcbiAqIGhhbmRsZSB0aGVtLlxuICpcbiAqIFRoaXMgaXMgc2VwYXJhdGVkIGludG8gaXRzIG93biBkZWNvcmF0b3Igc28gdGhhdCBvbmx5IHRob3NlIHdobyB3YW50IHRvIHVzZVxuICogdGhlIGhvbGRpbmcgZnVuY3Rpb25hbGl0eSBoYXZlIHRvIGFuZCBvdGhlcnMgY2FuIGp1c3QgdXNlIGFuIGVtaXR0ZXIuIFNpbmNlXG4gKiBpdCBpbXBsZW1lbnRzIHRoZSBlbWl0dGVyIGludGVyZmFjZSBpdCBjYW4gYWxzbyBiZSBjb21iaW5lZCB3aXRoIGFueXRoaW5nXG4gKiB0aGF0IHVzZXMgYW4gZW1pdHRlci5cbiAqL1xuY2xhc3MgRXZlbnRFbWl0dGVyV2l0aEhvbGRpbmcge1xuICBfZW1pdHRlcjogRXZlbnRFbWl0dGVyO1xuICBfZXZlbnRIb2xkZXI6IEV2ZW50SG9sZGVyO1xuICBfY3VycmVudEV2ZW50VG9rZW46ID9PYmplY3Q7XG4gIF9lbWl0dGluZ0hlbGRFdmVudHM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge29iamVjdH0gZW1pdHRlciAtIFRoZSBvYmplY3QgcmVzcG9uc2libGUgZm9yIGVtaXR0aW5nIHRoZSBhY3R1YWxcbiAgICogICBldmVudHMuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBob2xkZXIgLSBUaGUgZXZlbnQgaG9sZGVyIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIGhvbGRpbmdcbiAgICogICBhbmQgdGhlbiBlbWl0dGluZyBoZWxkIGV2ZW50cy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGVtaXR0ZXI6IEV2ZW50RW1pdHRlciwgaG9sZGVyOiBFdmVudEhvbGRlcikge1xuICAgIHRoaXMuX2VtaXR0ZXIgPSBlbWl0dGVyO1xuICAgIHRoaXMuX2V2ZW50SG9sZGVyID0gaG9sZGVyO1xuICAgIHRoaXMuX2N1cnJlbnRFdmVudFRva2VuID0gbnVsbDtcbiAgICB0aGlzLl9lbWl0dGluZ0hlbGRFdmVudHMgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIEV2ZW50RW1pdHRlciNhZGRMaXN0ZW5lclxuICAgKi9cbiAgYWRkTGlzdGVuZXIoZXZlbnRUeXBlOiBzdHJpbmcsIGxpc3RlbmVyOiBGdW5jdGlvbiwgY29udGV4dDogP09iamVjdCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBFdmVudEVtaXR0ZXIjb25jZVxuICAgKi9cbiAgb25jZShldmVudFR5cGU6IHN0cmluZywgbGlzdGVuZXI6IEZ1bmN0aW9uLCBjb250ZXh0OiA/T2JqZWN0KTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5fZW1pdHRlci5vbmNlKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGNvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBsaXN0ZW5lciB0byBiZSBpbnZva2VkIHdoZW4gZXZlbnRzIG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBhcmVcbiAgICogZW1pdHRlZC4gQW4gb3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG1heSBiZSBwcm92aWRlZC4gVGhlIGRhdGEgYXJndW1lbnRzXG4gICAqIGVtaXR0ZWQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGxpc3RlbmVyIGZ1bmN0aW9uLiBJbiBhZGRpdGlvbiB0byBzdWJzY3JpYmluZ1xuICAgKiB0byBhbGwgc3Vic2VxdWVudCBldmVudHMsIHRoaXMgbWV0aG9kIHdpbGwgYWxzbyBoYW5kbGUgYW55IGV2ZW50cyB0aGF0IGhhdmVcbiAgICogYWxyZWFkeSBiZWVuIGVtaXR0ZWQsIGhlbGQsIGFuZCBub3QgcmVsZWFzZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBOYW1lIG9mIHRoZSBldmVudCB0byBsaXN0ZW4gdG9cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXIgLSBGdW5jdGlvbiB0byBpbnZva2Ugd2hlbiB0aGUgc3BlY2lmaWVkIGV2ZW50IGlzXG4gICAqICAgZW1pdHRlZFxuICAgKiBAcGFyYW0geyp9IGNvbnRleHQgLSBPcHRpb25hbCBjb250ZXh0IG9iamVjdCB0byB1c2Ugd2hlbiBpbnZva2luZyB0aGVcbiAgICogICBsaXN0ZW5lclxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAgIGVtaXR0ZXIuZW1pdEFuZEhvbGQoJ3NvbWVFdmVudCcsICdhYmMnKTtcbiAgICpcbiAgICogICBlbWl0dGVyLmFkZFJldHJvYWN0aXZlTGlzdGVuZXIoJ3NvbWVFdmVudCcsIGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgKiAgIH0pOyAvLyBsb2dzICdhYmMnXG4gICAqL1xuICBhZGRSZXRyb2FjdGl2ZUxpc3RlbmVyKFxuICAgIGV2ZW50VHlwZTogc3RyaW5nLFxuICAgIGxpc3RlbmVyOiBGdW5jdGlvbixcbiAgICBjb250ZXh0OiA/T2JqZWN0LFxuICApOiBFbWl0dGVyU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKFxuICAgICAgZXZlbnRUeXBlLFxuICAgICAgbGlzdGVuZXIsXG4gICAgICBjb250ZXh0LFxuICAgICk7XG5cbiAgICB0aGlzLl9lbWl0dGluZ0hlbGRFdmVudHMgPSB0cnVlO1xuICAgIHRoaXMuX2V2ZW50SG9sZGVyLmVtaXRUb0xpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGNvbnRleHQpO1xuICAgIHRoaXMuX2VtaXR0aW5nSGVsZEV2ZW50cyA9IGZhbHNlO1xuXG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIEV2ZW50RW1pdHRlciNyZW1vdmVBbGxMaXN0ZW5lcnNcbiAgICovXG4gIHJlbW92ZUFsbExpc3RlbmVycyhldmVudFR5cGU6IHN0cmluZykge1xuICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50VHlwZSk7XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBFdmVudEVtaXR0ZXIjcmVtb3ZlQ3VycmVudExpc3RlbmVyXG4gICAqL1xuICByZW1vdmVDdXJyZW50TGlzdGVuZXIoKSB7XG4gICAgdGhpcy5fZW1pdHRlci5yZW1vdmVDdXJyZW50TGlzdGVuZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIEV2ZW50RW1pdHRlciNsaXN0ZW5lcnNcbiAgICovXG4gIGxpc3RlbmVycyhldmVudFR5cGU6IHN0cmluZyk6IGFueSAvKiBUT0RPOiBBbm5vdGF0ZSByZXR1cm4gdHlwZSBoZXJlICovIHtcbiAgICByZXR1cm4gdGhpcy5fZW1pdHRlci5saXN0ZW5lcnMoZXZlbnRUeXBlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIEV2ZW50RW1pdHRlciNlbWl0XG4gICAqL1xuICBlbWl0KGV2ZW50VHlwZTogc3RyaW5nLCAuLi5hcmdzOiBhbnkpIHtcbiAgICB0aGlzLl9lbWl0dGVyLmVtaXQoZXZlbnRUeXBlLCAuLi5hcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0cyBhbiBldmVudCBvZiB0aGUgZ2l2ZW4gdHlwZSB3aXRoIHRoZSBnaXZlbiBkYXRhLCBhbmQgaG9sZHMgdGhhdCBldmVudFxuICAgKiBpbiBvcmRlciB0byBiZSBhYmxlIHRvIGRpc3BhdGNoIGl0IHRvIGEgbGF0ZXIgc3Vic2NyaWJlciB3aGVuIHRoZXkgc2F5IHRoZXlcbiAgICogd2FudCB0byBoYW5kbGUgaGVsZCBldmVudHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBOYW1lIG9mIHRoZSBldmVudCB0byBlbWl0XG4gICAqIEBwYXJhbSB7Li4uKn0gQXJiaXRyYXJ5IGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZWFjaCByZWdpc3RlcmVkIGxpc3RlbmVyXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqICAgZW1pdHRlci5lbWl0QW5kSG9sZCgnc29tZUV2ZW50JywgJ2FiYycpO1xuICAgKlxuICAgKiAgIGVtaXR0ZXIuYWRkUmV0cm9hY3RpdmVMaXN0ZW5lcignc29tZUV2ZW50JywgZnVuY3Rpb24obWVzc2FnZSkge1xuICAgKiAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAqICAgfSk7IC8vIGxvZ3MgJ2FiYydcbiAgICovXG4gIGVtaXRBbmRIb2xkKGV2ZW50VHlwZTogc3RyaW5nLCAuLi5hcmdzOiBhbnkpIHtcbiAgICB0aGlzLl9jdXJyZW50RXZlbnRUb2tlbiA9IHRoaXMuX2V2ZW50SG9sZGVyLmhvbGRFdmVudChldmVudFR5cGUsIC4uLmFyZ3MpO1xuICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChldmVudFR5cGUsIC4uLmFyZ3MpO1xuICAgIHRoaXMuX2N1cnJlbnRFdmVudFRva2VuID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIEV2ZW50SG9sZGVyI3JlbGVhc2VDdXJyZW50RXZlbnRcbiAgICovXG4gIHJlbGVhc2VDdXJyZW50RXZlbnQoKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRFdmVudFRva2VuKSB7XG4gICAgICB0aGlzLl9ldmVudEhvbGRlci5yZWxlYXNlRXZlbnQodGhpcy5fY3VycmVudEV2ZW50VG9rZW4pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fZW1pdHRpbmdIZWxkRXZlbnRzKSB7XG4gICAgICB0aGlzLl9ldmVudEhvbGRlci5yZWxlYXNlQ3VycmVudEV2ZW50KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgRXZlbnRIb2xkZXIjcmVsZWFzZUV2ZW50VHlwZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gICAqL1xuICByZWxlYXNlSGVsZEV2ZW50VHlwZShldmVudFR5cGU6IHN0cmluZykge1xuICAgIHRoaXMuX2V2ZW50SG9sZGVyLnJlbGVhc2VFdmVudFR5cGUoZXZlbnRUeXBlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcldpdGhIb2xkaW5nO1xuIl19