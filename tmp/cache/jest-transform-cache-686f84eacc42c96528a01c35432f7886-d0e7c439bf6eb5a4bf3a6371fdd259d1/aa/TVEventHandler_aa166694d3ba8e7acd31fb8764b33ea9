085ec26427a221c19666a5da81a70056
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _NativeTVNavigationEventEmitter = _interopRequireDefault(require("./NativeTVNavigationEventEmitter"));

var Platform = require('../../Utilities/Platform');

var NativeEventEmitter = require('../../EventEmitter/NativeEventEmitter');

function TVEventHandler() {
  this.__nativeTVNavigationEventListener = null;
  this.__nativeTVNavigationEventEmitter = null;
}

TVEventHandler.prototype.enable = function (component, callback) {
  if (Platform.OS === 'ios' && !_NativeTVNavigationEventEmitter["default"]) {
    return;
  }

  this.__nativeTVNavigationEventEmitter = new NativeEventEmitter(_NativeTVNavigationEventEmitter["default"]);
  this.__nativeTVNavigationEventListener = this.__nativeTVNavigationEventEmitter.addListener('onHWKeyEvent', function (data) {
    if (callback) {
      callback(component, data);
    }
  });
};

TVEventHandler.prototype.disable = function () {
  if (this.__nativeTVNavigationEventListener) {
    this.__nativeTVNavigationEventListener.remove();

    delete this.__nativeTVNavigationEventListener;
  }

  if (this.__nativeTVNavigationEventEmitter) {
    delete this.__nativeTVNavigationEventEmitter;
  }
};

module.exports = TVEventHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRWRXZlbnRIYW5kbGVyLmpzIl0sIm5hbWVzIjpbIlBsYXRmb3JtIiwicmVxdWlyZSIsIk5hdGl2ZUV2ZW50RW1pdHRlciIsIlRWRXZlbnRIYW5kbGVyIiwiX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudExpc3RlbmVyIiwiX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIiLCJwcm90b3R5cGUiLCJlbmFibGUiLCJjb21wb25lbnQiLCJjYWxsYmFjayIsIk9TIiwiTmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJkYXRhIiwiZGlzYWJsZSIsInJlbW92ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBOzs7O0FBS0E7O0FBSEEsSUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsMEJBQUQsQ0FBeEI7O0FBQ0EsSUFBTUMsa0JBQWtCLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUFsQzs7QUFJQSxTQUFTRSxjQUFULEdBQTBCO0FBQ3hCLE9BQUtDLGlDQUFMLEdBQXlDLElBQXpDO0FBQ0EsT0FBS0MsZ0NBQUwsR0FBd0MsSUFBeEM7QUFDRDs7QUFFREYsY0FBYyxDQUFDRyxTQUFmLENBQXlCQyxNQUF6QixHQUFrQyxVQUNoQ0MsU0FEZ0MsRUFFaENDLFFBRmdDLEVBR2hDO0FBQ0EsTUFBSVQsUUFBUSxDQUFDVSxFQUFULEtBQWdCLEtBQWhCLElBQXlCLENBQUNDLDBDQUE5QixFQUE4RDtBQUM1RDtBQUNEOztBQUVELE9BQUtOLGdDQUFMLEdBQXdDLElBQUlILGtCQUFKLENBQ3RDUywwQ0FEc0MsQ0FBeEM7QUFHQSxPQUFLUCxpQ0FBTCxHQUF5QyxLQUFLQyxnQ0FBTCxDQUFzQ08sV0FBdEMsQ0FDdkMsY0FEdUMsRUFFdkMsVUFBQUMsSUFBSSxFQUFJO0FBQ04sUUFBSUosUUFBSixFQUFjO0FBQ1pBLE1BQUFBLFFBQVEsQ0FBQ0QsU0FBRCxFQUFZSyxJQUFaLENBQVI7QUFDRDtBQUNGLEdBTnNDLENBQXpDO0FBUUQsQ0FuQkQ7O0FBcUJBVixjQUFjLENBQUNHLFNBQWYsQ0FBeUJRLE9BQXpCLEdBQW1DLFlBQVc7QUFDNUMsTUFBSSxLQUFLVixpQ0FBVCxFQUE0QztBQUMxQyxTQUFLQSxpQ0FBTCxDQUF1Q1csTUFBdkM7O0FBQ0EsV0FBTyxLQUFLWCxpQ0FBWjtBQUNEOztBQUNELE1BQUksS0FBS0MsZ0NBQVQsRUFBMkM7QUFDekMsV0FBTyxLQUFLQSxnQ0FBWjtBQUNEO0FBQ0YsQ0FSRDs7QUFVQVcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCZCxjQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3dcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IFBsYXRmb3JtID0gcmVxdWlyZSgnLi4vLi4vVXRpbGl0aWVzL1BsYXRmb3JtJyk7XG5jb25zdCBOYXRpdmVFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCcuLi8uLi9FdmVudEVtaXR0ZXIvTmF0aXZlRXZlbnRFbWl0dGVyJyk7XG5cbmltcG9ydCBOYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIgZnJvbSAnLi9OYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXInO1xuXG5mdW5jdGlvbiBUVkV2ZW50SGFuZGxlcigpIHtcbiAgdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXIgPSBudWxsO1xuICB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyID0gbnVsbDtcbn1cblxuVFZFdmVudEhhbmRsZXIucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uKFxuICBjb21wb25lbnQ6ID9hbnksXG4gIGNhbGxiYWNrOiBGdW5jdGlvbixcbikge1xuICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnICYmICFOYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyID0gbmV3IE5hdGl2ZUV2ZW50RW1pdHRlcihcbiAgICBOYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIsXG4gICk7XG4gIHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudExpc3RlbmVyID0gdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlci5hZGRMaXN0ZW5lcihcbiAgICAnb25IV0tleUV2ZW50JyxcbiAgICBkYXRhID0+IHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhjb21wb25lbnQsIGRhdGEpO1xuICAgICAgfVxuICAgIH0sXG4gICk7XG59O1xuXG5UVkV2ZW50SGFuZGxlci5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXIpIHtcbiAgICB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lci5yZW1vdmUoKTtcbiAgICBkZWxldGUgdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXI7XG4gIH1cbiAgaWYgKHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIpIHtcbiAgICBkZWxldGUgdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUVkV2ZW50SGFuZGxlcjtcbiJdfQ==