09f0afcfb0efc2958d5ff4fafc88f0f6
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var DeprecatedColorPropType = require('../../DeprecatedPropTypes/DeprecatedColorPropType');

var DeprecatedViewPropTypes = require('../../DeprecatedPropTypes/DeprecatedViewPropTypes');

var NativeMethodsMixin = require('../../Renderer/shims/NativeMethodsMixin');

var Platform = require('../../Utilities/Platform');

var PropTypes = require('prop-types');

var React = require('react');

var ReactNativeViewAttributes = require('../View/ReactNativeViewAttributes');

var StyleSheet = require('../../StyleSheet/StyleSheet');

var Touchable = require('./Touchable');

var TouchableWithoutFeedback = require('./TouchableWithoutFeedback');

var View = require('../View/View');

var createReactClass = require('create-react-class');

var ensurePositiveDelayProps = require('./ensurePositiveDelayProps');

var DEFAULT_PROPS = {
  activeOpacity: 0.85,
  delayPressOut: 100,
  underlayColor: 'black'
};
var PRESS_RETENTION_OFFSET = {
  top: 20,
  left: 20,
  right: 20,
  bottom: 30
};
var TouchableHighlight = createReactClass({
  displayName: 'TouchableHighlight',
  propTypes: _objectSpread({}, TouchableWithoutFeedback.propTypes, {
    activeOpacity: PropTypes.number,
    underlayColor: DeprecatedColorPropType,
    style: DeprecatedViewPropTypes.style,
    onShowUnderlay: PropTypes.func,
    onHideUnderlay: PropTypes.func,
    hasTVPreferredFocus: PropTypes.bool,
    nextFocusDown: PropTypes.number,
    nextFocusForward: PropTypes.number,
    nextFocusLeft: PropTypes.number,
    nextFocusRight: PropTypes.number,
    nextFocusUp: PropTypes.number,
    tvParallaxProperties: PropTypes.object,
    testOnly_pressed: PropTypes.bool
  }),
  mixins: [NativeMethodsMixin, Touchable.Mixin.withoutDefaultFocusAndBlur],
  getDefaultProps: function getDefaultProps() {
    return DEFAULT_PROPS;
  },
  getInitialState: function getInitialState() {
    this._isMounted = false;

    if (this.props.testOnly_pressed) {
      return _objectSpread({}, this.touchableGetInitialState(), {
        extraChildStyle: {
          opacity: this.props.activeOpacity
        },
        extraUnderlayStyle: {
          backgroundColor: this.props.underlayColor
        }
      });
    } else {
      return _objectSpread({}, this.touchableGetInitialState(), {
        extraChildStyle: null,
        extraUnderlayStyle: null
      });
    }
  },
  componentDidMount: function componentDidMount() {
    this._isMounted = true;
    ensurePositiveDelayProps(this.props);
  },
  componentWillUnmount: function componentWillUnmount() {
    this._isMounted = false;
    clearTimeout(this._hideTimeout);
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    ensurePositiveDelayProps(nextProps);
  },
  viewConfig: {
    uiViewClassName: 'RCTView',
    validAttributes: ReactNativeViewAttributes.RCTView
  },
  touchableHandleActivePressIn: function touchableHandleActivePressIn(e) {
    clearTimeout(this._hideTimeout);
    this._hideTimeout = null;

    this._showUnderlay();

    this.props.onPressIn && this.props.onPressIn(e);
  },
  touchableHandleActivePressOut: function touchableHandleActivePressOut(e) {
    if (!this._hideTimeout) {
      this._hideUnderlay();
    }

    this.props.onPressOut && this.props.onPressOut(e);
  },
  touchableHandleFocus: function touchableHandleFocus(e) {
    if (Platform.isTV) {
      this._showUnderlay();
    }

    this.props.onFocus && this.props.onFocus(e);
  },
  touchableHandleBlur: function touchableHandleBlur(e) {
    if (Platform.isTV) {
      this._hideUnderlay();
    }

    this.props.onBlur && this.props.onBlur(e);
  },
  touchableHandlePress: function touchableHandlePress(e) {
    clearTimeout(this._hideTimeout);

    if (!Platform.isTV) {
      this._showUnderlay();

      this._hideTimeout = setTimeout(this._hideUnderlay, this.props.delayPressOut);
    }

    this.props.onPress && this.props.onPress(e);
  },
  touchableHandleLongPress: function touchableHandleLongPress(e) {
    this.props.onLongPress && this.props.onLongPress(e);
  },
  touchableGetPressRectOffset: function touchableGetPressRectOffset() {
    return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;
  },
  touchableGetHitSlop: function touchableGetHitSlop() {
    return this.props.hitSlop;
  },
  touchableGetHighlightDelayMS: function touchableGetHighlightDelayMS() {
    return this.props.delayPressIn;
  },
  touchableGetLongPressDelayMS: function touchableGetLongPressDelayMS() {
    return this.props.delayLongPress;
  },
  touchableGetPressOutDelayMS: function touchableGetPressOutDelayMS() {
    return this.props.delayPressOut;
  },
  _showUnderlay: function _showUnderlay() {
    if (!this._isMounted || !this._hasPressHandler()) {
      return;
    }

    this.setState({
      extraChildStyle: {
        opacity: this.props.activeOpacity
      },
      extraUnderlayStyle: {
        backgroundColor: this.props.underlayColor
      }
    });
    this.props.onShowUnderlay && this.props.onShowUnderlay();
  },
  _hideUnderlay: function _hideUnderlay() {
    clearTimeout(this._hideTimeout);
    this._hideTimeout = null;

    if (this.props.testOnly_pressed) {
      return;
    }

    if (this._hasPressHandler()) {
      this.setState({
        extraChildStyle: null,
        extraUnderlayStyle: null
      });
      this.props.onHideUnderlay && this.props.onHideUnderlay();
    }
  },
  _hasPressHandler: function _hasPressHandler() {
    return !!(this.props.onPress || this.props.onPressIn || this.props.onPressOut || this.props.onLongPress);
  },
  render: function render() {
    var child = React.Children.only(this.props.children);
    return React.createElement(View, {
      accessible: this.props.accessible !== false,
      accessibilityLabel: this.props.accessibilityLabel,
      accessibilityHint: this.props.accessibilityHint,
      accessibilityRole: this.props.accessibilityRole,
      accessibilityStates: this.props.accessibilityStates,
      accessibilityState: this.props.accessibilityState,
      accessibilityActions: this.props.accessibilityActions,
      onAccessibilityAction: this.props.onAccessibilityAction,
      style: StyleSheet.compose(this.props.style, this.state.extraUnderlayStyle),
      onLayout: this.props.onLayout,
      hitSlop: this.props.hitSlop,
      isTVSelectable: true,
      tvParallaxProperties: this.props.tvParallaxProperties,
      hasTVPreferredFocus: this.props.hasTVPreferredFocus,
      nextFocusDown: this.props.nextFocusDown,
      nextFocusForward: this.props.nextFocusForward,
      nextFocusLeft: this.props.nextFocusLeft,
      nextFocusRight: this.props.nextFocusRight,
      nextFocusUp: this.props.nextFocusUp,
      focusable: this.props.focusable !== false && this.props.onPress !== undefined,
      onClick: this.touchableHandlePress,
      onStartShouldSetResponder: this.touchableHandleStartShouldSetResponder,
      onResponderTerminationRequest: this.touchableHandleResponderTerminationRequest,
      onResponderGrant: this.touchableHandleResponderGrant,
      onResponderMove: this.touchableHandleResponderMove,
      onResponderRelease: this.touchableHandleResponderRelease,
      onResponderTerminate: this.touchableHandleResponderTerminate,
      nativeID: this.props.nativeID,
      testID: this.props.testID
    }, React.cloneElement(child, {
      style: StyleSheet.compose(child.props.style, this.state.extraChildStyle)
    }), Touchable.renderDebugView({
      color: 'green',
      hitSlop: this.props.hitSlop
    }));
  }
});
module.exports = TouchableHighlight;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZUhpZ2hsaWdodC5qcyJdLCJuYW1lcyI6WyJEZXByZWNhdGVkQ29sb3JQcm9wVHlwZSIsInJlcXVpcmUiLCJEZXByZWNhdGVkVmlld1Byb3BUeXBlcyIsIk5hdGl2ZU1ldGhvZHNNaXhpbiIsIlBsYXRmb3JtIiwiUHJvcFR5cGVzIiwiUmVhY3QiLCJSZWFjdE5hdGl2ZVZpZXdBdHRyaWJ1dGVzIiwiU3R5bGVTaGVldCIsIlRvdWNoYWJsZSIsIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayIsIlZpZXciLCJjcmVhdGVSZWFjdENsYXNzIiwiZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzIiwiREVGQVVMVF9QUk9QUyIsImFjdGl2ZU9wYWNpdHkiLCJkZWxheVByZXNzT3V0IiwidW5kZXJsYXlDb2xvciIsIlBSRVNTX1JFVEVOVElPTl9PRkZTRVQiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJUb3VjaGFibGVIaWdobGlnaHQiLCJkaXNwbGF5TmFtZSIsInByb3BUeXBlcyIsIm51bWJlciIsInN0eWxlIiwib25TaG93VW5kZXJsYXkiLCJmdW5jIiwib25IaWRlVW5kZXJsYXkiLCJoYXNUVlByZWZlcnJlZEZvY3VzIiwiYm9vbCIsIm5leHRGb2N1c0Rvd24iLCJuZXh0Rm9jdXNGb3J3YXJkIiwibmV4dEZvY3VzTGVmdCIsIm5leHRGb2N1c1JpZ2h0IiwibmV4dEZvY3VzVXAiLCJ0dlBhcmFsbGF4UHJvcGVydGllcyIsIm9iamVjdCIsInRlc3RPbmx5X3ByZXNzZWQiLCJtaXhpbnMiLCJNaXhpbiIsIndpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyIiwiZ2V0RGVmYXVsdFByb3BzIiwiZ2V0SW5pdGlhbFN0YXRlIiwiX2lzTW91bnRlZCIsInByb3BzIiwidG91Y2hhYmxlR2V0SW5pdGlhbFN0YXRlIiwiZXh0cmFDaGlsZFN0eWxlIiwib3BhY2l0eSIsImV4dHJhVW5kZXJsYXlTdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNvbXBvbmVudERpZE1vdW50IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJjbGVhclRpbWVvdXQiLCJfaGlkZVRpbWVvdXQiLCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsInZpZXdDb25maWciLCJ1aVZpZXdDbGFzc05hbWUiLCJ2YWxpZEF0dHJpYnV0ZXMiLCJSQ1RWaWV3IiwidG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbiIsImUiLCJfc2hvd1VuZGVybGF5Iiwib25QcmVzc0luIiwidG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQiLCJfaGlkZVVuZGVybGF5Iiwib25QcmVzc091dCIsInRvdWNoYWJsZUhhbmRsZUZvY3VzIiwiaXNUViIsIm9uRm9jdXMiLCJ0b3VjaGFibGVIYW5kbGVCbHVyIiwib25CbHVyIiwidG91Y2hhYmxlSGFuZGxlUHJlc3MiLCJzZXRUaW1lb3V0Iiwib25QcmVzcyIsInRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzcyIsIm9uTG9uZ1ByZXNzIiwidG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0IiwicHJlc3NSZXRlbnRpb25PZmZzZXQiLCJ0b3VjaGFibGVHZXRIaXRTbG9wIiwiaGl0U2xvcCIsInRvdWNoYWJsZUdldEhpZ2hsaWdodERlbGF5TVMiLCJkZWxheVByZXNzSW4iLCJ0b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TIiwiZGVsYXlMb25nUHJlc3MiLCJ0b3VjaGFibGVHZXRQcmVzc091dERlbGF5TVMiLCJfaGFzUHJlc3NIYW5kbGVyIiwic2V0U3RhdGUiLCJyZW5kZXIiLCJjaGlsZCIsIkNoaWxkcmVuIiwib25seSIsImNoaWxkcmVuIiwiYWNjZXNzaWJsZSIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImFjY2Vzc2liaWxpdHlIaW50IiwiYWNjZXNzaWJpbGl0eVJvbGUiLCJhY2Nlc3NpYmlsaXR5U3RhdGVzIiwiYWNjZXNzaWJpbGl0eVN0YXRlIiwiYWNjZXNzaWJpbGl0eUFjdGlvbnMiLCJvbkFjY2Vzc2liaWxpdHlBY3Rpb24iLCJjb21wb3NlIiwic3RhdGUiLCJvbkxheW91dCIsImZvY3VzYWJsZSIsInVuZGVmaW5lZCIsInRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0IiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyR3JhbnQiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJNb3ZlIiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0ZSIsIm5hdGl2ZUlEIiwidGVzdElEIiwiY2xvbmVFbGVtZW50IiwicmVuZGVyRGVidWdWaWV3IiwiY29sb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFTQTs7Ozs7Ozs7OztBQUVBLElBQU1BLHVCQUF1QixHQUFHQyxPQUFPLENBQUMsbURBQUQsQ0FBdkM7O0FBQ0EsSUFBTUMsdUJBQXVCLEdBQUdELE9BQU8sQ0FBQyxtREFBRCxDQUF2Qzs7QUFDQSxJQUFNRSxrQkFBa0IsR0FBR0YsT0FBTyxDQUFDLHlDQUFELENBQWxDOztBQUNBLElBQU1HLFFBQVEsR0FBR0gsT0FBTyxDQUFDLDBCQUFELENBQXhCOztBQUNBLElBQU1JLFNBQVMsR0FBR0osT0FBTyxDQUFDLFlBQUQsQ0FBekI7O0FBQ0EsSUFBTUssS0FBSyxHQUFHTCxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxJQUFNTSx5QkFBeUIsR0FBR04sT0FBTyxDQUFDLG1DQUFELENBQXpDOztBQUNBLElBQU1PLFVBQVUsR0FBR1AsT0FBTyxDQUFDLDZCQUFELENBQTFCOztBQUNBLElBQU1RLFNBQVMsR0FBR1IsT0FBTyxDQUFDLGFBQUQsQ0FBekI7O0FBQ0EsSUFBTVMsd0JBQXdCLEdBQUdULE9BQU8sQ0FBQyw0QkFBRCxDQUF4Qzs7QUFDQSxJQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyxjQUFELENBQXBCOztBQUVBLElBQU1XLGdCQUFnQixHQUFH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LEVBQUUsS0FBS3BDLEtBQUwsQ0FBV29DO0FBRkssS0FBMUIsQ0EzQ0gsQ0FERjtBQWtERDtBQWxTMkMsQ0FBRCxDQUE3QztBQXFTQXFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmxHLGtCQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBEZXByZWNhdGVkQ29sb3JQcm9wVHlwZSA9IHJlcXVpcmUoJy4uLy4uL0RlcHJlY2F0ZWRQcm9wVHlwZXMvRGVwcmVjYXRlZENvbG9yUHJvcFR5cGUnKTtcbmNvbnN0IERlcHJlY2F0ZWRWaWV3UHJvcFR5cGVzID0gcmVxdWlyZSgnLi4vLi4vRGVwcmVjYXRlZFByb3BUeXBlcy9EZXByZWNhdGVkVmlld1Byb3BUeXBlcycpO1xuY29uc3QgTmF0aXZlTWV0aG9kc01peGluID0gcmVxdWlyZSgnLi4vLi4vUmVuZGVyZXIvc2hpbXMvTmF0aXZlTWV0aG9kc01peGluJyk7XG5jb25zdCBQbGF0Zm9ybSA9IHJlcXVpcmUoJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybScpO1xuY29uc3QgUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3ROYXRpdmVWaWV3QXR0cmlidXRlcyA9IHJlcXVpcmUoJy4uL1ZpZXcvUmVhY3ROYXRpdmVWaWV3QXR0cmlidXRlcycpO1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCcpO1xuY29uc3QgVG91Y2hhYmxlID0gcmVxdWlyZSgnLi9Ub3VjaGFibGUnKTtcbmNvbnN0IFRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayA9IHJlcXVpcmUoJy4vVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrJyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnLi4vVmlldy9WaWV3Jyk7XG5cbmNvbnN0IGNyZWF0ZVJlYWN0Q2xhc3MgPSByZXF1aXJlKCdjcmVhdGUtcmVhY3QtY2xhc3MnKTtcbmNvbnN0IGVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyA9IHJlcXVpcmUoJy4vZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzJyk7XG5cbmltcG9ydCB0eXBlIHtQcmVzc0V2ZW50fSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7Vmlld1N0eWxlUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtDb2xvclZhbHVlfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7UHJvcHMgYXMgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrUHJvcHN9IGZyb20gJy4vVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrJztcbmltcG9ydCB0eXBlIHtUVlBhcmFsbGF4UHJvcGVydGllc1R5cGV9IGZyb20gJy4uL0FwcGxlVFYvVFZWaWV3UHJvcFR5cGVzJztcblxuY29uc3QgREVGQVVMVF9QUk9QUyA9IHtcbiAgYWN0aXZlT3BhY2l0eTogMC44NSxcbiAgZGVsYXlQcmVzc091dDogMTAwLFxuICB1bmRlcmxheUNvbG9yOiAnYmxhY2snLFxufTtcblxuY29uc3QgUFJFU1NfUkVURU5USU9OX09GRlNFVCA9IHt0b3A6IDIwLCBsZWZ0OiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwfTtcblxudHlwZSBJT1NQcm9wcyA9ICRSZWFkT25seTx7fFxuICBoYXNUVlByZWZlcnJlZEZvY3VzPzogP2Jvb2xlYW4sXG4gIHR2UGFyYWxsYXhQcm9wZXJ0aWVzPzogP1RWUGFyYWxsYXhQcm9wZXJ0aWVzVHlwZSxcbnx9PjtcblxudHlwZSBBbmRyb2lkUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgbmV4dEZvY3VzRG93bj86ID9udW1iZXIsXG4gIG5leHRGb2N1c0ZvcndhcmQ/OiA/bnVtYmVyLFxuICBuZXh0Rm9jdXNMZWZ0PzogP251bWJlcixcbiAgbmV4dEZvY3VzUmlnaHQ/OiA/bnVtYmVyLFxuICBuZXh0Rm9jdXNVcD86ID9udW1iZXIsXG58fT47XG5cbnR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLi4uVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrUHJvcHMsXG4gIC4uLklPU1Byb3BzLFxuICAuLi5BbmRyb2lkUHJvcHMsXG5cbiAgYWN0aXZlT3BhY2l0eT86ID9udW1iZXIsXG4gIHVuZGVybGF5Q29sb3I/OiA/Q29sb3JWYWx1ZSxcbiAgc3R5bGU/OiA/Vmlld1N0eWxlUHJvcCxcbiAgb25TaG93VW5kZXJsYXk/OiA/KCkgPT4gdm9pZCxcbiAgb25IaWRlVW5kZXJsYXk/OiA/KCkgPT4gdm9pZCxcbiAgdGVzdE9ubHlfcHJlc3NlZD86ID9ib29sZWFuLFxufH0+O1xuXG4vKipcbiAqIEEgd3JhcHBlciBmb3IgbWFraW5nIHZpZXdzIHJlc3BvbmQgcHJvcGVybHkgdG8gdG91Y2hlcy5cbiAqIE9uIHByZXNzIGRvd24sIHRoZSBvcGFjaXR5IG9mIHRoZSB3cmFwcGVkIHZpZXcgaXMgZGVjcmVhc2VkLCB3aGljaCBhbGxvd3NcbiAqIHRoZSB1bmRlcmxheSBjb2xvciB0byBzaG93IHRocm91Z2gsIGRhcmtlbmluZyBvciB0aW50aW5nIHRoZSB2aWV3LlxuICpcbiAqIFRoZSB1bmRlcmxheSBjb21lcyBmcm9tIHdyYXBwaW5nIHRoZSBjaGlsZCBpbiBhIG5ldyBWaWV3LCB3aGljaCBjYW4gYWZmZWN0XG4gKiBsYXlvdXQsIGFuZCBzb21ldGltZXMgY2F1c2UgdW53YW50ZWQgdmlzdWFsIGFydGlmYWN0cyBpZiBub3QgdXNlZCBjb3JyZWN0bHksXG4gKiBmb3IgZXhhbXBsZSBpZiB0aGUgYmFja2dyb3VuZENvbG9yIG9mIHRoZSB3cmFwcGVkIHZpZXcgaXNuJ3QgZXhwbGljaXRseSBzZXRcbiAqIHRvIGFuIG9wYXF1ZSBjb2xvci5cbiAqXG4gKiBUb3VjaGFibGVIaWdobGlnaHQgbXVzdCBoYXZlIG9uZSBjaGlsZCAobm90IHplcm8gb3IgbW9yZSB0aGFuIG9uZSkuXG4gKiBJZiB5b3Ugd2lzaCB0byBoYXZlIHNldmVyYWwgY2hpbGQgY29tcG9uZW50cywgd3JhcCB0aGVtIGluIGEgVmlldy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogcmVuZGVyQnV0dG9uOiBmdW5jdGlvbigpIHtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8VG91Y2hhYmxlSGlnaGxpZ2h0IG9uUHJlc3M9e3RoaXMuX29uUHJlc3NCdXR0b259PlxuICogICAgICAgPEltYWdlXG4gKiAgICAgICAgIHN0eWxlPXtzdHlsZXMuYnV0dG9ufVxuICogICAgICAgICBzb3VyY2U9e3JlcXVpcmUoJy4vbXlCdXR0b24ucG5nJyl9XG4gKiAgICAgICAvPlxuICogICAgIDwvVG91Y2hhYmxlSGlnaGxpZ2h0PlxuICogICApO1xuICogfSxcbiAqIGBgYFxuICpcbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFJlYWN0TmF0aXZlV2ViUGxheWVyXG4gKiBpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG4gKiBpbXBvcnQge1xuICogICBBcHBSZWdpc3RyeSxcbiAqICAgU3R5bGVTaGVldCxcbiAqICAgVG91Y2hhYmxlSGlnaGxpZ2h0LFxuICogICBUZXh0LFxuICogICBWaWV3LFxuICogfSBmcm9tICdyZWFjdC1uYXRpdmUnXG4gKlxuICogY2xhc3MgQXBwIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAqICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAqICAgICBzdXBlcihwcm9wcylcbiAqICAgICB0aGlzLnN0YXRlID0geyBjb3VudDogMCB9XG4gKiAgIH1cbiAqXG4gKiAgIG9uUHJlc3MgPSAoKSA9PiB7XG4gKiAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gKiAgICAgICBjb3VudDogdGhpcy5zdGF0ZS5jb3VudCsxXG4gKiAgICAgfSlcbiAqICAgfVxuICpcbiAqICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuY29udGFpbmVyfT5cbiAqICAgICAgICAgPFRvdWNoYWJsZUhpZ2hsaWdodFxuICogICAgICAgICAgc3R5bGU9e3N0eWxlcy5idXR0b259XG4gKiAgICAgICAgICBvblByZXNzPXt0aGlzLm9uUHJlc3N9XG4gKiAgICAgICAgID5cbiAqICAgICAgICAgIDxUZXh0PiBUb3VjaCBIZXJlIDwvVGV4dD5cbiAqICAgICAgICAgPC9Ub3VjaGFibGVIaWdobGlnaHQ+XG4gKiAgICAgICAgIDxWaWV3IHN0eWxlPXtbc3R5bGVzLmNvdW50Q29udGFpbmVyXX0+XG4gKiAgICAgICAgICAgPFRleHQgc3R5bGU9e1tzdHlsZXMuY291bnRUZXh0XX0+XG4gKiAgICAgICAgICAgICB7IHRoaXMuc3RhdGUuY291bnQgIT09IDAgPyB0aGlzLnN0YXRlLmNvdW50OiBudWxsfVxuICogICAgICAgICAgIDwvVGV4dD5cbiAqICAgICAgICAgPC9WaWV3PlxuICogICAgICAgPC9WaWV3PlxuICogICAgIClcbiAqICAgfVxuICogfVxuICpcbiAqIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAqICAgY29udGFpbmVyOiB7XG4gKiAgICAgZmxleDogMSxcbiAqICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gKiAgICAgcGFkZGluZ0hvcml6b250YWw6IDEwXG4gKiAgIH0sXG4gKiAgIGJ1dHRvbjoge1xuICogICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICogICAgIGJhY2tncm91bmRDb2xvcjogJyNEREREREQnLFxuICogICAgIHBhZGRpbmc6IDEwXG4gKiAgIH0sXG4gKiAgIGNvdW50Q29udGFpbmVyOiB7XG4gKiAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gKiAgICAgcGFkZGluZzogMTBcbiAqICAgfSxcbiAqICAgY291bnRUZXh0OiB7XG4gKiAgICAgY29sb3I6ICcjRkYwMEZGJ1xuICogICB9XG4gKiB9KVxuICpcbiAqIEFwcFJlZ2lzdHJ5LnJlZ2lzdGVyQ29tcG9uZW50KCdBcHAnLCAoKSA9PiBBcHApXG4gKiBgYGBcbiAqXG4gKi9cblxuY29uc3QgVG91Y2hhYmxlSGlnaGxpZ2h0ID0gKChjcmVhdGVSZWFjdENsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdUb3VjaGFibGVIaWdobGlnaHQnLFxuICBwcm9wVHlwZXM6IHtcbiAgICAvKiAkRmxvd0ZpeE1lKD49MC44OS4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC44OSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzXG4gICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgLi4uVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrLnByb3BUeXBlcyxcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoYXQgdGhlIG9wYWNpdHkgb2YgdGhlIHdyYXBwZWQgdmlldyBzaG91bGQgYmUgd2hlbiB0b3VjaCBpc1xuICAgICAqIGFjdGl2ZS5cbiAgICAgKi9cbiAgICBhY3RpdmVPcGFjaXR5OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xvciBvZiB0aGUgdW5kZXJsYXkgdGhhdCB3aWxsIHNob3cgdGhyb3VnaCB3aGVuIHRoZSB0b3VjaCBpc1xuICAgICAqIGFjdGl2ZS5cbiAgICAgKi9cbiAgICB1bmRlcmxheUNvbG9yOiBEZXByZWNhdGVkQ29sb3JQcm9wVHlwZSxcbiAgICAvKipcbiAgICAgKiBTdHlsZSB0byBhcHBseSB0byB0aGUgY29udGFpbmVyL3VuZGVybGF5LiBNb3N0IGNvbW1vbmx5IHVzZWQgdG8gbWFrZSBzdXJlXG4gICAgICogcm91bmRlZCBjb3JuZXJzIG1hdGNoIHRoZSB3cmFwcGVkIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzdHlsZTogRGVwcmVjYXRlZFZpZXdQcm9wVHlwZXMuc3R5bGUsXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSB1bmRlcmxheSBpcyBzaG93blxuICAgICAqL1xuICAgIG9uU2hvd1VuZGVybGF5OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIHVuZGVybGF5IGlzIGhpZGRlblxuICAgICAqL1xuICAgIG9uSGlkZVVuZGVybGF5OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiAqKEFwcGxlIFRWIG9ubHkpKiBUViBwcmVmZXJyZWQgZm9jdXMgKHNlZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgVmlldyBjb21wb25lbnQpLlxuICAgICAqXG4gICAgICogQHBsYXRmb3JtIGlvc1xuICAgICAqL1xuICAgIGhhc1RWUHJlZmVycmVkRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIFRWIG5leHQgZm9jdXMgZG93biAoc2VlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBWaWV3IGNvbXBvbmVudCkuXG4gICAgICpcbiAgICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgICAqL1xuICAgIG5leHRGb2N1c0Rvd246IFByb3BUeXBlcy5udW1iZXIsXG4gICAgLyoqXG4gICAgICogVFYgbmV4dCBmb2N1cyBmb3J3YXJkIChzZWUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIFZpZXcgY29tcG9uZW50KS5cbiAgICAgKlxuICAgICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAgICovXG4gICAgbmV4dEZvY3VzRm9yd2FyZDogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBUViBuZXh0IGZvY3VzIGxlZnQgKHNlZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgVmlldyBjb21wb25lbnQpLlxuICAgICAqXG4gICAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICAgKi9cbiAgICBuZXh0Rm9jdXNMZWZ0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8qKlxuICAgICAqIFRWIG5leHQgZm9jdXMgcmlnaHQgKHNlZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgVmlldyBjb21wb25lbnQpLlxuICAgICAqXG4gICAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICAgKi9cbiAgICBuZXh0Rm9jdXNSaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBUViBuZXh0IGZvY3VzIHVwIChzZWUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIFZpZXcgY29tcG9uZW50KS5cbiAgICAgKlxuICAgICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAgICovXG4gICAgbmV4dEZvY3VzVXA6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgLyoqXG4gICAgICogKihBcHBsZSBUViBvbmx5KSogT2JqZWN0IHdpdGggcHJvcGVydGllcyB0byBjb250cm9sIEFwcGxlIFRWIHBhcmFsbGF4IGVmZmVjdHMuXG4gICAgICpcbiAgICAgKiBlbmFibGVkOiBJZiB0cnVlLCBwYXJhbGxheCBlZmZlY3RzIGFyZSBlbmFibGVkLiAgRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgKiBzaGlmdERpc3RhbmNlWDogRGVmYXVsdHMgdG8gMi4wLlxuICAgICAqIHNoaWZ0RGlzdGFuY2VZOiBEZWZhdWx0cyB0byAyLjAuXG4gICAgICogdGlsdEFuZ2xlOiBEZWZhdWx0cyB0byAwLjA1LlxuICAgICAqIG1hZ25pZmljYXRpb246IERlZmF1bHRzIHRvIDEuMC5cbiAgICAgKiBwcmVzc01hZ25pZmljYXRpb246IERlZmF1bHRzIHRvIDEuMC5cbiAgICAgKiBwcmVzc0R1cmF0aW9uOiBEZWZhdWx0cyB0byAwLjMuXG4gICAgICogcHJlc3NEZWxheTogRGVmYXVsdHMgdG8gMC4wLlxuICAgICAqXG4gICAgICogQHBsYXRmb3JtIGlvc1xuICAgICAqL1xuICAgIHR2UGFyYWxsYXhQcm9wZXJ0aWVzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIC8qKlxuICAgICAqIEhhbmR5IGZvciBzbmFwc2hvdCB0ZXN0cy5cbiAgICAgKi9cbiAgICB0ZXN0T25seV9wcmVzc2VkOiBQcm9wVHlwZXMuYm9vbCxcbiAgfSxcblxuICBtaXhpbnM6IFtOYXRpdmVNZXRob2RzTWl4aW4sIFRvdWNoYWJsZS5NaXhpbi53aXRob3V0RGVmYXVsdEZvY3VzQW5kQmx1cl0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiAoKSA9PiBERUZBVUxUX1BST1BTLFxuXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5faXNNb3VudGVkID0gZmFsc2U7XG4gICAgaWYgKHRoaXMucHJvcHMudGVzdE9ubHlfcHJlc3NlZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udGhpcy50b3VjaGFibGVHZXRJbml0aWFsU3RhdGUoKSxcbiAgICAgICAgZXh0cmFDaGlsZFN0eWxlOiB7XG4gICAgICAgICAgb3BhY2l0eTogdGhpcy5wcm9wcy5hY3RpdmVPcGFjaXR5LFxuICAgICAgICB9LFxuICAgICAgICBleHRyYVVuZGVybGF5U3R5bGU6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcHMudW5kZXJsYXlDb2xvcixcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoaXMudG91Y2hhYmxlR2V0SW5pdGlhbFN0YXRlKCksXG4gICAgICAgIGV4dHJhQ2hpbGRTdHlsZTogbnVsbCxcbiAgICAgICAgZXh0cmFVbmRlcmxheVN0eWxlOiBudWxsLFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2lzTW91bnRlZCA9IHRydWU7XG4gICAgZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzKHRoaXMucHJvcHMpO1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9pc01vdW50ZWQgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXQpO1xuICB9LFxuXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHMpIHtcbiAgICBlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMobmV4dFByb3BzKTtcbiAgfSxcblxuICB2aWV3Q29uZmlnOiB7XG4gICAgdWlWaWV3Q2xhc3NOYW1lOiAnUkNUVmlldycsXG4gICAgdmFsaWRBdHRyaWJ1dGVzOiBSZWFjdE5hdGl2ZVZpZXdBdHRyaWJ1dGVzLlJDVFZpZXcsXG4gIH0sXG5cbiAgLyoqXG4gICAqIGBUb3VjaGFibGUuTWl4aW5gIHNlbGYgY2FsbGJhY2tzLiBUaGUgbWl4aW4gd2lsbCBpbnZva2UgdGhlc2UgaWYgdGhleSBhcmVcbiAgICogZGVmaW5lZCBvbiB5b3VyIGNvbXBvbmVudC5cbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW46IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXQpO1xuICAgIHRoaXMuX2hpZGVUaW1lb3V0ID0gbnVsbDtcbiAgICB0aGlzLl9zaG93VW5kZXJsYXkoKTtcbiAgICB0aGlzLnByb3BzLm9uUHJlc3NJbiAmJiB0aGlzLnByb3BzLm9uUHJlc3NJbihlKTtcbiAgfSxcblxuICB0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dDogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIGlmICghdGhpcy5faGlkZVRpbWVvdXQpIHtcbiAgICAgIHRoaXMuX2hpZGVVbmRlcmxheSgpO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uUHJlc3NPdXQgJiYgdGhpcy5wcm9wcy5vblByZXNzT3V0KGUpO1xuICB9LFxuXG4gIHRvdWNoYWJsZUhhbmRsZUZvY3VzOiBmdW5jdGlvbihlOiBFdmVudCkge1xuICAgIGlmIChQbGF0Zm9ybS5pc1RWKSB7XG4gICAgICB0aGlzLl9zaG93VW5kZXJsYXkoKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkZvY3VzICYmIHRoaXMucHJvcHMub25Gb2N1cyhlKTtcbiAgfSxcblxuICB0b3VjaGFibGVIYW5kbGVCbHVyOiBmdW5jdGlvbihlOiBFdmVudCkge1xuICAgIGlmIChQbGF0Zm9ybS5pc1RWKSB7XG4gICAgICB0aGlzLl9oaWRlVW5kZXJsYXkoKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkJsdXIgJiYgdGhpcy5wcm9wcy5vbkJsdXIoZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlSGFuZGxlUHJlc3M6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXQpO1xuICAgIGlmICghUGxhdGZvcm0uaXNUVikge1xuICAgICAgdGhpcy5fc2hvd1VuZGVybGF5KCk7XG4gICAgICB0aGlzLl9oaWRlVGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICAgIHRoaXMuX2hpZGVVbmRlcmxheSxcbiAgICAgICAgdGhpcy5wcm9wcy5kZWxheVByZXNzT3V0LFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vblByZXNzICYmIHRoaXMucHJvcHMub25QcmVzcyhlKTtcbiAgfSxcblxuICB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3M6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uTG9uZ1ByZXNzICYmIHRoaXMucHJvcHMub25Mb25nUHJlc3MoZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5wcmVzc1JldGVudGlvbk9mZnNldCB8fCBQUkVTU19SRVRFTlRJT05fT0ZGU0VUO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldEhpdFNsb3A6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmhpdFNsb3A7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGVsYXlQcmVzc0luO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRlbGF5TG9uZ1ByZXNzO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGVsYXlQcmVzc091dDtcbiAgfSxcblxuICBfc2hvd1VuZGVybGF5OiBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuX2lzTW91bnRlZCB8fCAhdGhpcy5faGFzUHJlc3NIYW5kbGVyKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBleHRyYUNoaWxkU3R5bGU6IHtcbiAgICAgICAgb3BhY2l0eTogdGhpcy5wcm9wcy5hY3RpdmVPcGFjaXR5LFxuICAgICAgfSxcbiAgICAgIGV4dHJhVW5kZXJsYXlTdHlsZToge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcHMudW5kZXJsYXlDb2xvcixcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5vblNob3dVbmRlcmxheSAmJiB0aGlzLnByb3BzLm9uU2hvd1VuZGVybGF5KCk7XG4gIH0sXG5cbiAgX2hpZGVVbmRlcmxheTogZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KTtcbiAgICB0aGlzLl9oaWRlVGltZW91dCA9IG51bGw7XG4gICAgaWYgKHRoaXMucHJvcHMudGVzdE9ubHlfcHJlc3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5faGFzUHJlc3NIYW5kbGVyKCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBleHRyYUNoaWxkU3R5bGU6IG51bGwsXG4gICAgICAgIGV4dHJhVW5kZXJsYXlTdHlsZTogbnVsbCxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wcm9wcy5vbkhpZGVVbmRlcmxheSAmJiB0aGlzLnByb3BzLm9uSGlkZVVuZGVybGF5KCk7XG4gICAgfVxuICB9LFxuXG4gIF9oYXNQcmVzc0hhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAhIShcbiAgICAgIHRoaXMucHJvcHMub25QcmVzcyB8fFxuICAgICAgdGhpcy5wcm9wcy5vblByZXNzSW4gfHxcbiAgICAgIHRoaXMucHJvcHMub25QcmVzc091dCB8fFxuICAgICAgdGhpcy5wcm9wcy5vbkxvbmdQcmVzc1xuICAgICk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBjaGlsZCA9IFJlYWN0LkNoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3XG4gICAgICAgIGFjY2Vzc2libGU9e3RoaXMucHJvcHMuYWNjZXNzaWJsZSAhPT0gZmFsc2V9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbD17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5TGFiZWx9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlIaW50PXt0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlIaW50fVxuICAgICAgICBhY2Nlc3NpYmlsaXR5Um9sZT17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5Um9sZX1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVN0YXRlcz17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGVzfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5U3RhdGU9e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eVN0YXRlfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5QWN0aW9ucz17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5QWN0aW9uc31cbiAgICAgICAgb25BY2Nlc3NpYmlsaXR5QWN0aW9uPXt0aGlzLnByb3BzLm9uQWNjZXNzaWJpbGl0eUFjdGlvbn1cbiAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICB0aGlzLnByb3BzLnN0eWxlLFxuICAgICAgICAgIHRoaXMuc3RhdGUuZXh0cmFVbmRlcmxheVN0eWxlLFxuICAgICAgICApfVxuICAgICAgICBvbkxheW91dD17dGhpcy5wcm9wcy5vbkxheW91dH1cbiAgICAgICAgaGl0U2xvcD17dGhpcy5wcm9wcy5oaXRTbG9wfVxuICAgICAgICBpc1RWU2VsZWN0YWJsZT17dHJ1ZX1cbiAgICAgICAgdHZQYXJhbGxheFByb3BlcnRpZXM9e3RoaXMucHJvcHMudHZQYXJhbGxheFByb3BlcnRpZXN9XG4gICAgICAgIGhhc1RWUHJlZmVycmVkRm9jdXM9e3RoaXMucHJvcHMuaGFzVFZQcmVmZXJyZWRGb2N1c31cbiAgICAgICAgbmV4dEZvY3VzRG93bj17dGhpcy5wcm9wcy5uZXh0Rm9jdXNEb3dufVxuICAgICAgICBuZXh0Rm9jdXNGb3J3YXJkPXt0aGlzLnByb3BzLm5leHRGb2N1c0ZvcndhcmR9XG4gICAgICAgIG5leHRGb2N1c0xlZnQ9e3RoaXMucHJvcHMubmV4dEZvY3VzTGVmdH1cbiAgICAgICAgbmV4dEZvY3VzUmlnaHQ9e3RoaXMucHJvcHMubmV4dEZvY3VzUmlnaHR9XG4gICAgICAgIG5leHRGb2N1c1VwPXt0aGlzLnByb3BzLm5leHRGb2N1c1VwfVxuICAgICAgICBmb2N1c2FibGU9e1xuICAgICAgICAgIHRoaXMucHJvcHMuZm9jdXNhYmxlICE9PSBmYWxzZSAmJiB0aGlzLnByb3BzLm9uUHJlc3MgIT09IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMudG91Y2hhYmxlSGFuZGxlUHJlc3N9XG4gICAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI9e3RoaXMudG91Y2hhYmxlSGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJ9XG4gICAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0PXtcbiAgICAgICAgICB0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdFxuICAgICAgICB9XG4gICAgICAgIG9uUmVzcG9uZGVyR3JhbnQ9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyR3JhbnR9XG4gICAgICAgIG9uUmVzcG9uZGVyTW92ZT17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJNb3ZlfVxuICAgICAgICBvblJlc3BvbmRlclJlbGVhc2U9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZX1cbiAgICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGU9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRlfVxuICAgICAgICBuYXRpdmVJRD17dGhpcy5wcm9wcy5uYXRpdmVJRH1cbiAgICAgICAgdGVzdElEPXt0aGlzLnByb3BzLnRlc3RJRH0+XG4gICAgICAgIHtSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICBzdHlsZTogU3R5bGVTaGVldC5jb21wb3NlKFxuICAgICAgICAgICAgY2hpbGQucHJvcHMuc3R5bGUsXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmV4dHJhQ2hpbGRTdHlsZSxcbiAgICAgICAgICApLFxuICAgICAgICB9KX1cbiAgICAgICAge1RvdWNoYWJsZS5yZW5kZXJEZWJ1Z1ZpZXcoe1xuICAgICAgICAgIGNvbG9yOiAnZ3JlZW4nLFxuICAgICAgICAgIGhpdFNsb3A6IHRoaXMucHJvcHMuaGl0U2xvcCxcbiAgICAgICAgfSl9XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcbiAgfSxcbn0pOiBhbnkpOiBSZWFjdC5Db21wb25lbnRUeXBlPFByb3BzPik7XG5cbm1vZHVsZS5leHBvcnRzID0gVG91Y2hhYmxlSGlnaGxpZ2h0O1xuIl19