96fc315886a3a3d8814a53ea1f53ce5b
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));

function stringifySafe(arg) {
  var ret;
  var type = (0, _typeof2["default"])(arg);

  if (arg === undefined) {
    ret = 'undefined';
  } else if (arg === null) {
    ret = 'null';
  } else if (type === 'string') {
    ret = '"' + arg + '"';
  } else if (type === 'function') {
    try {
      ret = arg.toString();
    } catch (e) {
      ret = '[function unknown]';
    }
  } else if (arg instanceof Error) {
    ret = arg.name + ': ' + arg.message;
  } else {
    try {
      ret = JSON.stringify(arg);
    } catch (e) {
      if (typeof arg.toString === 'function') {
        try {
          ret = arg.toString();
        } catch (E) {}
      }
    }
  }

  return ret || '["' + type + '" failed to stringify]';
}

module.exports = stringifySafe;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmluZ2lmeVNhZmUuanMiXSwibmFtZXMiOlsic3RyaW5naWZ5U2FmZSIsImFyZyIsInJldCIsInR5cGUiLCJ1bmRlZmluZWQiLCJ0b1N0cmluZyIsImUiLCJFcnJvciIsIm5hbWUiLCJtZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsIkUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFVQTs7Ozs7O0FBTUEsU0FBU0EsYUFBVCxDQUF1QkMsR0FBdkIsRUFBeUM7QUFDdkMsTUFBSUMsR0FBSjtBQUNBLE1BQU1DLElBQUksNEJBQVVGLEdBQVYsQ0FBVjs7QUFDQSxNQUFJQSxHQUFHLEtBQUtHLFNBQVosRUFBdUI7QUFDckJGLElBQUFBLEdBQUcsR0FBRyxXQUFOO0FBQ0QsR0FGRCxNQUVPLElBQUlELEdBQUcsS0FBSyxJQUFaLEVBQWtCO0FBQ3ZCQyxJQUFBQSxHQUFHLEdBQUcsTUFBTjtBQUNELEdBRk0sTUFFQSxJQUFJQyxJQUFJLEtBQUssUUFBYixFQUF1QjtBQUM1QkQsSUFBQUEsR0FBRyxHQUFHLE1BQU1ELEdBQU4sR0FBWSxHQUFsQjtBQUNELEdBRk0sTUFFQSxJQUFJRSxJQUFJLEtBQUssVUFBYixFQUF5QjtBQUM5QixRQUFJO0FBQ0ZELE1BQUFBLEdBQUcsR0FBR0QsR0FBRyxDQUFDSSxRQUFKLEVBQU47QUFDRCxLQUZELENBRUUsT0FBT0MsQ0FBUCxFQUFVO0FBQ1ZKLE1BQUFBLEdBQUcsR0FBRyxvQkFBTjtBQUNEO0FBQ0YsR0FOTSxNQU1BLElBQUlELEdBQUcsWUFBWU0sS0FBbkIsRUFBMEI7QUFDL0JMLElBQUFBLEdBQUcsR0FBR0QsR0FBRyxDQUFDTyxJQUFKLEdBQVcsSUFBWCxHQUFrQlAsR0FBRyxDQUFDUSxPQUE1QjtBQUNELEdBRk0sTUFFQTtBQUdMLFFBQUk7QUFDRlAsTUFBQUEsR0FBRyxHQUFHUSxJQUFJLENBQUNDLFNBQUwsQ0FBZVYsR0FBZixDQUFOO0FBQ0QsS0FGRCxDQUVFLE9BQU9LLENBQVAsRUFBVTtBQUNWLFVBQUksT0FBT0wsR0FBRyxDQUFDSSxRQUFYLEtBQXdCLFVBQTVCLEVBQXdDO0FBQ3RDLFlBQUk7QUFDRkgsVUFBQUEsR0FBRyxHQUFHRCxHQUFHLENBQUNJLFFBQUosRUFBTjtBQUNELFNBRkQsQ0FFRSxPQUFPTyxDQUFQLEVBQVUsQ0FBRTtBQUNmO0FBQ0Y7QUFDRjs7QUFDRCxTQUFPVixHQUFHLElBQUksT0FBT0MsSUFBUCxHQUFjLHdCQUE1QjtBQUNEOztBQUVEVSxNQUFNLENBQUNDLE9BQVAsR0FBaUJkLGFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvd1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUcmllcyB0byBzdHJpbmdpZnkgd2l0aCBKU09OLnN0cmluZ2lmeSBhbmQgdG9TdHJpbmcsIGJ1dCBjYXRjaGVzIGV4Y2VwdGlvbnNcbiAqIChlLmcuIGZyb20gY2lyY3VsYXIgb2JqZWN0cykgYW5kIGFsd2F5cyByZXR1cm5zIGEgc3RyaW5nIGFuZCBuZXZlciB0aHJvd3MuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVNhZmUoYXJnOiBhbnkpOiBzdHJpbmcge1xuICBsZXQgcmV0O1xuICBjb25zdCB0eXBlID0gdHlwZW9mIGFyZztcbiAgaWYgKGFyZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0ID0gJ3VuZGVmaW5lZCc7XG4gIH0gZWxzZSBpZiAoYXJnID09PSBudWxsKSB7XG4gICAgcmV0ID0gJ251bGwnO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0ID0gJ1wiJyArIGFyZyArICdcIic7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXQgPSBhcmcudG9TdHJpbmcoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXQgPSAnW2Z1bmN0aW9uIHVua25vd25dJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXQgPSBhcmcubmFtZSArICc6ICcgKyBhcmcubWVzc2FnZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBQZXJmb3JtIGEgdHJ5IGNhdGNoLCBqdXN0IGluIGNhc2UgdGhlIG9iamVjdCBoYXMgYSBjaXJjdWxhclxuICAgIC8vIHJlZmVyZW5jZSBvciBzdHJpbmdpZnkgdGhyb3dzIGZvciBzb21lIG90aGVyIHJlYXNvbi5cbiAgICB0cnkge1xuICAgICAgcmV0ID0gSlNPTi5zdHJpbmdpZnkoYXJnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAodHlwZW9mIGFyZy50b1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldCA9IGFyZy50b1N0cmluZygpO1xuICAgICAgICB9IGNhdGNoIChFKSB7fVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0IHx8ICdbXCInICsgdHlwZSArICdcIiBmYWlsZWQgdG8gc3RyaW5naWZ5XSc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RyaW5naWZ5U2FmZTtcbiJdfQ==